!function(){"use strict";const e=new WeakMap,t="--disabled";class n extends HTMLElement{attachInternals(){const t=super.attachInternals();return e.set(this,t),t}get disabled(){return this.hasAttribute("disabled")}set disabled(e){this.toggleAttribute("disabled",e)}attributeChangedCallback(n,r,s){if("disabled"===n){const n=e.get(this);"string"==typeof s?(n.ariaDisabled="true",n.states.add(t)):(n.ariaDisabled="false",n.states.delete(t))}}connectedCallback(){e.has(this)||this.attachInternals();const t=e.get(this);this.hasAttribute("role")||"string"==typeof t.role||(t.role="button"),this.hasAttribute("tabindex")||(this.tabIndex=0)}static get observedAttributes(){return["disabled"]}}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */const r=window.customElements instanceof Object;
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
const s=(e,t,n)=>{return"number"==typeof(r=t)&&!Number.isNaN(r)&&t>=e&&t<=n;
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */var r};const a=function(){const e=document.createElement("div"),t={nativeSignal:"AbortController"in globalThis&&AbortController.prototype.hasOwnProperty("signal"),signal:!1,passive:!1,capture:!1,once:!1},n={get passive(){t.passive=!0},get signal(){t.signal=!0},get capture(){t.capture=!0},get once(){t.once=!0}};try{e.addEventListener("click",null,n),e.removeEventListener("click",null,n)}catch(e){console.error(e)}return Object.seal(t)}();function i(e,t,n,{capture:r,once:s,passive:i,signal:o}={}){o instanceof EventTarget&&o.aborted||(e.addEventListener(t,n,{capture:r,once:s,passive:i,signal:o}),!1===a.signal&&o instanceof EventTarget&&w(o).finally((()=>e.removeEventListener(t,n,{capture:r,once:s,passive:i,signal:o}))))}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */function o(e,t,n,{elementNs:r,policy:s}={}){switch(function(e,t,n){return c()?trustedTypes.getAttributeType(e.toLowerCase(),t,n):null}(e.tagName,t,r)){case"TrustedScriptURL":"string"==typeof r?e.setAttributeNs(r,t,f(n,{policy:s})):e.setAttribute(t,f(n,{policy:s}));break;case"TrustedScript":"string"==typeof r?e.setAttributeNS(r,t,g(n,{policy:s})):e.setAttribute(t,g(n,{policy:s}));break;case"TrustedHTML":"string"==typeof r?e.setAttributeNS(r,t,p(n,{policy:s})):e.setAttribute(t,p(n,{policy:s}));break;default:"string"==typeof r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}}function c(){return"trustedTypes"in globalThis&&trustedTypes instanceof EventTarget&&trustedTypes.createPolicy instanceof Function}function l(e){return"TrustedTypePolicy"in globalThis&&e instanceof TrustedTypePolicy||null!=e&&e.createHTML instanceof Function}function u(e){return c()?trustedTypes.isScriptURL(e):"string"==typeof e||e instanceof URL}function d(e){return!c()||(trustedTypes.isHTML(e)||trustedTypes.isScript(e)||trustedTypes.isScriptURL(e))}function p(e,{policy:t=h()}={}){return l(t)&&!function(e){return c()?trustedTypes.isHTML(e):"string"==typeof e}(e)?t.createHTML(e):e}function g(e,{policy:t=h()}={}){return l(t)&&!function(e){return c()?trustedTypes.isScript(e):"string"==typeof e}(e)?t.createScript(e):e}function f(e,{policy:t=h()}={}){return l(t)&&!u(e)?t.createScriptURL(e):e}function h(){return c()?trustedTypes.defaultPolicy:null}
/**
	 * @copyright 2021-2023 Chris Zuber <admin@kernvalley.us>
	 */const m=["loading","interactive","complete"],y=(e=document.readyState)=>m.indexOf(e);async function b(e,{signal:t}={}){const{resolve:n,reject:r,promise:s}=v(),a=y(e);if(t instanceof AbortSignal&&t.aborted)r(t.reason||new DOMException("Operation aborted."));else if(a<0)r(new DOMException(`Invalid state: ${e}`));else if(a>y()){const s=new AbortController;let a=!1;s.signal.addEventListener("abort",(({target:e})=>{a||(r(e.reason||new DOMException("Operation aborted.")),a=!0)}),{once:!0}),t instanceof AbortSignal&&t.addEventListener("abort",(({target:e})=>{s.abort(e.reason)}),{once:!0,signal:s.signal}),document.addEventListener("readystatechange",(()=>{document.readyState===e&&(n(),a=!0,s.abort())}),{signal:s.signal})}else n();return s}async function w(e){const{reject:t,promise:n}=v();return e instanceof AbortController?w(e.signal):(e instanceof EventTarget?e.aborted?t(e.reason):e.addEventListener("abort",(({target:e})=>t(e.reason)),{once:!0}):t(new DOMException("Not an AbortSignal")),n)}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */function v({signal:e}={}){const t={};return t.promise=new Promise(((e,n)=>{t.resolve=e,t.reject=n})),e instanceof EventTarget&&e.throwIfAborted instanceof Function&&(e.aborted?t.reject(e.reason):e.addEventListener("abort",(({target:e})=>t.reject(e.reason)),{once:!0})),Object.seal(t)}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */A((async function({signal:e}={}){const{promise:t,resolve:n,reject:r}=v();return e instanceof AbortSignal&&e.aborted?r(e.reason||new DOMException("Operation aborted.")):0===y()?(i(document,"DOMContentLoaded",n,{signal:e,once:!0,capture:!0}),e instanceof AbortSignal&&e.addEventListener("abort",(({target:e})=>r(e.reason||new DOMException("Operation aborted."))),{once:!0})):n(),t})),A((async function({signal:e}={}){await b("interactive",{signal:e})})),A((async function({signal:e}={}){await b("complete",{signal:e})})),A((async function({signal:e}={}){const{promise:t,resolve:n,reject:r}=v();return e instanceof AbortSignal&&e.aborted?r(e.reason||new DOMException("Operation aborted.")):y()<2?(i(globalThis,"load",n,{signal:e,once:!0,capture:!0}),e instanceof AbortSignal&&e.addEventListener("abort",(({target:e})=>r(e.reason||new DOMException("Operation aborted."))),{once:!0})):n(),t})),A((async function({signal:e}={}){const{promise:t,resolve:n}=v();return i(globalThis,"unload",n,{signal:e,once:!0,capture:!0}),t})),A((async function({signal:e}={}){const{promise:t,resolve:n}=v({signal:e});return i(globalThis,"beforeunload",n,{signal:e,once:!0,capture:!0}),t})),A((async function({signal:e}={}){const{promise:t,resolve:n,reject:r}=v();return e instanceof AbortSignal&&e.aborted?r(e.reason):"onbeforeinstallprompt"in globalThis&&(i(globalThis,"beforeinstallprompt",n,{once:!0,capture:!0,signal:e}),e instanceof AbortSignal&&i(e,"abort",(({reason:e})=>r(e)),{once:!0})),await t})),
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
"AbortController"in window&&AbortController.prototype.hasOwnProperty("signal"),new Promise((()=>{}));const T=new WeakMap;async function E(e,{scope:t,policy:n=("trustedTypes"in globalThis?trustedTypes.defaultPolicy:null),type:r="classic",updateViaCache:s="none"}={}){const{resolve:a,reject:i,promise:o}=v();return"serviceWorker"in navigator&&navigator.serviceWorker.register instanceof Function?"string"==typeof e||u(e)||e instanceof URL?!u(e)&&l(n)?navigator.serviceWorker.register(n.createScriptURL(e),{scope:t,type:r,updateViaCache:s}).then(a).catch(i):navigator.serviceWorker.register(e,{scope:t,type:r,updateViaCache:s}).then(a).catch(i):i(new TypeError("Invalid Service worker registration source")):i(new DOMException("Service worker not supported")),await o}function k(e){switch(typeof e){case"undefined":return!0;case"object":return!!Object.is(e,null)||(Array.isArray(e)?0===e.length:e instanceof Date&&Number.isNaN(e.getTime()));case"number":return Number.isNaN(e);case"string":return 0===e.length;default:return!1}}function A(e,t){return e.once instanceof Function?e.once(t):function(...n){if(T.has(e))return T.get(e);if((r=e)instanceof Function&&"AsyncFunction"===r.constructor.name){const r=e.apply(t||this,n).catch((t=>{throw T.delete(e),t}));return T.set(e,r),r}if(e instanceof Function){const r=e.apply(t||this,n);return T.set(e,r),r}var r}}function L(e,t){const n=new URL(e,document.baseURI);return t instanceof HTMLFormElement?L(n,new FormData(t)):t instanceof FormData||t instanceof URLSearchParams?L(n,Object.fromEntries(t)):Array.isArray(t)||"string"==typeof t?L(n,new URLSearchParams(t)):("object"!=typeof(r=t)||Object.is(r,null)||Array.isArray(r)||Object.entries(t).forEach((([e,t])=>{"string"==typeof t||"number"==typeof t&&!Number.isNaN(t)?n.searchParams.set(e,t):"boolean"==typeof t?t?n.searchParams.set(e,""):n.searchParams.delete(e):k(t)||n.searchParams.set(e,t.toString())})),n);var r}function S(e,{source:t,medium:n="referral",content:r,campaign:s,term:a}={}){return k(e)?null:e instanceof URL?"string"!=typeof t?e:L(e,{utm_source:t,utm_medium:n,utm_content:r,utm_campaign:s,utm_term:a}):S(new URL(e,document.baseURI),{source:t,medium:n,content:r,campaign:s,term:a})}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */function x(e,t,{fallback:n=null}={}){return e.hasAttribute(t)&&e.getAttribute(t)||n}function O(e,t,n,{minLength:r=1,maxLength:a=1/0,pattern:i=null,fallback:c,policy:l}={}){if("string"!=typeof n||!s(r,n.length,a)||i instanceof RegExp&&!i.test(n))if(d(n)){const c=n.toString();!s(r,c.length,a)||i instanceof RegExp&&!i.test(c)?e.removeAttribute(t):o(e,t,n,{policy:l})}else"string"==typeof c||d(c)?O(e,t,c,{pattern:i,policy:l,minLength:r,maxLength:a}):e.removeAttribute(t);else o(e,t,n,{policy:l})}function M(e,t,{base:n=document.baseURI}={}){return e.hasAttribute(t)?new URL(e.getAttribute(t),n):null}function R(e,t,n,{base:r=document.baseURI,requirePath:s=!1,policy:a}={}){if(n instanceof URL&&(!s||n.pathname.length>1))o(e,t,n.href,{policy:a});else if("string"==typeof n&&0!==n.length)R(e,t,new URL(n,r),{requirePath:s});else if(u(n)){const r=new URL(n.toString(),document.baseURI);!s||r.pathname.length>1?o(e,t,n,{policy:a}):e.removeAttribute(t)}else e.removeAttribute(t)}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */function P(e=document.head){const t=e.querySelector(['meta[name="description"][content]','meta[itemprop="description"][content]','meta[property="og:description"][content]','meta[name="twitter:description"][content]'].join(","));return t instanceof HTMLMetaElement?t.content:null}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */A((async({policy:e=("trustedTypes"in globalThis?trustedTypes.defaultPolicy:null)}={})=>{if("serviceWorker"in navigator&&"serviceWorker"in document.documentElement.dataset){const{serviceWorker:t,scope:n="/",updateViaCache:r}=document.documentElement.dataset;try{l(e)?await E(e.createScriptURL(t),{scope:n,updateViaCache:r}):await E(t,{scope:n,updateViaCache:r}),await async function(){if("serviceWorker"in navigator&&"reloadOnUpdate"in document.documentElement.dataset){(await navigator.serviceWorker.ready).addEventListener("updatefound",(async({target:e})=>{e.update();new(await customElements.whenDefined("html-notification"))("Update available",{body:"App updated in background. Would you like to reload to see updates?",requireInteraction:!0,actions:[{title:"Reload",action:"reload"},{title:"Dismiss",action:"dismiss"}]}).addEventListener("notificationclick",(({target:e,action:t})=>{switch(t){case"dismiss":e.close();break;case"reload":e.close(),location.reload()}}))}))}}()}catch(e){console.error(e)}}}));const U={resp:Symbol("resp")};class C extends Error{constructor(e=Response.error(),{message:t,cause:n}={}){super("string"==typeof t?t:`<${e.url}> [${e.status} ${e.statusText}]`,{cause:n}),Object.defineProperty(this,U.resp,{value:e,configurable:!1,writable:!1,enumerable:!1})}async json(){return await this[U.resp].json()}async text(){return await this[U.resp].text()}get body(){return this[U.resp].body}get bodyUsed(){return this[U.resp].bodyUsed}get headers(){return this[U.resp].headers}get ok(){return this[U.resp].ok}get redirected(){return this[U.resp].redirected}get status(){return this[U.resp].status}get statusText(){return this[U.resp].statusText}get type(){return this[U.resp].type}get url(){return this[U.resp].url}toJSON(){const{status:e,statusText:t,ok:n,url:r,message:s,type:a,redirected:i}=this;return{status:e,ok:n,statusText:t,url:r,message:s,type:a,redirected:i}}}
/**
	 * @copyright 2021-2023 Chris Zuber <admin@kernvalley.us>
	 */function j(e,{cause:t,message:n}={}){if(e instanceof Response){if(e.ok)return e;throw new C(e,{cause:t,message:n})}throw new TypeError("Expected a Response object")}function D(e){throw e instanceof C?e:e instanceof Error?new C(Response.error(),{cause:e,message:e.message}):new C(Response.error(),"string"==typeof e?{cause:new DOMException("Unknown network error"),message:e}:{cause:new DOMException("Unknown network error"),message:"Unknown network error"})}async function N(e,t={}){if(t.signal instanceof AbortSignal&&t.signal.aborted)throw new C(Response.error(),{cause:t.signal.reason,message:t.signal.reason instanceof Error?t.signal.reason.message:t.signal.reason});return t.signal instanceof AbortSignal&&!("signal"in Request.prototype)?await Promise.race([globalThis.fetch(e,t),w(t.signal)]).then((e=>j(e,{message:t.errorMessage})),D):await globalThis.fetch(e,t).then((e=>j(e,{message:t.errorMessage})),D)}const F=A((async function(){const{ok:e,headers:t}=await N(location.href,{method:"HEAD"});if(e&&t.has("Content-Security-Policy")){const e=t.get("Content-Security-Policy").trim().split(";").filter((e=>0!==e.length));return Object.fromEntries(e.map((e=>{const[t,...n]=e.trim().split(" ").filter((e=>0!==e.length));return[t,n]})))}}));function I(){const e=document.head.querySelector('meta[http-equiv="Content-Security-Policy"][content]');if(e instanceof HTMLMetaElement){const t=e.content.trim().split(";").filter((e=>0!==e.length));return Object.fromEntries(t.map((e=>{const[t,...n]=e.trim().split(" ").filter((e=>0!==e.length));return[t,n]})))}return{}}async function H(e,{body:t,mode:n="cors",cache:r="default",credentials:s="omit",redirect:a="follow",priority:i="auto",referrerPolicy:o="no-referrer",headers:c=new Headers,integrity:l,keepalive:u,signal:d,timeout:p=null,errorMessage:g}={}){return void 0!==t?e=L(e,t):"string"==typeof e&&(e=new URL(e,document.baseURI)),void 0===d&&Number.isInteger(p)?d=AbortSignal.timeout(p):d instanceof AbortController&&(d=d.signal),await N(e,{method:"GET",mode:n,credentials:s,referrerPolicy:o,headers:c,cache:r,redirect:a,priority:i,integrity:l,keepalive:u,signal:d,errorMessage:g})}async function W(e,{timeout:t,signal:n}={}){if("string"==typeof e)return await W(document.querySelector(e,{timeout:t,signal:n}));if(e instanceof HTMLLinkElement){if(0===e.href.length)throw new DOMException("Missing `href` on <link>");{const{href:r,integrity:s,type:a,referrerPolicy:i,crossOrigin:o}=e;let c;const l="string"==typeof o?"cors":"no-cors",u=new Headers;return"cors"===l&&(c="use-credentials"===o?"include":"omit"),"string"==typeof a&&u.set("Accept",a),await H(r,{mode:l,credentials:c,headers:u,integrity:s,referrerPolicy:i,timeout:t,signal:n})}}throw new DOMException("Expected a <link>")}
/**
	 * @copyright 2021-2023 Chris Zuber <admin@kernvalley.us>
	 */function $(...e){if(window.ga instanceof Function)return window.ga(...e)}async function q({eventCategory:e,eventAction:t,eventValue:n,eventLabel:r,hitType:s="event",transport:a="beacon"}={}){await new Promise((async(i,o)=>{V()?(await async function(e=2e3){await new Promise(((t,n)=>{if(V()){const r=setTimeout((()=>n(new DOMException("GA ready callback timed-out"))),e);$((()=>{clearTimeout(r),t()}))}else n(new DOMException("Google Analytics script not loaded"))}))}(),$("send",{hitType:s,eventCategory:e,eventAction:t,eventLabel:r,eventValue:n,transport:a,hitCallback:i})):o(new Error("ga has not been successfully initialized"))}))}function V(){return window.ga instanceof Function}A((async function(){try{const e=await F();return"object"!=typeof e||Object.is(e,null)?I():e}catch(e){return console.error(e),I()}})),A((async function({timeout:e,signal:t}={}){const n=await W('link[rel="manifest"][href]',{timeout:e,signal:t});return await n.json()})),Array.isArray(window.dataLayer)||(window.dataLayer=[]);const _=new WeakMap;async function G({currentTarget:e,type:t,key:n,isTrusted:r}){if(r&&!e.disabled&&"click"===t||"keydown"===t&&" "===n){const{internals:t}=_.get(e),{shareTitle:n,text:r,campaign:s,content:a,medium:i,source:o,term:c,file:l}=e,u=S(this.url,{campaign:s,content:a,medium:i,source:o,term:c});t.ariaPressed="true",t.ariaBusy="true",this.disabled=!0;const d=await async function(e){if(!(e instanceof URL&&navigator.canShare instanceof Function))return[];try{const t=await H(e);if(t.ok){if(t.headers.has("Content-Type")){const n=e.pathname.split("/").at(-1),r=t.headers.get("Content-Type").split(";")[0],s=[new File([await t.blob()],n,{type:r})];return navigator.canShare({title:"test",files:s})?s:[]}throw new Error(`Unknown Content-Type for ${e}`)}throw new Error(`Failed fetching ${e} [${t.status} ${t.statusText}]`)}catch(e){return console.error(e),[]}}(l);await navigator.share({title:n,text:r,url:u,files:d}).then((()=>function({url:e,title:t,hitType:n="event",transport:r="beacon",eventCategory:s="share-button"}){V()&&q({hitType:n,eventCategory:s,eventAction:e,eventLabel:t,transport:r})}({url:u,title:n}))).catch(console.error),t.ariaPressed="false",t.ariaBusy="false",this.disabled=!1}}!function(e,t,...n){r?function(...e){return r&&e.every((e=>void 0!==customElements.get(e)))}(e)?(console.warn(new Error(`<${e}> is already defined`)),customElements.get(e)):customElements.define(e,t,...n):console.error(new Error("`customElements` not supported"))}("share-button",class e extends n{constructor(){super(),_.set(this,{internals:this.attachInternals()})}connectedCallback(){super.connectedCallback();const{internals:t}=_.get(this);t.ariaPressed="false",this.hasAttribute("aria-label")||(t.ariaLabel="Share this"),e.supported?(t.ariaHasPopup="dialog",this.disabled=!1,this.addEventListener("click",G),this.addEventListener("keydown",G)):this.disabled=!0}get canShare(){return navigator.canShare instanceof Function&&navigator.canShare({title:this.shareTitle,text:this.text,url:this.url})}get campaign(){return x(this,"campaign")}set campaign(e){O(this,"campaign",e)}get content(){return x(this,"content",{fallback:"share-button"})}set content(e){O(this,"content",e)}get file(){return M(this,"file")}set file(e){O(this,"file",e)}get medium(){return x(this,"medium",{fallback:"share"})}set medium(e){O(this,"medium",e)}get shareTitle(){return x(this,"sharetitle",{fallback:document.title})}set shareTitle(e){O(this,"sharetitle",e)}get source(){return x(this,"source")}set source(e){O(this,"source",e)}get term(){return x(this,"term")}set term(e){O(this,"term",e)}get text(){return x(this,"text",{fallback:P()})}set text(e){O(this,"text",e)}get url(){return M(this,"url")}set url(e){R(this,"url",e)}static get supported(){return navigator.share instanceof Function}})}();
//# sourceMappingURL=share.min.js.map
