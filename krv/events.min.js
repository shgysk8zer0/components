!function(e){"use strict";
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */function t({signal:e}={}){const t={};return t.promise=new Promise(((e,n)=>{t.resolve=e,t.reject=n})),e instanceof EventTarget&&e.throwIfAborted instanceof Function&&(e.aborted?t.reject(e.reason):e.addEventListener("abort",(({target:e})=>t.reject(e.reason)),{once:!0})),Object.seal(t)}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */new Promise((()=>{}));const n=(e,t,n)=>{return"number"==typeof(r=t)&&!Number.isNaN(r)&&t>=e&&t<=n;var r},r=(e,t,n)=>Math.min(n,Math.max(e,t))
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */;function i(e,t,n,{policy:r}={}){switch(i=e.tagName,o=t,a()?trustedTypes.getPropertyType(i.toLowerCase(),o):null){case"TrustedScript":e[t]=d(n,{policy:r});break;case"TrustedScriptURL":e[t]=g(n,{policy:r});break;case"TrustedHTML":e[t]=p(n,{policy:r});break;default:e[t]=n}var i,o}function o(e,t,n,{elementNs:r,policy:i}={}){switch(function(e,t,n){return a()?trustedTypes.getAttributeType(e.toLowerCase(),t,n):null}(e.tagName,t,r)){case"TrustedScriptURL":"string"==typeof r?e.setAttributeNs(r,t,g(n,{policy:i})):e.setAttribute(t,g(n,{policy:i}));break;case"TrustedScript":"string"==typeof r?e.setAttributeNS(r,t,d(n,{policy:i})):e.setAttribute(t,d(n,{policy:i}));break;case"TrustedHTML":"string"==typeof r?e.setAttributeNS(r,t,p(n,{policy:i})):e.setAttribute(t,p(n,{policy:i}));break;default:"string"==typeof r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}}function a(){return"trustedTypes"in globalThis&&trustedTypes instanceof EventTarget&&trustedTypes.createPolicy instanceof Function}function s(e){return"TrustedTypePolicy"in globalThis&&e instanceof TrustedTypePolicy||null!=e&&e.createHTML instanceof Function}function c(e){return a()?trustedTypes.isHTML(e):"string"==typeof e}function l(e){return a()?trustedTypes.isScriptURL(e):"string"==typeof e||e instanceof URL}function u(e){return!a()||(trustedTypes.isHTML(e)||trustedTypes.isScript(e)||trustedTypes.isScriptURL(e))}function p(e,{policy:t=y()}={}){return s(t)&&!c(e)?t.createHTML(e):e}function d(e,{policy:t=y()}={}){return s(t)&&!function(e){return a()?trustedTypes.isScript(e):"string"==typeof e}(e)?t.createScript(e):e}function g(e,{policy:t=y()}={}){return s(t)&&!l(e)?t.createScriptURL(e):e}function y(){return a()?trustedTypes.defaultPolicy:null}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */const f=new WeakMap;async function m(e,{scope:n,policy:r=("trustedTypes"in globalThis?trustedTypes.defaultPolicy:null),type:i="classic",updateViaCache:o="none"}={}){const{resolve:a,reject:c,promise:u}=t();return"serviceWorker"in navigator&&navigator.serviceWorker.register instanceof Function?"string"==typeof e||l(e)||e instanceof URL?!l(e)&&s(r)?navigator.serviceWorker.register(r.createScriptURL(e),{scope:n,type:i,updateViaCache:o}).then(a).catch(c):navigator.serviceWorker.register(e,{scope:n,type:i,updateViaCache:o}).then(a).catch(c):c(new TypeError("Invalid Service worker registration source")):c(new DOMException("Service worker not supported")),await u}function h(e){return"object"==typeof e&&!Object.is(e,null)&&!Array.isArray(e)}function b(e){return Array.isArray(e)||h(e)&&e[Symbol.iterator]instanceof Function}function v(e){switch(typeof e){case"undefined":return!0;case"object":return!!Object.is(e,null)||(Array.isArray(e)?0===e.length:e instanceof Date&&Number.isNaN(e.getTime()));case"number":return Number.isNaN(e);case"string":return 0===e.length;default:return!1}}function w(e,t){return e.once instanceof Function?e.once(t):function(...n){if(f.has(e))return f.get(e);if((r=e)instanceof Function&&"AsyncFunction"===r.constructor.name){const r=e.apply(t||this,n).catch((t=>{throw f.delete(e),t}));return f.set(e,r),r}if(e instanceof Function){const r=e.apply(t||this,n);return f.set(e,r),r}var r}}function E(e,t){const n=new URL(e,document.baseURI);return t instanceof HTMLFormElement?E(n,new FormData(t)):t instanceof FormData||t instanceof URLSearchParams?E(n,Object.fromEntries(t)):Array.isArray(t)||"string"==typeof t?E(n,new URLSearchParams(t)):(h(t)&&Object.entries(t).forEach((([e,t])=>{"string"==typeof t||"number"==typeof t&&!Number.isNaN(t)?n.searchParams.set(e,t):"boolean"==typeof t?t?n.searchParams.set(e,""):n.searchParams.delete(e):v(t)||n.searchParams.set(e,t.toString())})),n)}function T(e,{source:t,medium:n="referral",content:r,campaign:i,term:o}={}){return v(e)?null:e instanceof URL?"string"!=typeof t?e:E(e,{utm_source:t,utm_medium:n,utm_content:r,utm_campaign:i,utm_term:o}):T(new URL(e,document.baseURI),{source:t,medium:n,content:r,campaign:i,term:o})}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */w((async({policy:e=("trustedTypes"in globalThis?trustedTypes.defaultPolicy:null)}={})=>{if("serviceWorker"in navigator&&"serviceWorker"in document.documentElement.dataset){const{serviceWorker:t,scope:n="/",updateViaCache:r}=document.documentElement.dataset;try{s(e)?await m(e.createScriptURL(t),{scope:n,updateViaCache:r}):await m(t,{scope:n,updateViaCache:r}),await async function(){if("serviceWorker"in navigator&&"reloadOnUpdate"in document.documentElement.dataset){(await navigator.serviceWorker.ready).addEventListener("updatefound",(async({target:e})=>{e.update();new(await customElements.whenDefined("html-notification"))("Update available",{body:"App updated in background. Would you like to reload to see updates?",requireInteraction:!0,actions:[{title:"Reload",action:"reload"},{title:"Dismiss",action:"dismiss"}]}).addEventListener("notificationclick",(({target:e,action:t})=>{switch(t){case"dismiss":e.close();break;case"reload":e.close(),location.reload()}}))}))}}()}catch(e){console.error(e)}}}));const A=function(){const e=document.createElement("div"),t={nativeSignal:"AbortController"in globalThis&&AbortController.prototype.hasOwnProperty("signal"),signal:!1,passive:!1,capture:!1,once:!1},n={get passive(){t.passive=!0},get signal(){t.signal=!0},get capture(){t.capture=!0},get once(){t.once=!0}};try{e.addEventListener("click",null,n),e.removeEventListener("click",null,n)}catch(e){console.error(e)}return Object.seal(t)}();function S(e,t,n,{capture:r,once:i,passive:o,signal:a}={}){Array.isArray(e)||(e=C(e)),Array.isArray(t)||(t=Array.of(t)),e.forEach((e=>{t.forEach((t=>L(e,t,n,{capture:r,once:i,passive:o,signal:a})))}))}function L(e,t,n,{capture:r,once:i,passive:o,signal:a}={}){a instanceof EventTarget&&a.aborted||(e.addEventListener(t,n,{capture:r,once:i,passive:o,signal:a}),!1===A.signal&&a instanceof EventTarget&&k(a).finally((()=>e.removeEventListener(t,n,{capture:r,once:i,passive:o,signal:a}))))}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */async function k(e){const{reject:n,promise:r}=t();return e instanceof AbortController?k(e.signal):(e instanceof EventTarget?e.aborted?n(e.reason):e.addEventListener("abort",(({target:e})=>n(e.reason)),{once:!0}):n(new DOMException("Not an AbortSignal")),r)}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */"AbortController"in window&&AbortController.prototype.hasOwnProperty("signal");const M="text/plain",O="text/html";function P(e,t={},{namespace:n=null,policy:r}={}){if(!(e instanceof Element))throw new TypeError("el must be an Element");if(!h(t))throw new TypeError("props must be an object");Object.entries(t).forEach((([t,i])=>{"string"==typeof i||"number"==typeof i?o(e,t,i,{policy:r,elementNs:n}):"trustedTypes"in globalThis&&u(i)?0===i.toString().length?e.removeAttribute(t):o(e,t,i,{policy:r,elementNs:n}):"boolean"==typeof i?"string"==typeof namespace?i?e.setAttributeNS(n,t,""):e.removeAttributeNS(n,t):e.toggleAttribute(t,i):i instanceof Date?o(e,t,i.toISOString(),{policy:r,elementNs:n}):i instanceof URL?o(e,t,i.href,{policy:r,elementNs:n}):null==i?"string"==typeof namespace?e.removeAttributeNS(n,t):e.removeAttribute(t):o(e,t,JSON.stringify(i),{policy:r,elementNs:n})}))}function j(e,t,n,{min:i=Number.MIN_SAFE_INTEGER,max:a=Number.MAX_SAFE_INTEGER,policy:s}={}){n instanceof Date?o(e,t,n.getTime(),{min:i,max:a,policy:s}):Number.isInteger(n)?o(e,t,r(i,n,a),{policy:s}):"string"==typeof n?j(e,t,parseInt(n),{min:i,max:a}):e.removeAttribute(t)}function N(e,t,{fallback:n=null}={}){return e.hasAttribute(t)&&e.getAttribute(t)||n}function R(e,t,r,{minLength:i=1,maxLength:a=1/0,pattern:s=null,fallback:c,policy:l}={}){if("string"!=typeof r||!n(i,r.length,a)||s instanceof RegExp&&!s.test(r))if(u(r)){const c=r.toString();!n(i,c.length,a)||s instanceof RegExp&&!s.test(c)?e.removeAttribute(t):o(e,t,r,{policy:l})}else"string"==typeof c||u(c)?R(e,t,c,{pattern:s,policy:l,minLength:i,maxLength:a}):e.removeAttribute(t);else o(e,t,r,{policy:l})}
/**
	 * @copyright 2021-2023 Chris Zuber <admin@kernvalley.us>
	 */const x=["loading","interactive","complete"],U=(e=document.readyState)=>x.indexOf(e);function C(e,t=document){if(Array.isArray(e))return e;if(e instanceof EventTarget)return[e];if("string"==typeof e){const n=Array.from(t.querySelectorAll(e));return t.matches instanceof Function&&t.matches(e)&&n.push(t),n}if(b(e))return Array.from(e);throw new TypeError('Invalid "what" given to query()')}function D(e,t,{base:n}={}){const r=C(e,n);return r.forEach(t),r}function H(e,t={},{base:n,namespace:r=null,policy:i}={}){return D(e,(e=>P(e,t,{namespace:r,policy:i})),{base:n})}function I(e,t,{base:n}={}){return D(e,(e=>e.textContent=t),{base:n})}async function F(e,n,{capture:r,passive:i,signal:o,base:a}={}){const s=new AbortController,{promise:c,resolve:l,reject:u}=t();return o instanceof AbortSignal&&(o.aborted?s.abort(o.reason):addEventListener([o],["abort"],(()=>{s.abort(o.reason),u(o.reason)}),{once:!0,signal:s.signal})),s.signal.aborted?u(s.signal.reason):function(e,t,...n){const r=C(e);"string"==typeof t?S(r,[t],...n):Array.isArray(t)?S(r,t,...n):Object.entries(t).forEach((([e,t])=>S(r,[e],t,...n)))}(C(e,a),n,(e=>{l(e),s.abort()}),{capture:r,passive:i,signal:s.signal}),c}async function z(e,{signal:n}={}){const{resolve:r,reject:i,promise:o}=t(),a=U(e);if(n instanceof AbortSignal&&n.aborted)i(n.reason||new DOMException("Operation aborted."));else if(a<0)i(new DOMException(`Invalid state: ${e}`));else if(a>U()){const t=new AbortController;let o=!1;t.signal.addEventListener("abort",(({target:e})=>{o||(i(e.reason||new DOMException("Operation aborted.")),o=!0)}),{once:!0}),n instanceof AbortSignal&&n.addEventListener("abort",(({target:e})=>{t.abort(e.reason)}),{once:!0,signal:t.signal}),document.addEventListener("readystatechange",(()=>{document.readyState===e&&(r(),o=!0,t.abort())}),{signal:t.signal})}else r();return o}function _(e,{type:t=O,asFrag:n=!0,sanitizer:r,policy:i=("trustedTypes"in globalThis?globalThis.trustedTypes.defaultPolicy:void 0)}={}){const o=new DOMParser;return n?function(e,{sanitizer:t,policy:n=("trustedTypes"in globalThis?globalThis.trustedTypes.defaultPolicy:void 0)}={}){const r=document.createElement("template");s(n)&&!c(e)?r.innerHTML=n.createHTML(e):r.innerHTML=e;return void 0!==t&&t.sanitize instanceof Function?t.sanitize(r.content):r.content}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */(e,{sanitizer:r,policy:i}):s(i)&&!c(e)?o.parseFromString(i.createHTML(e),t):o.parseFromString(e,t)}w((async function({signal:e}={}){const{promise:n,resolve:r,reject:i}=t();return e instanceof AbortSignal&&e.aborted?i(e.reason||new DOMException("Operation aborted.")):0===U()?(L(document,"DOMContentLoaded",r,{signal:e,once:!0,capture:!0}),e instanceof AbortSignal&&e.addEventListener("abort",(({target:e})=>i(e.reason||new DOMException("Operation aborted."))),{once:!0})):r(),n})),w((async function({signal:e}={}){await z("interactive",{signal:e})})),w((async function({signal:e}={}){await z("complete",{signal:e})})),w((async function({signal:e}={}){const{promise:n,resolve:r,reject:i}=t();return e instanceof AbortSignal&&e.aborted?i(e.reason||new DOMException("Operation aborted.")):U()<2?(L(globalThis,"load",r,{signal:e,once:!0,capture:!0}),e instanceof AbortSignal&&e.addEventListener("abort",(({target:e})=>i(e.reason||new DOMException("Operation aborted."))),{once:!0})):r(),n})),w((async function({signal:e}={}){const{promise:n,resolve:r}=t();return L(globalThis,"unload",r,{signal:e,once:!0,capture:!0}),n})),w((async function({signal:e}={}){const{promise:n,resolve:r}=t({signal:e});return L(globalThis,"beforeunload",r,{signal:e,once:!0,capture:!0}),n})),w((async function({signal:e}={}){const{promise:n,resolve:r,reject:i}=t();return e instanceof AbortSignal&&e.aborted?i(e.reason):"onbeforeinstallprompt"in globalThis&&(L(globalThis,"beforeinstallprompt",r,{once:!0,capture:!0,signal:e}),e instanceof AbortSignal&&L(e,"abort",(({reason:e})=>i(e)),{once:!0})),await n}));const W={resp:Symbol("resp")};class q extends Error{constructor(e=Response.error(),{message:t,cause:n}={}){super("string"==typeof t?t:`<${e.url}> [${e.status} ${e.statusText}]`,{cause:n}),Object.defineProperty(this,W.resp,{value:e,configurable:!1,writable:!1,enumerable:!1})}async json(){return await this[W.resp].json()}async text(){return await this[W.resp].text()}get body(){return this[W.resp].body}get bodyUsed(){return this[W.resp].bodyUsed}get headers(){return this[W.resp].headers}get ok(){return this[W.resp].ok}get redirected(){return this[W.resp].redirected}get status(){return this[W.resp].status}get statusText(){return this[W.resp].statusText}get type(){return this[W.resp].type}get url(){return this[W.resp].url}toJSON(){const{status:e,statusText:t,ok:n,url:r,message:i,type:o,redirected:a}=this;return{status:e,ok:n,statusText:t,url:r,message:i,type:o,redirected:a}}}
/**
	 * @copyright 2021-2023 Chris Zuber <admin@kernvalley.us>
	 */function V(e,{cause:t,message:n}={}){if(e instanceof Response){if(e.ok)return e;throw new q(e,{cause:t,message:n})}throw new TypeError("Expected a Response object")}function $(e){throw e instanceof q?e:e instanceof Error?new q(Response.error(),{cause:e,message:e.message}):new q(Response.error(),"string"==typeof e?{cause:new DOMException("Unknown network error"),message:e}:{cause:new DOMException("Unknown network error"),message:"Unknown network error"})}async function G(e,t={}){if(t.signal instanceof AbortSignal&&t.signal.aborted)throw new q(Response.error(),{cause:t.signal.reason,message:t.signal.reason instanceof Error?t.signal.reason.message:t.signal.reason});return t.signal instanceof AbortSignal&&!("signal"in Request.prototype)?await Promise.race([globalThis.fetch(e,t),k(t.signal)]).then((e=>V(e,{message:t.errorMessage})),$):await globalThis.fetch(e,t).then((e=>V(e,{message:t.errorMessage})),$)}const K=w((async function(){const{ok:e,headers:t}=await G(location.href,{method:"HEAD"});if(e&&t.has("Content-Security-Policy")){const e=t.get("Content-Security-Policy").trim().split(";").filter((e=>0!==e.length));return Object.fromEntries(e.map((e=>{const[t,...n]=e.trim().split(" ").filter((e=>0!==e.length));return[t,n]})))}}));function J(){const e=document.head.querySelector('meta[http-equiv="Content-Security-Policy"][content]');if(e instanceof HTMLMetaElement){const t=e.content.trim().split(";").filter((e=>0!==e.length));return Object.fromEntries(t.map((e=>{const[t,...n]=e.trim().split(" ").filter((e=>0!==e.length));return[t,n]})))}return{}}async function B(e,{body:t,mode:n="cors",cache:r="default",credentials:i="omit",redirect:o="follow",priority:a="auto",referrerPolicy:s="no-referrer",headers:c=new Headers,integrity:l,keepalive:u,signal:p,timeout:d=null,errorMessage:g}={}){return void 0!==t?e=E(e,t):"string"==typeof e&&(e=new URL(e,document.baseURI)),void 0===p&&Number.isInteger(d)?p=AbortSignal.timeout(d):p instanceof AbortController&&(p=p.signal),await G(e,{method:"GET",mode:n,credentials:i,referrerPolicy:s,headers:c,cache:r,redirect:o,priority:a,integrity:l,keepalive:u,signal:p,errorMessage:g})}async function X(e,{body:t,mode:n="cors",cache:r="default",credentials:i="omit",redirect:o="follow",priority:a="auto",referrerPolicy:c="no-referrer",headers:l=new Headers({Accept:O}),integrity:u,keepalive:p,signal:d,timeout:g=null,head:y=!0,asFrag:f=!0,sanitizer:m,policy:h,errorMessage:b}={}){const v=await async function(e,{body:t,mode:n="cors",cache:r="default",credentials:i="omit",redirect:o="follow",priority:a="auto",referrerPolicy:s="no-referrer",headers:c=new Headers({Accept:M}),integrity:l,keepalive:u,signal:p,timeout:d=null,errorMessage:g}={}){const y=await B(e,{body:t,mode:n,credentials:i,referrerPolicy:s,headers:c,cache:r,redirect:o,priority:a,integrity:l,keepalive:u,signal:p,timeout:d,errorMessage:g});return await y.text()}(e,{body:t,mode:n,credentials:i,referrerPolicy:c,headers:l,cache:r,redirect:o,priority:a,integrity:u,keepalive:p,signal:d,timeout:g,errorMessage:b});return s(h)?_(h.createHTML(v),{asFrag:f,head:y}):_(v,{head:y,asFrag:f,sanitizer:m,policy:h})}async function Q(e,{timeout:t,signal:n}={}){if("string"==typeof e)return await Q(document.querySelector(e,{timeout:t,signal:n}));if(e instanceof HTMLLinkElement){if(0===e.href.length)throw new DOMException("Missing `href` on <link>");{const{href:r,integrity:i,type:o,referrerPolicy:a,crossOrigin:s}=e;let c;const l="string"==typeof s?"cors":"no-cors",u=new Headers;return"cors"===l&&(c="use-credentials"===s?"include":"omit"),"string"==typeof o&&u.set("Accept",o),await B(r,{mode:l,credentials:c,headers:u,integrity:i,referrerPolicy:a,timeout:t,signal:n})}}throw new DOMException("Expected a <link>")}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */w((async function(){try{const e=await K();return"object"!=typeof e||Object.is(e,null)?J():e}catch(e){return console.error(e),J()}})),w((async function({timeout:e,signal:t}={}){const n=await Q('link[rel="manifest"][href]',{timeout:e,signal:t});return await n.json()}));const Y=new URL("https://events.kernvalley.us/events.json"),Z=async({signal:e}={})=>async function(e,{body:t,mode:n="cors",cache:r="default",credentials:i="omit",redirect:o="follow",referrerPolicy:a="no-referrer",priority:s="auto",headers:c=new Headers({Accept:"application/json"}),integrity:l,keepalive:u,signal:p,timeout:d=null,errorMessage:g}={}){const y=await B(e,{body:t,mode:n,credentials:i,referrerPolicy:a,headers:c,cache:r,redirect:o,priority:s,integrity:l,keepalive:u,signal:p,timeout:d,errorMessage:g});return await y.json()}(Y,{signal:e})
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */,ee=window.customElements instanceof Object;
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
function te(e,{"@context":t="https://schema.org","@type":n,"@identifier":r,itemtype:o,itemprop:a,itemscope:s,itemref:l,itemid:u,id:p,classList:d,hidden:g,dataset:y,accessKey:f,title:m,part:w,slot:E,is:T,children:A,styles:S,text:k,html:M,policy:O=("trustedTypes"in globalThis?globalThis.trustedTypes.defaultPolicy:null),sanitizer:j,aria:N,events:{capture:R,passive:x,once:U,signal:C,...D}={},animation:{keyframes:H,duration:I=0,delay:F=0,endDelay:z=0,easing:_="linear",direction:W="normal",fill:q="none",iterations:V=1,iterationStart:$=0,composite:G="replace",iterationComposite:K="replace",pseudoElement:J}={},...B}={}){if("string"!=typeof e)throw new TypeError("tag must be a string");{const X=document.createElement(e,{is:T});return X.hidden=g,"string"==typeof m&&(X.title=m),"string"==typeof p?X.id=p:"string"==typeof r&&(X.id=r),Array.isArray(d)&&0!==d.length&&X.classList.add(...d),h(y)&&function(e,t={}){if(!(e instanceof Element))throw new TypeError("el must be an Element");if(!h(t))throw new TypeError("props must be an object");Object.entries(t).forEach((([t,n])=>{switch(typeof n){case"string":case"number":e.dataset[t]=n.toString();break;case"boolean":n?e.dataset[t]="":delete e.dataset[t];break;case"undefined":delete e.dataset[t];break;case"object":Object.is(n,null)?delete e.dataset[t]:n instanceof Date?e.dataset[t]=n.toISOString():n instanceof URL?e.dataset[t]=n.href:e.dataset[t]=JSON.stringify(n);break;default:throw new TypeError("Unable to handle type: "+typeof n)}}))}(X,y),Array.isArray(w)&&0!==w.length?X.part.add(...w):"string"==typeof w&&X.part.add(w),"string"==typeof E&&(X.slot=E),h(S)&&function(e,t={},{priority:n}={}){if(!(e instanceof Element))throw new TypeError("el must be an Element");if(!h(t))throw new TypeError("props must be an object");Object.entries(t).forEach((([t,r])=>{"string"==typeof r||"number"==typeof r?e.style.setProperty(t,r,n):r instanceof URL?e.type.setProperty(t,r.href,n):"object"==typeof r&&!Object.is(r,null)&&r.toString instanceof Function?e.style.setProperty(t,r.toString(),n):e.style.removeProperty(t)}))}(X,S),Object.entries(D).forEach((([e,t])=>{L(X,e,t,{capture:R,passive:x,once:U,signal:C})})),"string"==typeof k?X.textContent=k:("string"==typeof M||c(M))&&("Sanitizer"in globalThis&&j instanceof globalThis.Sanitizer&&Element.prototype.setHTML instanceof Function?X.setHTML(M,{sanitizer:j}):i(X,"innerHTML",M,{policy:O})),b(A)&&X.append(...A.filter((e=>"string"==typeof e||e instanceof Element))),"string"==typeof T&&(B.is=T),"string"==typeof o?B.itemtype=o:"string"==typeof n&&(B.itemtype=new URL(n,t).href),"string"==typeof a?B.itemprop=a:Array.isArray(a)&&(B.itemprop=a.join(" ")),"string"==typeof l?B.itemref=l:Array.isArray(l)&&(B.itemref=l.join(" ")),"boolean"==typeof s||"string"==typeof s?B.itemscope=s:B.hasOwnProperty("itemtype")&&(B.itemscope=!0),"string"==typeof u&&(B.itemid=u),Array.isArray(f)?X.accessKey=f.join(" "):"string"==typeof accesskey&&(X.accessKey=f),P(X,B),h(N)&&
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
function(e,t={}){if(!(e instanceof Element))throw new TypeError("`el` must be an Element");Object.entries(t).forEach((([t,n])=>{"role"!==t&&(t=`aria-${t.toLowerCase()}`),v(n)?e.removeAttribute(t):e.setAttribute(t,n)}))}(X,N),(Array.isArray(H)||h(H))&&X.animate instanceof Function&&X.animate(H,{duration:I,delay:F,endDelay:z,easing:_,direction:W,fill:q,iterations:V,iterationStart:$,composite:G,iterationComposite:K,pseudoElement:J}),X}}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
async function ne(e,{rel:n="stylesheet",media:r="all",blocking:i=null,crossOrigin:o="anonymous",referrerPolicy:a="no-referrer",integrity:s=null,disabled:c=!1,fetchPriority:l="auto",title:u=null,nonce:p=null,parent:d=document.head,signal:g}={}){const{resolve:y,reject:f,promise:m}=t();if(g instanceof AbortSignal&&g.aborted)f(g.reason);else{const t=new AbortController,m=await function(e=null,{rel:t=[],type:n=null,as:r=null,blocking:i=null,crossOrigin:o="anonymous",referrerPolicy:a="no-referrer",fetchPriority:s="auto",integrity:c=null,nonce:l=null,media:u="all",disabled:p=!1,dataset:d=null,title:g=null,sizes:y=[],events:{capture:f,passive:m,once:h,signal:b,...v}={},...w}){const E=te("link",{dataset:d,...w,events:{capture:f,passive:m,once:h,signal:b,...v}});return Array.isArray(t)?E.relList.add(...t):"string"==typeof t&&E.relList.add(t),"string"==typeof n&&(E.type=n),"string"==typeof r&&(E.as=r),"string"==typeof o&&(E.crossOrigin=o),"string"==typeof a&&(E.referrerPolicy=a),"string"==typeof s&&(E.fetchPriority=s),"string"==typeof c&&(E.integrity=c),"string"==typeof l&&(E.nonce=l),"string"==typeof u&&(E.media=u),Array.isArray(i)?E.setAttribute("blocking",i.join(" ")):"string"==typeof i&&E.setAttribute("blocking",i),"string"==typeof e&&(E.href=e),p&&(E.disabled=!0),"string"==typeof g&&(E.title=g),Array.isArray(y)&&0!==y.length?E.sizes.add(...y):"string"==typeof y&&E.sizes.add(y),E}(e,{rel:n,media:r,crossOrigin:o,referrerPolicy:a,integrity:s,disabled:c,fetchPriority:l,title:u,nonce:p,blocking:i,events:{load:({target:e})=>{y(e),t.abort()},error:({target:e})=>{const n=new DOMException(`Error loading <link href="${e.href}">`);f(n),t.abort(n)},signal:g instanceof AbortSignal?AbortSignal.any([g,t.signal]):t.signal}});g instanceof AbortSignal&&g.addEventListener("abort",(({target:e})=>{f(e.reason),t.abort(e.reason),m.parentELement instanceof Element&&(m.disabled=!0,m.remove())}),{once:!0,signal:t.signal}),d.append(m)}return await m}
/**
	 * @copyright 2021-2023 Chris Zuber <admin@kernvalley.us>
	 */function re(...e){if(window.ga instanceof Function)return window.ga(...e)}async function ie({eventCategory:e,eventAction:t,eventValue:n,eventLabel:r,hitType:i="event",transport:o="beacon"}={}){await new Promise((async(a,s)=>{oe()?(await async function(e=2e3){await new Promise(((t,n)=>{if(oe()){const r=setTimeout((()=>n(new DOMException("GA ready callback timed-out"))),e);re((()=>{clearTimeout(r),t()}))}else n(new DOMException("Google Analytics script not loaded"))}))}(),re("send",{hitType:i,eventCategory:e,eventAction:t,eventLabel:r,eventValue:n,transport:o,hitCallback:a})):s(new Error("ga has not been successfully initialized"))}))}function oe(){return window.ga instanceof Function}Array.isArray(window.dataLayer)||(window.dataLayer=[]);const ae="https://unpkg.com/@shgysk8zer0/components@0.0.1/",se=!(document.currentScript instanceof HTMLScriptElement)?{url:document.currentScript&&document.currentScript.src||new URL("events.min.js",document.baseURI).href,resolve:e=>(void 0)(e)}:{url:ae,resolve:e=>new URL(e,ae).href},ce=new WeakMap,le=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const{resolve:n}=ce.get(e.target);ce.delete(e.target),n(e),t.unobserve(e.target)}}))}),{rootMargin:`${Math.min(250,Math.floor(.3*screen.height))}px`});async function ue(e,{signal:n,base:r=document}={}){const{resolve:i,reject:o,promise:a}=t();return n instanceof AbortSignal&&n.aborted?o(n.reason):"string"==typeof e?ue(r.querySelector(e),{signal:n}).then(i).catch(o):e instanceof Element?ce.has(e)?(ce.get(e).promise.then(i).catch(o),n instanceof AbortSignal&&n.addEventListener("abort",(({target:{reason:e}})=>{o(e)}),{once:!0})):(ce.set(e,{resolve:i,reject:o,promise:a}),le.observe(e),n instanceof AbortSignal&&n.addEventListener("abort",(({target:{reason:t}})=>{le.unobserve(e),ce.has(e)&&(ce.get(e).reject(t),ce.delete(e))}),{once:!0})):o(new TypeError("Non-elements can never intersect")),a}const pe=function(e,{createHTML:t=(()=>{throw new TypeError("This policy does not provide `createHTML()`")}),createScript:n=(()=>{throw new TypeError("This policy does not provide `createScript()`")}),createScriptURL:r=(()=>{throw new TypeError("This policy does not provide `createScriptURL()`")})}){return a()?trustedTypes.createPolicy(e,{createHTML:t,createScript:n,createScriptURL:r}):Object.freeze({name:e,createHTML:(e,...n)=>t(e.toString(),...n),createScript:(e,...t)=>n(e.toString(),...t),createScriptURL:(e,...t)=>r(e.toString(),...t)})}("krv-events#html",{createHTML:e=>e}),de=[pe.name],ge=function({base:e=document.baseURI,path:t="./"}={}){const n=new URL(t,e);return e=>new URL(e,n).href}({base:se.url,path:"./krv/"}),ye=w((()=>X(ge("events.html"),{policy:pe}))),fe=w((()=>Z())),me=new WeakMap;function he(e,{campaign:t,content:n="krv-events-el",medium:r,source:i,term:o}){return T(e,{campaign:t,content:n,medium:r,source:i,term:o}).href}(function(e,t,...n){ee?function(...e){return ee&&e.every((e=>void 0!==customElements.get(e)))}(e)?(console.warn(new Error(`<${e}> is already defined`)),customElements.get(e)):customElements.define(e,t,...n):console.error(new Error("`customElements` not supported"))})("krv-events",class extends HTMLElement{constructor(){super();const e=this.attachShadow({mode:"closed"}),t=this.attachInternals();Promise.all([ye().then((e=>e.cloneNode(!0))),ne(ge("./events.css"),{parent:e}),this.whenConnected]).then((([n])=>{t.role="document",t.ariaLabel="Kern Valley Events Calendar";const r=n.querySelector(".app-link");r.target=this.target,this.hasAttribute("source")&&(r.href=he(r.href,this)),e.append(n),me.set(this,{shadow:e,internals:t}),this.dispatchEvent(new Event("ready"))}))}get ready(){return me.has(this)?Promise.resolve():F(this,"ready")}get whenConnected(){return this.isConnected?Promise.resolve():F(this,"connected")}async connectedCallback(){this.dispatchEvent(new Event("connected")),"lazy"===this.loading&&await ue(this),this.render()}async render(){const e=(new Date).toISOString(),[t]=await Promise.all([fe(),this.ready]),n=me.get(this).shadow.getElementById("event-template").content,{campaign:r,content:i,medium:o,source:a,term:s,target:c}=this,l=t.filter((({endDate:t})=>t>e)).splice(0,this.count).map((({name:e,url:t,description:l,startDate:u,endDate:p,location:d})=>{const g=n.cloneNode(!0),y=document.createElement("div"),f=new Date(u),m=new Date(p),h=new AbortController;function b(){oe()?ie({hitType:"event",eventCategory:"krv-event",eventLabel:this.querySelector(".event-name").textContent,eventAction:"open",transport:"beacon"}):h.abort()}return y.classList.add("event"),H(".event-url",{href:he(t,{campaign:r,content:i,medium:o,source:a,term:s}),target:c},{base:g}).forEach((e=>{e.addEventListener("click",b,{signal:h.signal})})),I(".event-name",e,{base:g}),I(".event-description",l,{base:g}),I(".event-start-time",f.toLocaleString(),{base:g}),H(".event-start-time",{datetime:f.toISOString()},{base:g}),I(".event-end-time",m.toLocaleString(),{base:g}),H(".event-end-time",{datetime:m.toISOString()},{base:g}),void 0!==d&&I(".event-location",d.name||d.address.addressLocality,{base:g}),y.append(g),y}));0!==l.length&&me.get(this).shadow.getElementById("events-list").replaceChildren(...l)}get count(){return function(e,t,{fallback:n=NaN,min:i=Number.MIN_SAFE_INTEGER,max:o=Number.MAX_SAFE_INTEGER}={}){if(e.hasAttribute(t)){const a=r(i,parseInt(e.getAttribute(t)),o);return Number.isNaN(a)?n:a}return n}(this,"count",{fallback:5})}set count(e){j(this,"count",e)}get content(){return N(this,"content",{fallback:"krv-events"})}set content(e){R(this,"content",e)}get loading(){return N(this,"loading",{fallback:"eager"})}set loading(e){R(this,"loading",e)}get medium(){return N(this,"medium",{fallback:"referral"})}set medium(e){R(this,"medium",e)}get source(){return N(this,"source")}set source(e){R(this,"source",e)}get target(){return N(this,"target",{fallback:"_self"})}set target(e){R(this,"target",e)}get theme(){return N(this,"theme",{fallback:"auto"})}set theme(e){R(this,"theme",e)}get term(){return N(this,"term")}set term(e){R(this,"term",e)}attributeChangedCallback(e){if("count"===e)this.render().catch(console.error);else console.error(`Unhandled attribute changed: ${e}`)}static get observedAttributes(){return["count"]}}),e.trustPolicies=de}({});
//# sourceMappingURL=events.min.js.map
