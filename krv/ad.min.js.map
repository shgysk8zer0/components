{"version":3,"file":"ad.min.js","sources":["../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/custom-elements.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/math.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/events.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/trust.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/dom.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/abort.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/promises.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/utility.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/attrs.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/elements.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/defaults.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/HTTPException.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/http.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/loader.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/intersect.js","../consts.js","../import.meta.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/namespaces.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/svg.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/icons.js","ad.js","../https:/unpkg.com/@shgysk8zer0/kazoo@0.0.9/filesystem.js"],"sourcesContent":["/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nexport const supported = window.customElements instanceof Object;\n\nexport function isDefined(...tags) {\n\treturn supported && tags.every(tag => typeof customElements.get(tag) !== 'undefined');\n}\n\nexport function registerCustomElement(tag, cls, ...rest) {\n\tif (! supported) {\n\t\tconsole.error(new Error('`customElements` not supported'));\n\t\treturn false;\n\t} else if (isDefined(tag)) {\n\t\tconsole.warn(new Error(`<${tag}> is already defined`));\n\t\t// Returns true/false if element being registered matches given class\n\t\treturn customElements.get(tag) === cls;\n\t} else {\n\t\tcustomElements.define(tag, cls, ...rest);\n\t\treturn true;\n\t}\n}\n\nexport async function getCustomElement(tag) {\n\tif (supported) {\n\t\tawait customElements.whenDefined(tag);\n\t\treturn customElements.get(tag);\n\t} else {\n\t\tthrow new Error('`customElements` not supported');\n\t}\n}\n\nexport async function createCustomElement(tag, ...args) {\n\tconst Pro = await getCustomElement(tag);\n\treturn new Pro(...args);\n}\n\nexport async function whenDefined(...els) {\n\tif (supported) {\n\t\tawait Promise.all(els.map(el => customElements.whenDefined(el)));\n\t} else {\n\t\tthrow new Error('`customElements` not supported');\n\t}\n}\n\nexport async function defined(...els) {\n\tconsole.error('`defined()` is deprecated. Please use `whenDefined()` instead');\n\tawait whenDefined(...els);\n}\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nexport const isNumber = num => typeof num === 'number' && ! Number.isNaN(num);\n\nexport const divisibleBy = (num, divisor) => isNumber(num) && num % divisor === 0;\n\nexport const even = num => divisibleBy(num, 2);\n\nexport const odd = num => ! even(num);\n\nexport const between = (min, val, max) => isNumber(val) && val >= min && val <= max;\n\nexport const clamp = (min, value, max) => Math.min(max, Math.max(min, value));\n\nexport const uint8 = n => Math.min(0, parseInt(n) % 255);\n\nexport const uint8clamped = n => clamp(0, parseInt(n), 255);\n\nexport const toHex = val => uint8clamped(val).toString(16).padStart(2, '0');\n\nconst supportsRange = () => 'Iterator' in globalThis && (globalThis.Iterator.range instanceof Function);\n\n/**\n * @deprecated\n */\nexport function range(start, end, step = 1) {\n\tconsole.warn('range() is deprecated. Use `Iterator.range()` instead.');\n\tif (supportsRange()) {\n\t\treturn Iterator.range(start, end, { step });\n\t} else {\n\t\tthrow new DOMException('`Iterator.range()` not supported.');\n\t}\n}\n\n/**\n * Note: Requires iterator helper methods & `Iterator.range()`\n */\nexport function isPrime(n) {\n\tif (! supportsRange()) {\n\t\tthrow new DOMException('`Iterator.range()` not supported.');\n\t} else if (! Number.isSafeInteger(n) || n < 2) {\n\t\treturn false;\n\t} else if (n === 2 || n === 3 || n === 5 || n === 7) {\n\t\treturn true;\n\t} else if (n % 2 === 0) {\n\t\treturn false;\n\t} else {\n\t\tconst sqrtAndOne = Math.floor(Math.sqrt(n)) + 1;\n\t\treturn ! Iterator.range(3, sqrtAndOne, { step: 2 }).some(f => n % f === 0);\n\t}\n}\n\n/**\n * Note: Requires iterator helper methods & `Iterator.range()`\n */\nexport const primes = (start = 2, end = Infinity) => Iterator.range(start, end).filter(isPrime);\n\nexport function* fibonacci(terms = Number.MAX_SAFE_INTEGER) {\n\tif (! (Number.isSafeInteger(terms) && terms > 0)) {\n\t\tthrow new TypeError('Invalid terms given');\n\t}\n\n\tlet current = 1, prev = 1;\n\tyield 1;\n\n\tfor (let term = 1; term < terms; term++) {\n\t\tyield current;\n\t\t[prev, current] = [current, current + prev];\n\t}\n}\n\nexport function randomFloat(min, max) {\n\t[min, max] = [Math.min(min, max), Math.max(min, max)];\n\treturn Math.random() * (max - min + 1) + min;\n}\n\nexport function randomInt() {\n\treturn crypto.getRandomValues(new Uint32Array(1))[0];\n}\n\nexport function* rng({ length = 32 } = {}) {\n\twhile(true) {\n\t\tfor (const num of crypto.getRandomValues(new Uint8Array(length))) {\n\t\t\tyield num;\n\t\t}\n\t}\n}\n\nexport function* rng16({ length = 32 } = {}) {\n\twhile(true) {\n\t\tfor (const num of crypto.getRandomValues(new Uint16Array(length))) {\n\t\t\tyield num;\n\t\t}\n\t}\n}\n\nexport function* rng32({ length = 32 } = {}) {\n\twhile(true) {\n\t\tfor (const num of crypto.getRandomValues(new Uint32Array(length))) {\n\t\t\tyield num;\n\t\t}\n\t}\n}\n\nexport function sigma(start, end, callback) {\n\treturn Iterator.range(start, end).map(callback).reduce((sum, n) => sum + n);\n}\n\nexport function sum(...nums) {\n\treturn nums.reduce((sum, num) => sum + num);\n}\n\nexport function product(...nums) {\n\treturn nums.reduce((prod, num) => prod * num);\n}\n\nexport function mean(...nums) {\n\treturn sum(...nums) / nums.length;\n}\n\nexport function variance(...nums) {\n\tif (nums.length <= 1) {\n\t\treturn 0;\n\t}\n\tconst m = mean(...nums);\n\treturn nums.reduce((sum, num) => sum + (num - m)**2, 0) / (nums.length - 1);\n}\n\nexport function standardDeviation(...nums) {\n\treturn Math.sqrt(variance(...nums));\n}\n\nexport function choose(n, k) {\n\tif (k === 0 || k === n) {\n\t\treturn 1;\n\t} else if (! (Number.isInteger(n) && Number.isInteger(k))) {\n\t\treturn NaN;\n\t}\n\treturn factorial(n) / (k * factorial(n - k));\n}\n\nexport function factorial(n) {\n\tif (! Number.isInteger(n)) {\n\t\treturn NaN;\n\t} else if (n > 1) {\n\t\treturn n * factorial(n - 1);\n\t} else if (n === 1 || n === 0) {\n\t\treturn 1;\n\t} else {\n\t\treturn undefined;\n\t}\n}\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { query, when } from './dom.js';\nimport { signalAborted } from './abort.js';\nimport { getDeferred } from './promises.js';\nimport { debounce as db, throttle } from './utility.js';\n\nexport async function loaded(target, {\n\tsignal: passedSignal,\n\tsuccess = 'load',\n\terror = 'error',\n} = {}) {\n\treturn await new Promise(async (resolve, reject) => {\n\t\tif (passedSignal instanceof AbortSignal && passedSignal.aborted) {\n\t\t\treject(passedSignal.reason);\n\t\t} else if (target instanceof HTMLScriptElement && target.noModule && HTMLScriptElement.supports('module')) {\n\t\t\t/**\n\t\t\t * <script nomodule> will never load\n\t\t\t */\n\t\t\tresolve(target);\n\t\t} else if (target instanceof HTMLLinkElement && target.disabled) {\n\t\t\t/**\n\t\t\t * <link disabled> will never load\n\t\t\t */\n\t\t\tresolve(target);\n\t\t} else if (target instanceof HTMLImageElement && target.loading === 'lazy' && !(target.parentElement instanceof Element)) {\n\t\t\t/**\n\t\t\t * <img loading=\"lazy\"> will not load until appended\n\t\t\t */\n\t\t\tresolve(target);\n\t\t} else if (target instanceof HTMLImageElement && target.decode instanceof Function) {\n\t\t\tawait target.decode();\n\t\t\treturn target;\n\t\t} else {\n\t\t\tconst controller = new AbortController();\n\t\t\tconst signal = passedSignal instanceof AbortSignal ? AbortSignal.any([\n\t\t\t\tpassedSignal,\n\t\t\t\tcontroller.signal,\n\t\t\t]) : passedSignal;\n\n\t\t\tlisten(target, success, ({ target }) => {\n\t\t\t\tresolve(target);\n\t\t\t\tcontroller.abort();\n\t\t\t}, { once: true, signal });\n\n\t\t\tlisten(target, error, ({ target: { tagName, src, href} }) => {\n\t\t\t\tconst error = new Error(`Failed to load <${tagName.toLowerCase()}>`, {\n\t\t\t\t\tcause: new Error(`Request to ${src || href} failed`),\n\t\t\t\t});\n\n\t\t\t\treject(error);\n\t\t\t\tcontroller.abort(error);\n\t\t\t}, { once: true, signal });\n\n\t\t\tif (passedSignal instanceof AbortSignal) {\n\t\t\t\tlisten(passedSignal, 'abort', ({ target: { reason }}) => {\n\t\t\t\t\tif (! controller.signal.aborted) {\n\t\t\t\t\t\treject(reason);\n\t\t\t\t\t\tcontroller.abort(reason);\n\t\t\t\t\t}\n\t\t\t\t}, { once: true, signal: controller.signal });\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport function getEventFeatures() {\n\tconst el = document.createElement('div');\n\tconst eventFeatures = {\n\t\tnativeSignal: 'AbortController' in globalThis && AbortController.prototype.hasOwnProperty('signal'),\n\t\tsignal: false,\n\t\tpassive: false,\n\t\tcapture: false,\n\t\tonce: false,\n\t};\n\n\t// Use of a getter will detect support when properties are read\n\tconst options = {\n\t\tget passive() {\n\t\t\teventFeatures.passive = true;\n\t\t\treturn undefined;\n\t\t},\n\t\tget signal() {\n\t\t\teventFeatures.signal = true;\n\t\t\treturn undefined;\n\t\t},\n\t\tget capture() {\n\t\t\teventFeatures.capture = true;\n\t\t\treturn undefined;\n\t\t},\n\t\tget once() {\n\t\t\teventFeatures.once = true;\n\t\t\treturn undefined;\n\t\t},\n\t};\n\n\ttry {\n\t\tel.addEventListener('click', null, options);\n\t\tel.removeEventListener('click', null, options);\n\t} catch(err) {\n\t\tconsole.error(err);\n\t}\n\n\treturn Object.seal(eventFeatures);\n}\n\nexport const features = getEventFeatures();\n\nexport function addListener(targets, events, callback, { capture, once, passive, signal } = {}) {\n\tif (! Array.isArray(targets)) {\n\t\ttargets = query(targets);\n\t}\n\n\tif (! Array.isArray(events)) {\n\t\tevents = Array.of(events);\n\t}\n\n\ttargets.forEach(target => {\n\t\tevents.forEach(event => listen(target, event, callback, { capture, once, passive, signal }));\n\t});\n}\n\nexport function listen(target, event, callback, { capture, once, passive, signal } = {}) {\n\tif (! (signal instanceof EventTarget && signal.aborted)) {\n\t\ttarget.addEventListener(event, callback, { capture, once, passive, signal });\n\n\t\tif (features.signal === false && signal instanceof EventTarget) {\n\t\t\tsignalAborted(signal).finally(() => target.removeEventListener(event, callback, { capture, once, passive, signal }));\n\t\t}\n\t}\n}\n\nexport async function once(target, event, { capture, passive, signal } = {}) {\n\tconst { resolve, promise } = getDeferred({ signal, reason: new DOMException('Operation aborted') });\n\tlisten(target, event, resolve, { capture, once: true, passive, signal });\n\treturn await promise;\n}\n\nexport function removeListener(targets, events, callback, { capture, once, passive, signal } = {}) {\n\tif (! Array.isArray(targets)) {\n\t\ttargets = query(targets);\n\t}\n\n\tif (! Array.isArray(events)) {\n\t\tevents = Array.of(events);\n\t}\n\n\ttargets.forEach(target => {\n\t\tevents.forEach(event => target.removeEventListener(event, callback, { capture, once, passive, signal }));\n\t});\n}\n\n/**\n * Control the execution rate of callbacks, i.e. for listeners\n * https://davidwalsh.name/function-debounce\n *\n * @param  Callable callback    The callback\n * @param  int      [ms]        Number of milliseconds, defaulting to 1/60th a second\n * @param  bool     [immediate] Trigger function immediately instead of after wait ms\n * @return function             Rate limited function\n */\nexport function debounce(func, wait = 17, immediate = false) {\n\tconsole.warn('debounce() in events.js is deprecated. Please use utility.js instead.');\n\treturn immediate ? throttle(func, { delay: wait }): db(func, { delay: wait });\n}\n\nexport async function whenOnline({ signal } = {}) {\n\tif (navigator.onLine === false) {\n\t\tawait when(window, 'online', { signal });\n\t}\n}\n\nexport async function whenOffline({ signal } = {}) {\n\tif (navigator.onLine === true) {\n\t\tawait when(window, 'offline', { signal });\n\t}\n}\n\nexport async function whenVisible({ signal } = {}) {\n\tif (document.visibilityState === 'hidden') {\n\t\tawait when(document, 'visibilitychange', { signal });\n\t}\n}\n\nexport async function whenHidden({ signal } = {}) {\n\tif (document.visibilityState === 'visible') {\n\t\tawait when(document, 'visibilitychange', { signal });\n\t}\n}\n\nexport async function* yieldEvents(target, event, { capture, passive, signal } = {}) {\n\tconst pending = [];\n\tconst def = {};\n\n\tif (! (signal instanceof AbortSignal)) {\n\t\tthrow new TypeError('`signal` required to be an `AbortSignal`.');\n\t}\n\n\ttarget.addEventListener(event, ev => {\n\t\tif (def.resolve instanceof Function) {\n\t\t\tconst resolve = def.resolve;\n\t\t\tdelete def.resolve;\n\t\t\tresolve(ev);\n\t\t} else {\n\t\t\tpending.push(ev);\n\t\t}\n\t}, { capture, passive, signal });\n\n\twhile (! signal.aborted) {\n\t\twhile (pending.length !== 0 && ! signal.aborted) {\n\t\t\tyield pending.shift();\n\t\t}\n\n\t\tif (! (def.resolve instanceof Function)) {\n\t\t\tconst { resolve, promise, reject } = getDeferred();\n\t\t\tdef.resolve = resolve;\n\t\t\tdef.reject = reject;\n\t\t\tdef.promise = promise;\n\t\t}\n\n\t\tyield await def.promise;\n\t}\n\n\treturn pending;\n}\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { callOnce } from './utility.js';\n\nexport function setProp(el, prop, val, {\n\tpolicy,\n} = {}) {\n\tswitch(getPropertyType(el.tagName, prop)) {\n\t\tcase 'TrustedScript':\n\t\t\tel[prop] = createScript(val, { policy });\n\t\t\tbreak;\n\n\t\tcase 'TrustedScriptURL':\n\t\t\tel[prop] = createScriptURL(val, { policy });\n\t\t\tbreak;\n\n\t\tcase 'TrustedHTML':\n\t\t\tel[prop] = createHTML(val, { policy });\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tel[prop] = val;\n\t}\n}\n\nexport function setAttr(el, attr, val, {\n\telementNs,\n\tpolicy,\n} = {}) {\n\tswitch(getAttributeType(el.tagName, attr, elementNs)) {\n\t\tcase 'TrustedScriptURL':\n\t\t\tif (typeof elementNs === 'string') {\n\t\t\t\tel.setAttributeNs(elementNs, attr, createScriptURL(val, { policy }));\n\t\t\t} else {\n\t\t\t\tel.setAttribute(attr, createScriptURL(val, { policy }));\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'TrustedScript':\n\t\t\tif (typeof elementNs === 'string') {\n\t\t\t\tel.setAttributeNS(elementNs, attr, createScript(val, { policy }));\n\t\t\t} else {\n\t\t\t\tel.setAttribute(attr, createScript(val, { policy }));\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'TrustedHTML':\n\t\t\tif (typeof elementNs === 'string') {\n\t\t\t\tel.setAttributeNS(elementNs, attr, createHTML(val, { policy }));\n\t\t\t} else {\n\t\t\t\tel.setAttribute(attr, createHTML(val, { policy }));\n\t\t\t}\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tif (typeof elementNs === 'string') {\n\t\t\t\tel.setAttributeNS(elementNs, attr, val);\n\t\t\t} else {\n\t\t\t\tel.setAttribute(attr, val);\n\t\t\t}\n\t}\n}\n\nexport function supported() {\n\treturn 'trustedTypes' in globalThis\n\t\t&& trustedTypes instanceof EventTarget\n\t\t&& trustedTypes.createPolicy instanceof Function;\n}\n\nexport function isTrustPolicy(policy) {\n\tif ('TrustedTypePolicy' in globalThis && policy instanceof TrustedTypePolicy) {\n\t\treturn true;\n\t} else {\n\t\treturn policy != null && policy.createHTML instanceof Function;\n\t}\n}\n\nexport function hasDefaultPolicy() {\n\treturn supported() && isTrustPolicy(trustedTypes.defaultPolicy);\n}\n\nexport function getAttributeType(tagName, attribute, elementNs) {\n\tif (supported()) {\n\t\treturn trustedTypes.getAttributeType(tagName.toLowerCase(), attribute, elementNs);\n\t} else {\n\t\treturn null;\n\t}\n}\n\nexport function getPropertyType(tagName, property) {\n\tif (supported()) {\n\t\treturn trustedTypes.getPropertyType(tagName.toLowerCase(), property);\n\t} else {\n\t\treturn null;\n\t}\n}\n\nexport function isHTML(input) {\n\tif (supported()) {\n\t\treturn trustedTypes.isHTML(input);\n\t} else {\n\t\treturn typeof input === 'string';\n\t}\n}\n\nexport function isScript(input) {\n\tif (supported()) {\n\t\treturn trustedTypes.isScript(input);\n\t} else {\n\t\treturn typeof input === 'string';\n\t}\n}\n\nexport function isScriptURL(input) {\n\tif (supported()) {\n\t\treturn trustedTypes.isScriptURL(input);\n\t} else {\n\t\treturn typeof input === 'string' || input instanceof URL;\n\t}\n}\n\nexport function isTrustedType(input) {\n\tif (supported()) {\n\t\treturn trustedTypes.isHTML(input) || trustedTypes.isScript(input) || trustedTypes.isScriptURL(input);\n\t} else {\n\t\treturn true;\n\t}\n}\n\nexport function createHTML(input, { policy = getDefaultPolicy() } = {}) {\n\tif (isTrustPolicy(policy) && ! isHTML(input)) {\n\t\treturn policy.createHTML(input);\n\t} else {\n\t\treturn input;\n\t}\n}\n\nexport function createScript(input, { policy = getDefaultPolicy() } = {}) {\n\tif (isTrustPolicy(policy) && ! isScript(input)) {\n\t\treturn policy.createScript(input);\n\t} else {\n\t\treturn input;\n\t}\n}\n\nexport function createScriptURL(input, { policy = getDefaultPolicy() } = {}) {\n\tif (isTrustPolicy(policy) && ! isScriptURL(input)) {\n\t\treturn policy.createScriptURL(input);\n\t} else {\n\t\treturn input;\n\t}\n}\n\nexport function createPolicy(name, {\n\tcreateHTML = () => {\n\t\tthrow new TypeError('This policy does not provide `createHTML()`');\n\t},\n\tcreateScript = () => {\n\t\tthrow new TypeError('This policy does not provide `createScript()`');\n\t},\n\tcreateScriptURL = () => {\n\t\tthrow new TypeError('This policy does not provide `createScriptURL()`');\n\t},\n}) {\n\tif (supported()) {\n\t\treturn trustedTypes.createPolicy(name, { createHTML, createScript, createScriptURL });\n\t} else {\n\t\treturn Object.freeze({\n\t\t\tname,\n\t\t\tcreateHTML: (input, ...args) => createHTML(input.toString(), ...args),\n\t\t\tcreateScript: (input, ...args) => createScript(input.toString(), ...args),\n\t\t\tcreateScriptURL: (input, ...args) => createScriptURL(input.toString(), ...args),\n\t\t});\n\t}\n}\n\nexport function getDefaultPolicy() {\n\tif (supported()) {\n\t\treturn trustedTypes.defaultPolicy;\n\t} else {\n\t\treturn null;\n\t}\n}\n\nexport const createHTMLPolicyGetter = (name, cb) => callOnce(() => createPolicy(name, { createHTML: cb }));\n\nexport const createScriptPolicyGetter = (name, cb) => callOnce(() => createPolicy(name, { createScript: cb }));\n\nexport const createScriptURLPolicyGetter = (name, cb) => callOnce(() => createPolicy(name, { createScriptURL: cb }));\n","/**\n * @copyright 2021-2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { signalAborted } from './abort.js';\nimport { addListener, listen } from './events.js';\nimport { getDeferred, isAsync } from './promises.js';\nimport { isHTML, isTrustPolicy } from './trust.js';\nimport { HTML } from './types.js';\nimport { errorToEvent, callOnce, isNullish, isIterable } from './utility.js';\nimport { data as setData, css as setCss, attr as setAttr, aria as setAria } from './attrs.js';\n\nexport const readyStates = ['loading', 'interactive', 'complete'];\n\nexport const readyStateIndex = (state = document.readyState) => readyStates.indexOf(state);\n\nexport const reachedState = state => ! readyStateIndex(document.readyState) > readyStateIndex(state);\n\nexport function query(what, base = document) {\n\tif (Array.isArray(what)) {\n\t\treturn what;\n\t} else if (what instanceof EventTarget) {\n\t\treturn [what];\n\t} else if (typeof what === 'string') {\n\t\tconst matches = Array.from(base.querySelectorAll(what));\n\n\t\tif (base.matches instanceof Function && base.matches(what)) {\n\t\t\tmatches.push(base);\n\t\t}\n\t\treturn matches;\n\t} else if (isIterable(what)) {\n\t\treturn Array.from(what);\n\t} else {\n\t\tthrow new TypeError('Invalid \"what\" given to query()');\n\t}\n}\n\nexport function nth(what, n, { base } = {}) {\n\treturn query(what, base).at(n);\n}\n\nexport function first(what, base) {\n\treturn nth(what, 0, { base });\n}\n\nexport function last(what, base) {\n\treturn nth(what, -1, { base });\n}\n\nexport function each(what, callback, { base } = {}) {\n\tconst items = query(what, base);\n\titems.forEach(callback);\n\treturn items;\n}\n\nexport function map(what, callback, { base } = {}) {\n\treturn query(what, base).map(callback);\n}\n\nexport function some(what, callback, { base } = {}) {\n\treturn query(what, base).some(callback);\n}\n\nexport function every(what, callback, { base } = {}) {\n\treturn query(what, base).every(callback);\n}\n\nexport function find(what, callback, { base } = {}) {\n\treturn query(what, base).find(callback);\n}\n\nexport function filter(what, callback, { base } = {}) {\n\treturn query(what, base).filter(callback);\n}\n\nexport function groupToMap(what, callback, { base } = {}) {\n\treturn query(what, base).groupToMap(callback);\n}\n\nexport function group(what, callback, { base } = {}) {\n\treturn query(what, base).group(callback);\n}\n\nexport function append(parent, ...nodes) {\n\tparent.append(...nodes);\n}\n\nexport function remove(what, { base } = {}) {\n\treturn each(what, item => item.remove(), { base });\n}\n\nexport function meta({ name, itemprop, property, charset, content }) {\n\tconst meta = document.createElement('meta');\n\n\tif (typeof name === 'string') {\n\t\tmeta.name = name;\n\t\tmeta.content = content;\n\t} else if (typeof itemprop === 'string') {\n\t\tmeta.setAttribute('itemprop', itemprop);\n\t\tmeta.content = content;\n\t} else if (typeof property === 'string') {\n\t\tmeta.setAttribute('property', property);\n\t\tmeta.content = content;\n\t} else if (typeof charset === 'string') {\n\t\tmeta.setAttribute('charset', charset);\n\t} else {\n\t\tthrow new Error('Meta must have either name, itemprop, property, or charset given');\n\t}\n\n\treturn meta;\n}\n\nexport function css(what, props = {}, { base, priority } = {}) {\n\treturn each(what, item => setCss(item, props, { priority }), { base });\n}\n\nexport function aria(what, props ={}, { base } = {}) {\n\teach(what, item => setAria(item, props), { base });\n}\n\nexport function data(what, props = {}, { base } = {}) {\n\treturn each(what, item => setData(item, props), { base });\n}\n\nexport function attr(what, props = {}, { base, namespace = null, policy } = {}) {\n\treturn each(what, item => setAttr(item, props, { namespace, policy }), { base });\n}\n\nexport function toggleAttr(what, attrs, { base, force, signal } = {}) {\n\tif (! Array.isArray(attrs)) {\n\t\tattrs = [attrs];\n\t}\n\tconst items = query(what, base);\n\n\tif (! (signal instanceof AbortSignal)) {\n\t\titems.forEach(item => attrs.forEach(attr => item.toggleAttribute(attr, force)));\n\t} else if (signal.aborted) {\n\t\titems.forEach(item => attrs.forEach(attr => item.removeAttribute(attr)));\n\t} else {\n\t\tif (typeof force !== 'boolean') {\n\t\t\tforce = true;\n\t\t}\n\n\t\titems.forEach(item => attrs.forEach(attr => item.toggleAttribute(attr, force)));\n\n\t\tsignal.addEventListener('abort', () => {\n\t\t\titems.forEach(item => attrs.forEach(attr => item.toggleAttribute(attr, !force)));\n\t\t}, { once: true });\n\t}\n\treturn items;\n}\n\nexport function disable(what, { base, value = true } = {}) {\n\treturn each(what, el => el.disabled = value, { base });\n}\n\nexport function enable(what, { base, value = false } = {}) {\n\treturn disable(what, { base, value });\n}\n\nexport function hide(what, { base, value = true } = {}) {\n\treturn each(what, el => el.hidden = value, { base });\n}\n\nexport function unhide(what, { base, value = false } = {}) {\n\treturn hide(what, { base, value });\n}\n\nexport function value(what, value, { base } = {}) {\n\tif (value == null) {\n\t\treturn each(what, el => el.removeAttribute('value'), { base });\n\t} else {\n\t\treturn each(what, el => el.value = value, { base });\n\t}\n}\n\nexport function addClass(what, ...args) {\n\treturn each(what, el => el.classList.add(...args));\n}\n\nexport function removeClass(what, ...args) {\n\treturn each(what, el => el.classList.remove(...args));\n}\n\nexport function toggleClass(what, classes = {}, { base, force } = {}) {\n\treturn each(what, item => {\n\t\tif (typeof classes === 'string') {\n\t\t\treturn item.classList.toggle(classes, force);\n\t\t} else if (Array.isArray(classes)) {\n\t\t\tclasses.forEach(cn => item.classList.toggle(cn, force));\n\t\t} else {\n\t\t\tObject.entries(classes).forEach(([cl, cond]) => {\n\t\t\t\tif (cond instanceof Function) {\n\t\t\t\t\titem.classList.toggle(cl, cond.apply(what, [cl]));\n\t\t\t\t} else if (cond instanceof AbortSignal) {\n\t\t\t\t\tif (cond.aborted) {\n\t\t\t\t\t\titem.classList.remove(cl);\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.classList.add(cl, true);\n\t\t\t\t\t\tcond.addEventListener('abort', () => {\n\t\t\t\t\t\t\titem.classList.remove(cl);\n\t\t\t\t\t\t}, { once: true });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\titem.classList.toggle(cl, cond);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, { base });\n}\n\nexport function replaceClass(what, classes = {}, { base } = {}) {\n\tconst entries = Object.entries(classes);\n\n\treturn each(what, item => {\n\t\tentries.forEach(([from, to]) => item.classList.replace(from, to));\n\t}, { base });\n}\n\nexport function text(what, text, { base } = {}) {\n\treturn each(what, el => el.textContent = text, { base });\n}\n\nexport function html(what, text, {\n\tbase,\n\tsanitizer,\n\tpolicy = 'trustedTypes' in globalThis ? globalThis.trustedTypes.defaultPolicy : undefined,\n} = {}) {\n\tif (typeof sanitizer !== 'undefined' && Element.prototype.setHTML instanceof Function) {\n\t\treturn each(what, el => el.setHTML(text, { sanitizer }), { base });\n\t} else if (isHTML(text)) {\n\t\treturn each(what, el => el.innerHTML = text, { base });\n\t} else if (! isNullish(policy) && policy.createHTML instanceof Function) {\n\t\ttext = policy.createHTML(text);\n\t\treturn each(what, el => el.innerHTML = text, { base });\n\t} else {\n\t\treturn each(what, el => el.innerHTML = text, { base });\n\t}\n}\n\nexport function on(what, when, ...args) {\n\t// @TODO: Figure out a way of adding `base` to arguments\n\tconst items = query(what);\n\n\tif (typeof when === 'string') {\n\t\taddListener(items, [when], ...args);\n\t} else if (Array.isArray(when)) {\n\t\taddListener(items, when, ...args);\n\t} else {\n\t\tObject.entries(when).forEach(([ev, cb]) => addListener(items, [ev], cb, ...args));\n\t}\n\n\treturn items;\n}\n\nexport function prevent(what, event = ['submit'], { signal, capture } = {}) {\n\treturn on(what, event, ev => ev.preventDefault(), { signal, capture });\n}\n\nexport function off(what, when, ...args) {\n\treturn each(what, item => {\n\t\tif (typeof when === 'string') {\n\t\t\titem.removeEventListener(when, ...args);\n\t\t} else if (Array.isArray(when)) {\n\t\t\twhen.forEach(e =>  item.removeEventListener(e, ...args));\n\t\t} else {\n\t\t\tObject.entries(when).forEach(([ev, cb]) => item.removeEventListener(ev, cb, ...args));\n\t\t}\n\t});\n}\n\nexport async function when(what, events, { capture, passive, signal, base } = {}) {\n\tconst controller = new AbortController();\n\tconst { promise, resolve, reject } = getDeferred();\n\n\tif (signal instanceof AbortSignal) {\n\t\tif (signal.aborted) {\n\t\t\tcontroller.abort(signal.reason);\n\t\t} else {\n\t\t\taddEventListener([signal], ['abort'], () => {\n\t\t\t\tcontroller.abort(signal.reason);\n\t\t\t\treject(signal.reason);\n\t\t\t}, { once: true, signal: controller.signal });\n\t\t}\n\t}\n\n\tif (controller.signal.aborted) {\n\t\treject(controller.signal.reason);\n\t} else {\n\t\ton(query(what, base), events, event => {\n\t\t\tresolve(event);\n\t\t\tcontroller.abort();\n\t\t}, { capture, passive, signal: controller.signal });\n\t}\n\n\treturn promise;\n}\n\nexport const ready = callOnce(async function ready({ signal } = {}) {\n\tconst { promise, resolve, reject } = getDeferred();\n\n\tif (signal instanceof AbortSignal && signal.aborted) {\n\t\treject(signal.reason || new DOMException('Operation aborted.'));\n\t} else if (readyStateIndex() === 0) {\n\t\tlisten(document, 'DOMContentLoaded', resolve, { signal, once: true, capture: true });\n\n\t\tif (signal instanceof AbortSignal) {\n\t\t\tsignal.addEventListener('abort',\n\t\t\t\t({ target }) => reject(target.reason || new DOMException('Operation aborted.')),\n\t\t\t\t{ once: true }\n\t\t\t);\n\t\t}\n\t} else {\n\t\tresolve();\n\t}\n\n\treturn promise;\n});\n\nexport async function whenReadyState(state, { signal } = {}) {\n\tconst { resolve, reject, promise } = getDeferred();\n\tconst stateIndex = readyStateIndex(state);\n\n\tif (signal instanceof AbortSignal && signal.aborted) {\n\t\treject(signal.reason || new DOMException('Operation aborted.'));\n\t} else if (stateIndex < 0) {\n\t\treject(new DOMException(`Invalid state: ${state}`));\n\t} else if (stateIndex > readyStateIndex()) {\n\t\tconst controller = new AbortController();\n\t\tlet settled = false;\n\n\t\tcontroller.signal.addEventListener('abort', ({ target }) => {\n\t\t\tif (! settled) {\n\t\t\t\treject(target.reason || new DOMException('Operation aborted.'));\n\t\t\t\tsettled = true;\n\t\t\t}\n\t\t}, { once: true });\n\n\t\tif (signal instanceof AbortSignal) {\n\t\t\tsignal.addEventListener('abort', ({ target }) => {\n\t\t\t\tcontroller.abort(target.reason);\n\t\t\t}, { once: true, signal: controller.signal });\n\t\t}\n\n\t\tdocument.addEventListener('readystatechange', () => {\n\t\t\tif (document.readyState === state) {\n\t\t\t\tresolve();\n\t\t\t\tsettled = true;\n\t\t\t\tcontroller.abort();\n\t\t\t}\n\t\t}, { signal: controller.signal });\n\t} else {\n\t\tresolve();\n\t}\n\n\treturn promise;\n}\n\nexport const interactive =  callOnce(async function interactive({ signal } = {}) {\n\tawait whenReadyState('interactive', { signal });\n});\n\nexport const complete = callOnce(async function complete({ signal } = {}) {\n\tawait whenReadyState('complete', { signal });\n});\n\nexport const loaded =  callOnce(async function loaded({ signal } = {}) {\n\tconst { promise, resolve, reject } = getDeferred();\n\n\tif (signal instanceof AbortSignal && signal.aborted) {\n\t\treject(signal.reason || new DOMException('Operation aborted.'));\n\t} else if (readyStateIndex() < 2) {\n\t\tlisten(globalThis, 'load', resolve, { signal, once: true, capture: true });\n\n\t\tif (signal instanceof AbortSignal) {\n\t\t\tsignal.addEventListener('abort',\n\t\t\t\t({ target }) => reject(target.reason || new DOMException('Operation aborted.')),\n\t\t\t\t{ once: true }\n\t\t\t);\n\t\t}\n\t} else {\n\t\tresolve();\n\t}\n\n\treturn promise;\n});\n\nexport const unloaded = callOnce(async function unloaded({ signal } = {}) {\n\tconst { promise, resolve } = getDeferred();\n\tlisten(globalThis, 'unload', resolve, { signal, once: true, capture: true });\n\treturn promise;\n});\n\nexport const beforeUnload = callOnce(async function beforeUnload({ signal } = {}) {\n\tconst { promise, resolve } = getDeferred({ signal });\n\tlisten(globalThis, 'beforeunload', resolve, { signal, once: true, capture: true });\n\treturn promise;\n});\n\nexport const beforeInstallPrompt = callOnce(async function({ signal } = {}) {\n\tconst { promise, resolve, reject } = getDeferred();\n\n\tif (signal instanceof AbortSignal && signal.aborted) {\n\t\treject(signal.reason);\n\t} else if ('onbeforeinstallprompt' in globalThis) {\n\t\tlisten(globalThis, 'beforeinstallprompt', resolve, { once: true, capture: true, signal });\n\n\t\tif (signal instanceof AbortSignal) {\n\t\t\tlisten(signal, 'abort', ({ reason }) => reject(reason), { once: true });\n\t\t}\n\t}\n\n\treturn await promise;\n});\n\nexport async function whenPageVisible({ signal } = {}) {\n\tconst { promise, resolve } = getDeferred({ signal });\n\n\tif (document.visibilityState === 'visible') {\n\t\tresolve();\n\t} else {\n\t\tlisten(document, 'visibilitychange', () => resolve(), { once: true, signal });\n\t}\n\n\treturn promise;\n}\n\nexport async function whenPageHidden({ signal } = {}) {\n\tconst { promise, resolve } = getDeferred({ signal });\n\n\tif (document.visibilityState === 'hidden') {\n\t\tresolve();\n\t} else {\n\t\tlisten(document, 'visibilitychange', () => resolve(), { once: true, signal });\n\t}\n\n\treturn promise;\n}\n\nexport function parse(text, {\n\ttype = HTML,\n\tasFrag = true,\n\tsanitizer,\n\tpolicy = 'trustedTypes' in globalThis ? globalThis.trustedTypes.defaultPolicy : undefined,\n} = {}) {\n\tconst parser = new DOMParser();\n\n\tif (asFrag) {\n\t\treturn parseAsFragment(text, { sanitizer, policy });\n\t} else if (isTrustPolicy(policy) && ! isHTML(text)) {\n\t\treturn parser.parseFromString(policy.createHTML(text), type);\n\t} else {\n\t\treturn parser.parseFromString(text, type);\n\t}\n}\n\nexport function documentToFragment(doc, { sanitizer } = {}) {\n\tconst clone = doc.cloneNode(true);\n\tconst frag = document.createDocumentFragment();\n\tfrag.append(...clone.head.childNodes, ...clone.body.childNodes);\n\n\treturn typeof sanitizer !== 'undefined' && sanitizer.sanitize instanceof Function\n\t\t? sanitizer.sanitize(frag) : frag;\n}\n\nexport function parseAsFragment(text, {\n\tsanitizer,\n\tpolicy = 'trustedTypes' in globalThis ? globalThis.trustedTypes.defaultPolicy : undefined,\n} = {}) {\n\tconst tmp = document.createElement('template');\n\n\tif (isTrustPolicy(policy) && ! isHTML(text)) {\n\t\ttmp.innerHTML = policy.createHTML(text);\n\t} else {\n\t\ttmp.innerHTML = text;\n\t}\n\n\treturn typeof sanitizer !== 'undefined' && sanitizer.sanitize instanceof Function\n\t\t? sanitizer.sanitize(tmp.content)\n\t\t: tmp.content;\n}\n\nexport function animate(what, keyframes, opts = { duration: 400, base: document.body }) {\n\tif (opts.signal instanceof AbortSignal && opts.signal.aborted) {\n\t\tthrow opts.signal.reason;\n\t} else if (! (Element.prototype.animate instanceof Function)) {\n\t\tthrow new DOMException('Animations not supported');\n\t} else {\n\t\tif (Number.isInteger(opts)) {\n\t\t\topts = { duration: opts };\n\t\t}\n\n\t\tconst animations = query(what, opts.base).map(item => item.animate(keyframes, opts));\n\n\t\tif (opts.signal instanceof AbortSignal) {\n\t\t\topts.signal.addEventListener('abort', () => animations.forEach(anim => anim.cancel()), { once: true });\n\t\t}\n\n\t\tif (opts.resolve instanceof Function) {\n\t\t\tPromise.allSettled(animations.map(anim => anim.finished))\n\t\t\t\t.then(proms => opts.resolve(proms.group(({ status }) => status)));\n\t\t}\n\n\t\treturn animations;\n\t}\n}\n\nexport function intersect(what, callback, { root, rootMargin, signal, threshold } = {}) {\n\tif (signal instanceof AbortSignal && signal.aborted) {\n\t\tthrow signal.reason;\n\t} else if (! ('IntersectionObserver' in globalThis)) {\n\t\tthrow new DOMException('IntersectionObserver not supported');\n\t} else {\n\t\tconst observer = new IntersectionObserver((entries, observer) => {\n\t\t\tentries.forEach((entry, index) => callback.apply(null, [entry, observer, index]));\n\t\t}, { root, rootMargin, threshold });\n\n\t\teach(what, item => observer.observe(item));\n\n\t\tif (signal instanceof AbortSignal) {\n\t\t\tsignalAborted(signal).finally(() => observer.disconnect());\n\t\t}\n\n\t\treturn observer;\n\t}\n}\n\nexport function mutate(what, callback, options = {}) {\n\tif ('MutationObserver' in globalThis) {\n\t\tconst observer = new MutationObserver((records, observer) => {\n\t\t\trecords.forEach((record, index) => callback.apply(null, [record, observer, index]));\n\t\t});\n\n\t\teach(what, item => observer.observe(item, options));\n\n\t\tif (options.signal instanceof AbortSignal) {\n\t\t\tsignalAborted(options.signal).finally(() => observer.disconnect());\n\t\t}\n\n\t\treturn observer;\n\t} else {\n\t\tthrow new Error('MutationObserver not supported');\n\t}\n}\n\nexport function stripComments(node) {\n\tif (! (node instanceof Node)) {\n\t\tthrow new TypeError('Cannot strip comments from non-node');\n\t} else {\n\t\tswitch(node.nodeType) {\n\t\t\tcase Node.ELEMENT_NODE:\n\t\t\tcase Node.DOCUMENT_NODE:\n\t\t\tcase Node.DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tif (node.hasChildNodes()) {\n\t\t\t\t\t[...node.childNodes].forEach(stripComments);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase Node.COMMENT_NODE:\n\t\t\t\tnode.remove();\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nexport function supportsElement(...tags) {\n\treturn ! tags.some(tag => document.createElement(tag) instanceof HTMLUnknownElement);\n}\n\nexport function createTable(data, { caption, header, footer } = {}) {\n\tconst table = document.createElement('table');\n\tif (Array.isArray(data)) {\n\t\tdata.forEach(row => {\n\t\t\tif (Array.isArray(row)) {\n\t\t\t\tconst tr = table.insertRow();\n\t\t\t\trow.forEach(cell => tr.insertCell().textContent = cell);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (Array.isArray(header)) {\n\t\tconst tHead = table.createTHead();\n\t\tconst row = tHead.insertRow();\n\t\trow.append(...header.map(cell => {\n\t\t\tconst th = document.createElement('th');\n\t\t\tth.scope = 'col';\n\t\t\tth.textContent = cell;\n\t\t\treturn th;\n\t\t}));\n\t}\n\n\tif (Array.isArray(footer)) {\n\t\tconst tFoot = table.createTFoot();\n\t\tconst row = tFoot.insertRow();\n\t\trow.append(...footer.map(cell => {\n\t\t\tconst th = document.createElement('th');\n\t\t\tth.textContent = cell;\n\t\t\treturn th;\n\t\t}));\n\t}\n\n\tif (typeof caption === 'string') {\n\t\ttable.createCaption().textContent = caption;\n\t}\n\n\treturn table;\n}\n\nexport { addListener, isAsync, errorToEvent };\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { when, beforeUnload, unloaded } from './dom.js';\nimport { getDeferred } from './promises.js';\nimport { listen } from './events.js';\nexport const supported =  'AbortController' in window && AbortController.prototype.hasOwnProperty('signal');\n\nexport function throwIfAborted(signal) {\n\tif (signal instanceof AbortController) {\n\t\tsignal.signal.throwIfAborted();\n\t} else if (signal instanceof AbortSignal) {\n\t\tsignal.throwIfAborted();\n\t}\n}\n\nexport function getBeforeUnloadSignal() {\n\tconst controller = new AbortController();\n\tbeforeUnload().then(() => controller.abort());\n\treturn controller.signal;\n}\n\nexport function getUnloadSignal() {\n\tconst controller = new AbortController();\n\tunloaded().then(() => controller.abort());\n\treturn controller.signal;\n}\n\nexport function isAborted(signal) {\n\tif (signal instanceof AbortController) {\n\t\treturn signal.signal.aborted;\n\t} else {\n\t\treturn signal instanceof AbortSignal && signal.aborted;\n\t}\n}\n\nexport async function signalAborted(signal) {\n\tconst { reject, promise } = getDeferred();\n\n\tif (signal instanceof AbortController) {\n\t\treturn signalAborted(signal.signal);\n\t} else if (! (signal instanceof EventTarget)) {\n\t\treject(new DOMException('Not an AbortSignal'));\n\t} else if (signal.aborted) {\n\t\treject(signal.reason);\n\t} else {\n\t\tsignal.addEventListener('abort', ({ target }) => reject(target.reason),{ once: true });\n\t}\n\n\treturn promise;\n}\n\nexport function abortButtonController(button, { reason } = {}) {\n\tif (! (button instanceof HTMLButtonElement)) {\n\t\tthrow new TypeError('Not a <button>');\n\t}\n\n\tconst controller = new AbortController();\n\tbutton.disabled = false;\n\n\tlisten(button, 'click', () => controller.abort(reason), { signal: controller.signal, once: true });\n\tlisten(controller.signal, 'abort', () => button.disabled = true, { once: true });\n\n\treturn controller;\n}\n\n/**\n * @deprecated\n */\nexport function abortTimeoutController(timeout, { reason } = {}) {\n\tconsole.warn('`abortTimeoutController()` is deprecated. Use `AbortSignal.timeout()` instead.');\n\tconst controller = new AbortController();\n\n\tabortableTimeout(() => controller.abort(reason), timeout, { signal: controller.signal });\n\n\treturn controller;\n}\n\n/**\n * @deprecated\n */\nexport function abortTimeoutSignal(timeout, { reason } = {}) {\n\treturn abortTimeoutController(timeout, { reason }).signal;\n}\n\nexport function abortEventController(what, events, { passive, capture, reason } = {}) {\n\tconst controller = new AbortController();\n\n\twhen(what, events, { signal: controller.signal, capture, passive, once: true }).then(() => {\n\t\tif (! controller.signal.aborted) {\n\t\t\tcontroller.abort(reason);\n\t\t}\n\t});\n\n\treturn controller;\n}\n\nexport function abortableTimeout(callback, ms, { signal } = {}) {\n\tconst id = setTimeout(() => callback(), ms);\n\n\tif (signal instanceof AbortSignal) {\n\t\tsignalAborted(signal).finally(() => clearTimeout(id));\n\t}\n\n\treturn id;\n}\n\nexport function abortableInterval(callback, ms, { signal } = {}) {\n\tconst id = setInterval(() => callback(), ms);\n\n\tif (signal instanceof AbortSignal) {\n\t\tsignalAborted(signal).finally(() => clearInterval(id));\n\t}\n\n\treturn id;\n}\n\nexport function abortableAnimationFrame(callback, { signal } = {}) {\n\tconst id = requestAnimationFrame(callback);\n\n\tif (signal instanceof AbortSignal) {\n\t\tsignalAborted(signal).finally(() => cancelAnimationFrame(id));\n\t}\n\n\treturn id;\n}\n\nexport function abortableIdleCallback(callback, { signal, timeout } = {}) {\n\tconst id = requestIdleCallback(callback);\n\n\tif (signal instanceof AbortSignal) {\n\t\tsignalAborted(signal).finally(() => cancelIdleCallback(id, { timeout }));\n\t}\n\n\treturn id;\n}\n\nexport function signalRaceController(...signals) {\n\tconst controller = new AbortController();\n\tconst signal = anyAbortedSignal(...signals);\n\n\tsignal.addEventListener('abort', ({ target }) => {\n\t\tcontroller.abort(target.reason || new DOMException('Operation aborted.'));\n\t}, { signal: controller.signal });\n\n\treturn controller;\n}\n\nexport function signalAllController(...signals) {\n\tconst controller = new AbortController();\n\n\tPromise.all(signals.map(signal => signalAborted(signal))).finally(() => controller.abort());\n\n\treturn controller;\n}\n\nexport function anyAbortedSignal(...signals) {\n\tif (AbortSignal.any instanceof Function) {\n\t\treturn AbortSignal.any(signals);\n\t} else {\n\t\tconst controller = new AbortController();\n\n\t\tfor (const signal of signals) {\n\t\t\tif (! (signal instanceof AbortSignal)) {\n\t\t\t\tconst err = new TypeError('`signal` is not an `AbortSignal`');\n\t\t\t\tcontroller.abort(err);\n\t\t\t\tthrow err;\n\t\t\t} else if (signal.aborted) {\n\t\t\t\tcontroller.abort(signal.reason || new DOMException('Operation aborted.'));\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tsignal.addEventListener('abort', ({ target }) => {\n\t\t\t\t\tcontroller.abort(target.reason || new DOMException('Operation aborted.'));\n\t\t\t\t}, { signal: controller.signal });\n\t\t\t}\n\t\t}\n\n\t\treturn controller.signal;\n\t}\n}\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { signalAborted } from './abort.js';\nexport const infinitPromise = new Promise(() => {});\n\nexport async function locksSupported() {\n\tif ('locks' in navigator) {\n\t\ttry {\n\t\t\treturn await navigator.locks.request('lock-test', () => true);\n\t\t} catch(err) {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport function isAsyncFunction(what) {\n\treturn what instanceof Function && what.constructor.name === 'AsyncFunction';\n}\n\nexport function isAsync(what) {\n\treturn isAsyncFunction(what) || what instanceof  Promise;\n}\n\nexport function getDeferred({ signal } = {}) {\n\tconst deferred = {};\n\n\tdeferred.promise = new Promise((resolve, reject) => {\n\t\tdeferred.resolve = resolve;\n\t\tdeferred.reject = reject;\n\t});\n\n\tif (signal instanceof EventTarget && signal.throwIfAborted instanceof Function) {\n\t\tif (signal.aborted) {\n\t\t\tdeferred.reject(signal.reason);\n\t\t} else {\n\t\t\tsignal.addEventListener('abort', ({ target }) => deferred.reject(target.reason), { once: true });\n\t\t}\n\t}\n\n\treturn Object.seal(deferred);\n}\n\nexport async function callAsAsync(callback, args = [], { thisArg = globalThis, signal } = {}) {\n\tconst { promise, resolve, reject } = getDeferred({ signal });\n\n\tif (! (callback instanceof Function)) {\n\t\treject(new TypeError('`callAsAsync` expects callback to be a function'));\n\t} else if (! Array.isArray(args)) {\n\t\treject(new TypeError('`args` must be an array'));\n\t} else if (signal instanceof AbortSignal && signal.aborted) {\n\t\treject(signal.reason);\n\t} else if (isAsyncFunction(callback)) {\n\t\tcallback.call(thisArg, args).then(resolve).catch(reject);\n\t} else {\n\t\tqueueMicrotask(() => {\n\t\t\ttry {\n\t\t\t\tresolve(callback.call(thisArg, args));\n\t\t\t} catch(err) {\n\t\t\t\treject(err);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn await promise;\n}\n\nexport function createDeferredCallback(callback, { signal, thisArg } = {}) {\n\tconst { promise, resolve } = getDeferred({ signal });\n\tconst retPromise = promise.then(() => callAsAsync(callback, [], { signal, thisArg }));\n\n\treturn async () => {\n\t\tresolve();\n\t\treturn await retPromise;\n\t};\n}\n\nexport async function lock(name, callback, {\n\tthisArg = globalThis,\n\targs = [],\n\tmode = 'exclusive',\n\tifAvailable = false,\n\tsteal = false,\n\tallowFallback = true,\n\tsignal,\n} = {}) {\n\tif ((! allowFallback) || await locksSupported()) {\n\t\treturn await navigator.locks.request(name, { mode, ifAvailable, steal, signal }, async lock => {\n\t\t\tif (lock) {\n\t\t\t\treturn await callAsAsync(callback, [lock, ...args], { thisArg, signal });\n\t\t\t}\n\t\t});\n\t} else {\n\t\treturn await callAsAsync(callback, [null, ...args], { signal, thisArg });\n\t}\n}\n\nexport async function onAnimationFrame(callback, {\n\tthisArg = globalThis,\n\targs = [],\n\tsignal,\n} = {}) {\n\tconst { promise, resolve, reject } = getDeferred({ signal });\n\tconst id = requestAnimationFrame(hrts => callAsAsync(callback, [hrts, ...args], { signal, thisArg }).then(resolve, reject));\n\n\tif (signal instanceof AbortSignal) {\n\t\tsignalAborted(signal).finally(() => cancelAnimationFrame(id));\n\t}\n\n\treturn await promise;\n}\n\nexport async function onIdle(callback, {\n\ttimeout,\n\tthisArg = globalThis,\n\targs = [],\n\tsignal,\n} = {}) {\n\tconst { promise, resolve, reject } = getDeferred({ signal });\n\tconst id = requestIdleCallback(hrts => callAsAsync(callback, [hrts, ...args], { thisArg, signal }).then(resolve, reject), { timeout });\n\n\tif (signal instanceof AbortSignal) {\n\t\tsignalAborted(signal).finally(() => cancelIdleCallback(id));\n\t}\n\n\treturn await promise;\n}\n\nexport async function onTimeout(callback, {\n\ttimeout = 0,\n\tthisArg = globalThis,\n\targs = [],\n\tsignal,\n} = {}) {\n\tconst { resolve, reject, promise } = getDeferred({ signal });\n\n\tif (Number.isSafeInteger(timeout) && timeout >= 0) {\n\t\tconst id = setTimeout(() => {\n\t\t\tcallAsAsync(callback, args, { signal, thisArg }).then(resolve).catch(reject);\n\t\t}, timeout);\n\n\t\tif (signal instanceof AbortSignal) {\n\t\t\tsignalAborted(signal).finally(() => clearTimeout(id));\n\t\t}\n\t} else {\n\t\treject(new TypeError('`timeout` must be a positive intege'));\n\t}\n\n\treturn await promise;\n}\n\nexport async function sleep(timeout, { signal } = {}) {\n\tconst { resolve, promise } = getDeferred({ signal });\n\tonTimeout(() => resolve(performance.now()), { signal, timeout })\n\t\t.catch(() => resolve(performance.now()));\n\treturn await promise;\n}\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { randomInt } from './math.js';\nimport { isAsyncFunction, getDeferred } from './promises.js';\nimport { isScriptURL, isTrustPolicy } from './trust.js';\n\nconst funcs = new WeakMap();\n\nexport function isStrictMode() {\n\t// Probably always true\n\treturn typeof this === 'undefined';\n}\n\nexport const autoServiceWorkerRegistration = callOnce(async ({\n\tpolicy = 'trustedTypes' in globalThis ? trustedTypes.defaultPolicy : null,\n} = {}) => {\n\tif ('serviceWorker' in navigator && 'serviceWorker' in document.documentElement.dataset) {\n\t\tconst { serviceWorker, scope = '/', updateViaCache } = document.documentElement.dataset;\n\n\t\ttry {\n\t\t\tif (isTrustPolicy(policy)) {\n\t\t\t\tawait registerServiceWorker(policy.createScriptURL(serviceWorker), { scope, updateViaCache });\n\t\t\t} else {\n\t\t\t\tawait registerServiceWorker(serviceWorker, { scope, updateViaCache });\n\t\t\t}\n\n\t\t\tawait reloadOnUpdate();\n\t\t} catch(err) {\n\t\t\tconsole.error(err);\n\t\t}\n\t}\n});\n\nexport async function reloadOnUpdate() {\n\tif ('serviceWorker' in navigator && 'reloadOnUpdate' in document.documentElement.dataset) {\n\t\tconst reg = await navigator.serviceWorker.ready;\n\n\t\treg.addEventListener('updatefound', async ({ target }) => {\n\t\t\ttarget.update();\n\n\t\t\tconst HTMLNotificationElement = await customElements.whenDefined('html-notification');\n\t\t\tconst notification = new HTMLNotificationElement('Update available', {\n\t\t\t\tbody: 'App updated in background. Would you like to reload to see updates?',\n\t\t\t\trequireInteraction: true,\n\t\t\t\tactions: [{\n\t\t\t\t\ttitle: 'Reload',\n\t\t\t\t\taction: 'reload',\n\t\t\t\t}, {\n\t\t\t\t\ttitle: 'Dismiss',\n\t\t\t\t\taction: 'dismiss',\n\t\t\t\t}]\n\t\t\t});\n\n\t\t\tnotification.addEventListener('notificationclick', ({ target, action }) => {\n\t\t\t\tswitch(action) {\n\t\t\t\t\tcase 'dismiss':\n\t\t\t\t\t\ttarget.close();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'reload':\n\t\t\t\t\t\ttarget.close();\n\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport async function registerServiceWorker(source, {\n\tscope,\n\tpolicy = 'trustedTypes' in globalThis ? trustedTypes.defaultPolicy : null,\n\ttype = 'classic',\n\tupdateViaCache = 'none',\n} = {}) {\n\tconst { resolve, reject, promise } = getDeferred();\n\n\tif (! ('serviceWorker' in navigator && navigator.serviceWorker.register instanceof Function)) {\n\t\treject(new DOMException('Service worker not supported'));\n\t} else if (! (typeof source === 'string' || isScriptURL(source) || source instanceof URL)) {\n\t\treject(new TypeError('Invalid Service worker registration source'));\n\t} else if (! isScriptURL(source) && isTrustPolicy(policy)) {\n\t\tnavigator.serviceWorker.register(\n\t\t\tpolicy.createScriptURL(source),\n\t\t\t{ scope, type, updateViaCache }\n\t\t).then(resolve).catch(reject);\n\t} else {\n\t\tnavigator.serviceWorker.register(source, { scope, type, updateViaCache })\n\t\t\t.then(resolve).catch(reject);\n\t}\n\n\treturn await promise;\n}\n\nexport function getURLResolver({ base = document.baseURI, path = './' } = {}) {\n\tconst url = new URL(path, base);\n\n\treturn path => new URL(path, url).href;\n}\n\nexport function isObject(thing) {\n\treturn typeof thing === 'object' && ! Object.is(thing, null) && ! Array.isArray(thing);\n}\n\nexport function isNull(val) {\n\treturn Object.is(val, null);\n}\n\nexport function isUndefined(val) {\n\treturn typeof val === 'undefined';\n}\n\nexport function isIterable(thing) {\n\treturn Array.isArray(thing) || (isObject(thing) && thing[Symbol.iterator] instanceof Function);\n}\n\nexport function isNullish(val) {\n\tswitch (typeof val) {\n\t\tcase 'undefined':\n\t\t\treturn true;\n\n\t\tcase 'object':\n\t\t\tif (Object.is(val, null)) {\n\t\t\t\treturn true;\n\t\t\t} else if (Array.isArray(val)) {\n\t\t\t\treturn val.length === 0;\n\t\t\t} else if (val instanceof Date) {\n\t\t\t\treturn Number.isNaN(val.getTime());\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\tcase 'number':\n\t\t\treturn Number.isNaN(val);\n\n\t\tcase 'string':\n\t\t\treturn val.length === 0;\n\n\t\tdefault:\n\t\t\treturn false;\n\t}\n}\n\nexport function getType(thing) {\n\tswitch (typeof thing) {\n\t\tcase 'undefined':\n\t\t\treturn 'Undefined';\n\n\t\tcase 'function':\n\t\t\tif ('prototype' in thing) {\n\t\t\t\treturn getType(thing.prototype);\n\t\t\t} else if ('constructor' in thing) {\n\t\t\t\treturn thing.constructor.name;\n\t\t\t} else {\n\t\t\t\treturn 'Function';\n\t\t\t}\n\n\t\tcase 'object':\n\t\t\tif (Object.is(thing, null)) {\n\t\t\t\treturn 'Null';\n\t\t\t} else if ('constructor' in thing) {\n\t\t\t\treturn thing.constructor.name;\n\t\t\t} else if (Symbol.toStringTag in thing) {\n\t\t\t\treturn thing[Symbol.toStringTag];\n\t\t\t} else if ('prototype' in thing) {\n\t\t\t\treturn  getType(thing.prototype);\n\t\t\t} else {\n\t\t\t\tconsole.log(thing);\n\t\t\t\treturn 'Unknown Object';\n\t\t\t}\n\n\t\tcase 'string':\n\t\t\treturn 'String';\n\n\t\tcase 'number':\n\t\t\treturn Number.isNaN(thing) ? 'NaN' : 'Number';\n\n\t\tcase 'bigint':\n\t\t\treturn 'BigInt';\n\n\t\tcase 'boolean':\n\t\t\treturn 'Boolean';\n\n\t\tcase 'symbol':\n\t\t\treturn 'Symbol';\n\n\t\tdefault:\n\t\t\treturn 'Unknown';\n\t}\n}\n\nexport function isA(thing, expectedType) {\n\tif (typeof expectedType === 'string') {\n\t\treturn getType(thing) === expectedType;\n\t} else if (isObject(expectedType) && 'constructor' in expectedType) {\n\t\treturn isA(thing, expectedType.constructor.name);\n\t} else {\n\t\tthrow new TypeError('Invalid argument for `expectedType`');\n\t}\n}\n\nexport function sameType(thing1, thing2) {\n\treturn isA(thing1, getType(thing2));\n}\n\nexport function deepEquals(thing1, thing2, { depth = 5 } = {}) {\n\tconst type1 = getType(thing1);\n\tconst type2 = getType(thing2);\n\n\tif (! Number.isSafeInteger(depth)) {\n\t\tthrow new TypeError('`depth` must be an integer');\n\t} else if (type1 !== type2) {\n\t\treturn false;\n\t} else if (thing1 === thing2) {\n\t\treturn true;\n\t} else {\n\t\tdepth--;\n\t\tswitch(type1) {\n\t\t\tcase 'NaN':\n\t\t\t\t// Since NaN !== NaN\n\t\t\t\treturn true;\n\n\t\t\tcase 'BigInt':\n\t\t\tcase 'Number':\n\t\t\tcase 'String':\n\t\t\tcase 'Symbol':\n\t\t\tcase 'Boolean':\n\t\t\t\t// Already know not equal\n\t\t\t\treturn false;\n\n\t\t\tcase 'Object':\n\t\t\t\treturn depth < 0 || deepEquals(Object.entries(thing1), Object.entries(thing2), { depth });\n\n\t\t\tcase 'Array':\n\t\t\t\treturn depth < 0 || (\n\t\t\t\t\tthing1.length === thing2.length\n\t\t\t\t\t&& thing1.every((thing, i) => deepEquals(thing, thing2[i], { depth }))\n\t\t\t\t);\n\n\t\t\tcase 'Map':\n\t\t\tcase 'Set':\n\t\t\t\treturn depth < 0 || deepEquals([...thing1], [...thing2], { depth });\n\n\t\t\tcase 'URL':\n\t\t\t\treturn thing1.href === thing2.href;\n\n\t\t\tdefault:\n\t\t\t\tif (thing1 instanceof Node) {\n\t\t\t\t\treturn thing1.isSameNode(thing2);\n\t\t\t\t} else if (Symbol.iterator in thing1) {\n\t\t\t\t\treturn depth < 0 || deepEquals([...thing1], [...thing2], { depth });\n\t\t\t\t} else {\n\t\t\t\t\t// Since already not `===`\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t}\n\t}\n}\n\n/* global define */\nexport function amd(name, factory, requires = {}) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\ttry {\n\t\t\tdefine(name, requires, factory);\n\t\t\treturn true;\n\t\t} catch(err) {\n\t\t\tconsole.error(err);\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n}\n\nexport function errorToEvent(error, type = 'error') {\n\tif (error instanceof Error) {\n\t\tconst { message, name, fileName: filename, lineNumber: lineno, columnNumber: colno } = error;\n\t\treturn new ErrorEvent(type, { error, message: `${name}: ${message}`, filename, lineno, colno });\n\t} else {\n\t\tthrow new TypeError('`errorToEvent()` only accepts Errors');\n\t}\n}\n\nexport function callOnce(callback, thisArg) {\n\tif (callback.once instanceof Function) {\n\t\treturn callback.once(thisArg);\n\t} else {\n\t\treturn function(...args) {\n\t\t\tif (funcs.has(callback)) {\n\t\t\t\treturn funcs.get(callback);\n\t\t\t} else if (isAsyncFunction(callback)) {\n\t\t\t\tconst retVal = callback.apply(thisArg || this, args).catch(err => {\n\t\t\t\t\tfuncs.delete(callback);\n\t\t\t\t\tthrow err;\n\t\t\t\t});\n\n\t\t\t\tfuncs.set(callback, retVal);\n\t\t\t\treturn retVal;\n\t\t\t} else if (callback instanceof Function) {\n\t\t\t\tconst retVal = callback.apply(thisArg || this, args);\n\t\t\t\tfuncs.set(callback, retVal);\n\t\t\t\treturn retVal;\n\t\t\t}\n\t\t};\n\t}\n}\n\nexport function setURLParams(forURL, params) {\n\tconst url = new URL(forURL, document.baseURI);\n\n\tif (params instanceof HTMLFormElement) {\n\t\treturn setURLParams(url, new FormData(params));\n\t} else if (params instanceof FormData) {\n\t\treturn setURLParams(url, Object.fromEntries(params));\n\t} else if (params instanceof URLSearchParams) {\n\t\treturn setURLParams(url, Object.fromEntries(params));\n\t} else if (Array.isArray(params) || typeof params === 'string') {\n\t\treturn setURLParams(url, new URLSearchParams(params));\n\t} else if (isObject(params)) {\n\t\tObject.entries(params).forEach(([k, v]) => {\n\t\t\tif (typeof v === 'string' || (typeof v === 'number' && ! Number.isNaN(v))) {\n\t\t\t\turl.searchParams.set(k, v);\n\t\t\t} else if (typeof v === 'boolean') {\n\t\t\t\tif (v) {\n\t\t\t\t\turl.searchParams.set(k, '');\n\t\t\t\t} else {\n\t\t\t\t\turl.searchParams.delete(k);\n\t\t\t\t}\n\t\t\t} else if (! isNullish(v)) {\n\t\t\t\turl.searchParams.set(k, v.toString());\n\t\t\t}\n\t\t});\n\t}\n\n\treturn url;\n}\n\nexport function setUTMParams(url, {\n\tsource: utm_source,\n\tmedium: utm_medium = 'referral',\n\tcontent: utm_content,\n\tcampaign: utm_campaign,\n\tterm: utm_term,\n} = {}) {\n\tif (isNullish(url)) {\n\t\treturn null;\n\t} else if (! (url instanceof URL)) {\n\t\treturn setUTMParams(new URL(url, document.baseURI), {\n\t\t\tsource: utm_source,\n\t\t\tmedium: utm_medium,\n\t\t\tcontent: utm_content,\n\t\t\tcampaign: utm_campaign,\n\t\t\tterm: utm_term,\n\t\t});\n\t} else if (typeof utm_source !== 'string') {\n\t\treturn url;\n\t} else {\n\t\treturn setURLParams(url, { utm_source, utm_medium, utm_content, utm_campaign, utm_term });\n\t}\n}\n\nexport function debounce(callback, { delay = 17, thisArg } = {}) {\n\tif (! (callback instanceof Function)) {\n\t\tthrow new TypeError('Callback must be a function');\n\t} else if (! Number.isFinite(delay) || delay < 0) {\n\t\tthrow new TypeError('Timeout must be a positive intiger');\n\t} else {\n\t\tlet to;\n\t\treturn function(...args) {\n\t\t\tif (typeof to === 'number') {\n\t\t\t\tclearTimeout(to);\n\t\t\t\tto = null;\n\t\t\t}\n\t\t\tto = setTimeout((...args) => callback.apply(thisArg, args), delay, ...args);\n\t\t};\n\t}\n}\n\nexport function throttle(callback, { delay = 17, thisArg } = {}) {\n\tif (! (callback instanceof Function)) {\n\t\tthrow new TypeError('Callback must be a function');\n\t} else if (! Number.isFinite(delay) || delay < 0) {\n\t\tthrow new TypeError('Timeout must be a positive intiger');\n\t} else {\n\t\tlet to;\n\t\treturn function(...args) {\n\t\t\tif (typeof to !== 'number') {\n\t\t\t\tto = setTimeout(() => to = null, delay);\n\t\t\t\tcallback.apply(thisArg, args);\n\t\t\t}\n\t\t};\n\t}\n}\n\nexport function random(arr) {\n\tif (Array.isArray(arr) && arr.length !== 0) {\n\t\treturn arr[randomInt(0, arr.length)];\n\t}\n}\n\nexport const toSpinalCase = str => str.replace(/[A-Z]/g, (m, i) => i === 0\n\t? m.toLowerCase()\n\t: `-${m.toLowerCase()}`);\n\nexport const toCamelCase = str => str.replace(/-[a-z\\d]/g, m => m.substr(1).toUpperCase());\n\nexport const ucFirst = str => str.substr(0, 1).toUpperCase() + str.substr(1);\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { clamp, between } from './math.js';\nimport { isObject, isNullish } from './utility.js';\nimport { toHexColor, parseHexColor } from './color-utils.js';\nimport { setAttr, isScriptURL, isTrustedType } from './trust.js';\nimport { COLOR } from './patterns.js';\n\nexport function getAttrs(el) {\n\tif (typeof el === 'string') {\n\t\treturn getAttrs(document.querySelector(el));\n\t} else if (el instanceof Element) {\n\t\treturn Object.fromEntries([...el.attributes].map(({ name, value }) => [name, value]));\n\t} else {\n\t\tthrow new TypeError(`Expected an element or selector but got a ${typeof el}`);\n\t}\n}\n\nexport function aria(el, props = {}) {\n\tif (! (el instanceof Element)) {\n\t\tthrow new TypeError('`el` must be an Element');\n\t} else {\n\t\tObject.entries(props).forEach(([prop, val]) => {\n\t\t\tif (prop !== 'role') {\n\t\t\t\tprop = `aria-${prop.toLowerCase()}`;\n\t\t\t}\n\n\t\t\tif (isNullish(val)) {\n\t\t\t\tel.removeAttribute(prop);\n\t\t\t} else {\n\t\t\t\tel.setAttribute(prop, val);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function data(el, props = {}) {\n\tif (! (el instanceof Element)) {\n\t\tthrow new TypeError('el must be an Element');\n\t} if (! isObject(props)) {\n\t\tthrow new TypeError('props must be an object');\n\t} else {\n\t\tObject.entries(props).forEach(([p, v]) => {\n\t\t\tswitch (typeof v) {\n\t\t\t\tcase 'string':\n\t\t\t\tcase 'number':\n\t\t\t\t\tel.dataset[p] = v.toString();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'boolean':\n\t\t\t\t\tif (v) {\n\t\t\t\t\t\tel.dataset[p] = '';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelete el.dataset[p];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'undefined':\n\t\t\t\t\tdelete el.dataset[p];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'object':\n\t\t\t\t\tif (Object.is(v, null)) {\n\t\t\t\t\t\tdelete el.dataset[p];\n\t\t\t\t\t} else if (v instanceof Date) {\n\t\t\t\t\t\tel.dataset[p] = v.toISOString();\n\t\t\t\t\t} else if (v instanceof URL) {\n\t\t\t\t\t\tel.dataset[p] = v.href;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.dataset[p] = JSON.stringify(v);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new TypeError(`Unable to handle type: ${typeof v}`);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function css(el, props = {}, { priority } = {}) {\n\tif (! (el instanceof Element)) {\n\t\tthrow new TypeError('el must be an Element');\n\t} if (! isObject(props)) {\n\t\tthrow new TypeError('props must be an object');\n\t} else {\n\t\tObject.entries(props).forEach(([p, v]) => {\n\t\t\tif (typeof v === 'string' || typeof v === 'number') {\n\t\t\t\tel.style.setProperty(p, v, priority);\n\t\t\t} else if (v instanceof URL) {\n\t\t\t\tel.type.setProperty(p, v.href, priority);\n\t\t\t} else if (typeof v === 'object' && ! Object.is(v, null) && v.toString instanceof Function) {\n\t\t\t\tel.style.setProperty(p, v.toString(), priority);\n\t\t\t} else {\n\t\t\t\tel.style.removeProperty(p);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function attr(el, props = {}, {\n\tnamespace: elementNs = null,\n\tpolicy,\n} = {}) {\n\tif (! (el instanceof Element)) {\n\t\tthrow new TypeError('el must be an Element');\n\t} if (! isObject(props)) {\n\t\tthrow new TypeError('props must be an object');\n\t} else {\n\t\tObject.entries(props).forEach(([p, v]) => {\n\t\t\tif (typeof v === 'string' || typeof v === 'number') {\n\t\t\t\tsetAttr(el, p, v, { policy, elementNs });\n\t\t\t} else if ('trustedTypes' in globalThis && isTrustedType(v)) {\n\t\t\t\tif (v.toString().length === 0) {\n\t\t\t\t\tel.removeAttribute(p);\n\t\t\t\t} else {\n\t\t\t\t\tsetAttr(el, p, v, { policy, elementNs });\n\t\t\t\t}\n\t\t\t} else if (typeof v === 'boolean') {\n\t\t\t\tif (typeof namespace === 'string') {\n\t\t\t\t\tv ? el.setAttributeNS(elementNs, p, '') : el.removeAttributeNS(elementNs, p);\n\t\t\t\t} else {\n\t\t\t\t\tel.toggleAttribute(p, v);\n\t\t\t\t}\n\t\t\t} else if (v instanceof Date) {\n\t\t\t\tsetAttr(el, p, v.toISOString(), { policy, elementNs });\n\t\t\t} else if (v instanceof URL) {\n\t\t\t\tsetAttr(el, p, v.href, { policy, elementNs });\n\t\t\t} else if (typeof v === 'undefined' || v === null) {\n\t\t\t\tif (typeof namespace === 'string') {\n\t\t\t\t\tel.removeAttributeNS(elementNs, p);\n\t\t\t\t} else {\n\t\t\t\t\tel.removeAttribute(p);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetAttr(el, p, JSON.stringify(v), { policy, elementNs });\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function getBool(el, attr) {\n\treturn el.hasAttribute(attr);\n}\n\nexport function setBool(el, attr, val) {\n\tel.toggleAttribute(attr, val);\n}\n\nexport function getInt(el, attr, {\n\tfallback = NaN,\n\tmin = Number.MIN_SAFE_INTEGER,\n\tmax = Number.MAX_SAFE_INTEGER,\n} = {}) {\n\tif (el.hasAttribute(attr)) {\n\t\tconst val = clamp(min, parseInt(el.getAttribute(attr)), max);\n\t\treturn Number.isNaN(val) ? fallback : val;\n\t} else {\n\t\treturn fallback;\n\t}\n}\n\nexport function setInt(el, attr, val, {\n\tmin = Number.MIN_SAFE_INTEGER,\n\tmax = Number.MAX_SAFE_INTEGER,\n\tpolicy,\n} = {}) {\n\tif (val instanceof Date) {\n\t\tsetAttr(el, attr, val.getTime(), { min, max, policy});\n\t} else if (Number.isInteger(val)) {\n\t\tsetAttr(el, attr, clamp(min, val, max), { policy });\n\t} else if (typeof val === 'string') {\n\t\tsetInt(el, attr, parseInt(val), { min, max });\n\t} else {\n\t\tel.removeAttribute(attr);\n\t}\n}\n\nexport function getFloat(el, attr, {\n\tfallback = NaN,\n\tmin = Number.MIN_SAFE_INTEGER,\n\tmax = Number.MAX_SAFE_INTEGER,\n} = {}) {\n\tif (el.hasAttribute(attr)) {\n\t\tconst val = clamp(min, parseFloat(el.getAttribute(attr)), max);\n\t\treturn Number.isNaN(val) ? fallback : val;\n\t} else {\n\t\treturn fallback;\n\t}\n}\n\nexport function setFloat(el, attr, val, {\n\tmin = Number.MIN_SAFE_INTEGER,\n\tmax = Number.MAX_SAFE_INTEGER,\n\tpolicy,\n} = {}) {\n\tif (typeof val === 'number' && ! Number.isNaN(val)) {\n\t\tsetAttr(el, attr, clamp(min, val, max), { policy });\n\t} else if (typeof val === 'string') {\n\t\tsetFloat(el, attr, parseFloat(val), { min, max });\n\t} else {\n\t\tel.removeAttribute(attr);\n\t}\n}\n\nexport function getString(el, attr, { fallback = null } = {}) {\n\tif (el.hasAttribute(attr)) {\n\t\treturn el.getAttribute(attr) || fallback;\n\t} else {\n\t\treturn fallback;\n\t}\n}\n\nexport function setString(el, attr, val, {\n\tminLength = 1,\n\tmaxLength = Infinity,\n\tpattern   = null,\n\tfallback,\n\tpolicy,\n} = {}) {\n\tif (\n\t\ttypeof val === 'string'\n\t\t&& between(minLength, val.length, maxLength)\n\t\t&& (! (pattern instanceof RegExp) || pattern.test(val))\n\t) {\n\t\tsetAttr(el, attr, val, { policy });\n\t} else if(isTrustedType(val)) {\n\t\tconst str = val.toString();\n\n\t\tif (\n\t\t\tbetween(minLength, str.length, maxLength)\n\t\t\t&& (! (pattern instanceof RegExp) || pattern.test(str))\n\t\t) {\n\t\t\tsetAttr(el, attr, val, { policy });\n\t\t} else {\n\t\t\tel.removeAttribute(attr);\n\t\t}\n\t} else if (typeof fallback === 'string' || isTrustedType(fallback)) {\n\t\tsetString(el, attr, fallback, { pattern, policy, minLength, maxLength });\n\t} else {\n\t\tel.removeAttribute(attr);\n\t}\n}\n\nexport function getURL(el, attr, { base = document.baseURI } = {}) {\n\tif (el.hasAttribute(attr)) {\n\t\treturn new URL(el.getAttribute(attr), base);\n\t} else {\n\t\treturn null;\n\t}\n}\n\nexport function setURL(el, attr, val, {\n\tbase = document.baseURI,\n\trequirePath = false,\n\tpolicy,\n} = {}) {\n\tif ((val instanceof URL) && (! requirePath || val.pathname.length > 1)) {\n\t\tsetAttr(el, attr, val.href, { policy });\n\t} else if (typeof val === 'string' && val.length !== 0) {\n\t\tsetURL(el, attr, new URL(val, base), { requirePath });\n\t} else if (isScriptURL(val)) {\n\t\tconst url = new URL(val.toString(), document.baseURI);\n\n\t\tif (! requirePath || url.pathname.length > 1) {\n\t\t\tsetAttr(el, attr, val, { policy });\n\t\t} else {\n\t\t\tel.removeAttribute(attr);\n\t\t}\n\t} else {\n\t\tel.removeAttribute(attr);\n\t}\n}\n\nexport function getEnum(el, attr, {\n\tallowed  = [],\n\tfallback = undefined,\n}) {\n\tif (! Array.isArray(allowed) || allowed.length === 0) {\n\t\tthrow new TypeError('`allowed` must be a non-empty array.');\n\t} else if (el.hasAttribute(attr)) {\n\t\tconst val = el.getAttribute(attr);\n\t\treturn allowed.includes(val) ? val : fallback;\n\t} else {\n\t\treturn fallback;\n\t}\n}\n\nexport function setEnum(el, attr, val, {\n\tallowed = [],\n\tfallback = undefined,\n}) {\n\tif (! Array.isArray(allowed) || allowed.length === 0) {\n\t\tthrow new TypeError('`allowed` must be a non-empty array.');\n\t} else if (allowed.includes(val)) {\n\t\tsetAttr(el, attr, val);\n\t} else if (! isNullish(fallback)) {\n\t\tsetAttr(el, attr, fallback);\n\t} else {\n\t\tel.removeAttribute(attr);\n\t}\n}\n\nexport function getColor(el, attr, { fallback } = {}) {\n\tconst val = getString(el, attr);\n\treturn typeof val === 'string' && COLOR.test(val) ? val : fallback;\n}\n\nexport function setColor(el, attr, val, { fallback } = {}) {\n\tsetString(el, attr, val, { fallback, minLength: 3, maxLength: 9, pattern: COLOR });\n}\n\nexport function getRGB(el, attr, { fallback = '#000000' } = {}) {\n\tconst { red = 0, green = 0, blue = 0 } = parseHexColor(getColor(el, attr, { fallback }));\n\treturn { red, green, blue };\n}\n\nexport function setRGB(el, attr, { red = 0, green = 0, blue = 0 } = {}) {\n\tsetColor(el, attr, toHexColor({ red, green, blue }));\n}\n\nexport function getRGBA(el, attr, { fallback = '#000000' } = {}) {\n\tconst { red = 0, green = 0, blue = 0, alpha = 1 } = parseHexColor(getColor(el, attr, { fallback }));\n\treturn { red, green, blue, alpha };\n}\n\nexport function setRGBA(el, attr, { red = 0, green = 0, blue = 0, alpha = 1 } = {}) {\n\tsetColor(el, attr, toHexColor({ red, green, blue, alpha }));\n}\n\nexport { setAttr };\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { data, attr, css, getAttrs, aria as setAria } from './attrs.js';\nimport { listen } from './events.js';\nimport { getDeferred } from './promises.js';\nimport { setProp } from './trust.js';\nimport { REFERRER_POLICY } from './defaults.js';\nimport { isObject, isNullish, isIterable } from './utility.js';\nimport { JS } from './types.js';\nimport { isScriptURL, isHTML } from './trust.js';\n\nexport function copyAs(target, tag, {\n\tincludeAttributes = true,\n\tincludeChildren = true,\n\tincludeId = true,\n\tdeep = true,\n\tis,\n} = {}) {\n\tif (typeof tag !== 'string') {\n\t\tthrow new TypeError(`Expected tag to be a string but got a ${typeof tag}`);\n\t} else if (typeof target === 'string') {\n\t\treturn copyAs(document.querySelector(target), tag, { includeAttributes, includeChildren, includeId, deep });\n\t} else if (! (target instanceof Element)) {\n\t\tthrow new TypeError(`Expected target to be a string or Element but got a ${typeof target}`);\n\t} else {\n\t\tconst el = document.createElement(tag, { is });\n\n\t\tif (includeAttributes && target.hasAttributes()) {\n\t\t\tObject.entries(getAttrs(target))\n\t\t\t\t.forEach(([name, value]) => el.setAttribute(name, value));\n\n\t\t\tif (! includeId) {\n\t\t\t\tel.removeAttribute('id');\n\t\t\t}\n\t\t}\n\n\t\tif (includeChildren && target.hasChildNodes()) {\n\t\t\tel.append(...[...target.childNodes].map(node => node.cloneNode(deep)));\n\t\t}\n\n\t\treturn el;\n\t}\n}\n\nexport function createElement(tag, {\n\t/* structured data attributes        */\n\t'@context':    context    = 'https://schema.org',\n\t'@type':       type       = undefined,\n\t'@identifier': identifier = undefined,\n\titemtype                  = undefined,\n\titemprop                  = undefined,\n\titemscope                 = undefined,\n\titemref                   = undefined,\n\titemid                    = undefined,\n\n\t/* Global attributes                  */\n\tid                        = undefined,\n\tclassList                 = undefined,\n\thidden                    = undefined,\n\tdataset                   = undefined,\n\taccessKey                 = undefined,\n\ttitle                     = undefined,\n\n\t/* custom element attributes          */\n\tpart                      = undefined,\n\tslot                      = undefined,\n\tis                        = undefined,\n\n\t/* non-attribute stuff / other        */\n\tchildren                  = undefined,\n\tstyles                    = undefined,\n\ttext                      = undefined,\n\thtml                      = undefined,\n\tpolicy                    = 'trustedTypes' in globalThis ? globalThis.trustedTypes.defaultPolicy : null,\n\tsanitizer                 = undefined,\n\taria                      = undefined,\n\tevents: { capture, passive, once, signal, ...events } = {},\n\tanimation: {\n\t\tkeyframes,\n\t\tduration = 0,\n\t\tdelay = 0,\n\t\tendDelay = 0,\n\t\teasing = 'linear',\n\t\tdirection = 'normal',\n\t\tfill = 'none',\n\t\titerations = 1,\n\t\titerationStart = 0,\n\t\tcomposite = 'replace',\n\t\titerationComposite = 'replace',\n\t\tpseudoElement,\n\t} = {},\n\t...attrs\n} = {}) {\n\tif (typeof tag !== 'string') {\n\t\tthrow new TypeError('tag must be a string');\n\t} else {\n\t\tconst el = document.createElement(tag, { is });\n\t\tel.hidden = hidden;\n\n\t\tif (typeof title === 'string') {\n\t\t\tel.title = title;\n\t\t}\n\n\t\tif (typeof id === 'string') {\n\t\t\tel.id = id;\n\t\t} else if (typeof identifier === 'string') {\n\t\t\tel.id = identifier;\n\t\t}\n\n\t\tif (Array.isArray(classList) && classList.length !== 0) {\n\t\t\tel.classList.add(...classList);\n\t\t}\n\n\t\tif (isObject(dataset)) {\n\t\t\tdata(el, dataset);\n\t\t}\n\n\t\tif (Array.isArray(part) && part.length !== 0) {\n\t\t\tel.part.add(...part);\n\t\t} else if(typeof part === 'string') {\n\t\t\tel.part.add(part);\n\t\t}\n\n\t\tif (typeof slot === 'string') {\n\t\t\tel.slot = slot;\n\t\t}\n\n\t\tif (isObject(styles)) {\n\t\t\tcss(el, styles);\n\t\t}\n\n\t\tObject.entries(events).forEach(([event, callback]) => {\n\t\t\tlisten(el, event, callback, { capture, passive, once, signal });\n\t\t});\n\n\t\tif (typeof text === 'string') {\n\t\t\tel.textContent = text;\n\t\t} else if (typeof html === 'string' || isHTML(html)) {\n\t\t\tif (\n\t\t\t\t'Sanitizer' in globalThis\n\t\t\t\t&& sanitizer instanceof globalThis.Sanitizer\n\t\t\t\t&& Element.prototype.setHTML instanceof Function\n\t\t\t) {\n\t\t\t\tel.setHTML(html, { sanitizer });\n\t\t\t} else {\n\t\t\t\tsetProp(el, 'innerHTML', html, { policy });\n\t\t\t}\n\t\t}\n\n\t\tif (isIterable(children)) {\n\t\t\tel.append(...children.filter(el => typeof el === 'string' || el instanceof Element));\n\t\t}\n\n\t\tif (typeof is === 'string') {\n\t\t\tattrs.is = is;\n\t\t}\n\n\t\tif (typeof itemtype === 'string') {\n\t\t\tattrs.itemtype = itemtype;\n\t\t} else if (typeof type === 'string') {\n\t\t\tattrs.itemtype = new URL(type, context).href;\n\t\t}\n\n\t\tif (typeof itemprop === 'string') {\n\t\t\tattrs.itemprop = itemprop;\n\t\t} else if (Array.isArray(itemprop)) {\n\t\t\tattrs.itemprop = itemprop.join(' ');\n\t\t}\n\n\t\tif (typeof itemref === 'string') {\n\t\t\tattrs.itemref = itemref;\n\t\t} else if (Array.isArray(itemref)) {\n\t\t\tattrs.itemref = itemref.join(' ');\n\t\t}\n\n\t\tif (typeof itemscope === 'boolean' || typeof itemscope === 'string') {\n\t\t\tattrs.itemscope = itemscope;\n\t\t} else if (attrs.hasOwnProperty('itemtype')) {\n\t\t\tattrs.itemscope = true;\n\t\t}\n\n\t\tif (typeof itemid === 'string') {\n\t\t\tattrs.itemid = itemid;\n\t\t}\n\n\t\tif (Array.isArray(accessKey)) {\n\t\t\tel.accessKey = accessKey.join(' ');\n\t\t} else if (typeof accesskey === 'string') {\n\t\t\tel.accessKey = accessKey;\n\t\t}\n\n\t\tattr(el, attrs);\n\n\t\tif (isObject(aria)) {\n\t\t\tsetAria(el, aria);\n\t\t}\n\n\t\tif ((Array.isArray(keyframes) || isObject(keyframes)) && el.animate instanceof Function) {\n\t\t\tel.animate(keyframes, {\n\t\t\t\tduration, delay, endDelay, easing, direction, fill, iterations,\n\t\t\t\titerationStart, composite, iterationComposite, pseudoElement,\n\t\t\t});\n\t\t}\n\n\t\treturn el;\n\t}\n}\n\nexport function createSlot(name, {\n\tid        = undefined,\n\tclassList = undefined,\n\thidden    = undefined,\n\tdataset   = undefined,\n\tchildren  = undefined,\n\tstyles    = undefined,\n\ttext      = undefined,\n\thtml      = undefined,\n\tpolicy    = undefined,\n\tsanitizer = undefined,\n\tevents: { capture, passive, once, signal, ...events } = {},\n\t...attrs\n} = {}) {\n\tconst slot = createElement('slot', {\n\t\tid, classList, hidden, dataset, children, styles, text, html, policy,\n\t\tsanitizer, events: { capture, passive, once, signal, ...events }, ...attrs,\n\t});\n\n\tslot.name = name;\n\treturn slot;\n}\n\nexport function createScript(src, {\n\tasync = true,\n\tdefer = false,\n\tblocking = null,\n\tintegrity = null,\n\tnonce = null,\n\ttype = JS,\n\tcrossOrigin = null,\n\treferrerPolicy = REFERRER_POLICY,\n\tnoModule = false,\n\tfetchPriority = 'auto',\n\tdataset = null,\n\tpolicy = 'trustedTypes' in globalThis ? globalThis.trustedTypes.defaultPolicy : null,\n\tevents: { capture, passive, once, signal, ...events } = {},\n\t...attrs\n} = {}) {\n\tconst script = createElement('script', {\n\t\tdataset,\n\t\tevents: { capture, passive, once, signal, ...events },\n\t\t...attrs,\n\t});\n\n\tscript.type = type;\n\tscript.noModule = noModule;\n\tscript.async = async;\n\tscript.defer = defer;\n\tscript.referrerPolicy = referrerPolicy;\n\tscript.fetchPriority = fetchPriority;\n\n\tif (typeof crossOrigin === 'string' && src.origin !== location.origin) {\n\t\tscript.crossOrigin = crossOrigin;\n\t}\n\n\tif (typeof integrity === 'string') {\n\t\tscript.integrity = integrity;\n\t}\n\n\tif (typeof nonce === 'string') {\n\t\tscript.nonce = nonce;\n\t}\n\n\tif (Array.isArray(blocking)) {\n\t\tscript.setAttribute('blocking', blocking.join(' '));\n\t} else if (typeof blocking === 'string') {\n\t\tscript.setAttribute('blocking', blocking);\n\t}\n\n\tsetProp(script, 'src', src, { policy });\n\n\treturn script;\n}\n\nexport function createImage(src, {\n\talt = '',\n\tid = null,\n\theight = undefined,\n\twidth = undefined,\n\tcrossOrigin = null,\n\t'@type': type,\n\t'@context': context,\n\titemprop = null,\n\titemtype = null,\n\titemscope = undefined,\n\tsizes = null,\n\tsrcset = null,\n\treferrerPolicy = REFERRER_POLICY,\n\tfetchPriority = 'auto',\n\tloading = 'eager',\n\tdecoding = 'async',\n\trole = null,\n\tslot = null,\n\tpart = [],\n\tclassList = [],\n\tdataset = null,\n\tstyles = null,\n\tanimation,\n\tevents: { capture, passive, once, signal, ...events } = {},\n\t...attrs\n} = {}) {\n\tif (! (src instanceof URL)) {\n\t\tsrc = new URL(src, document.baseURI);\n\t}\n\n\tconst img = createElement('img', {\n\t\tid, classList, dataset, slot, part, styles,\n\t\titemtype, itemprop, itemscope, '@type': type, '@context': context,\n\t\tevents: { capture, passive, once, signal, ...events }, animation,\n\t\t...attrs\n\t});\n\n\tif (Number.isSafeInteger(width)) {\n\t\timg.width = width;\n\t}\n\n\tif (Number.isSafeInteger(height)) {\n\t\timg.height = height;\n\t}\n\n\timg.alt = alt;\n\timg.referrerPolicy = referrerPolicy;\n\timg.loading = loading;\n\timg.decoding = decoding;\n\timg.fetchPriority = fetchPriority;\n\n\tif (typeof role === 'string') {\n\t\timg.role = role;\n\t}\n\n\tif (typeof crossOrigin === 'string' && location.origin !== src.origin) {\n\t\timg.crossOrigin = crossOrigin;\n\t}\n\n\tif (isObject(srcset)) {\n\t\timg.srcset = Object.entries(srcset).map(([size, src]) => `${src} ${size}`).join(', ');\n\t} else if (Array.isArray(srcset) && srcset.length !== 0) {\n\t\timg.srcset = srcset.join(', ');\n\t} else if (typeof srcset === 'string') {\n\t\timg.srcset = srcset;\n\t}\n\n\tif (Array.isArray(sizes) && sizes.length !== 0) {\n\t\timg.sizes = sizes.join(', ');\n\t} else if (typeof sizes === 'string') {\n\t\timg.sizes = sizes;\n\t}\n\n\tif (typeof src === 'string' && src.length !== 0) {\n\t\timg.src = src;\n\t} else if (src instanceof URL) {\n\t\timg.src = src.href;\n\t}\n\n\treturn img;\n}\n\nexport function createLink(href = null, {\n\trel = [],\n\ttype = null,\n\tas = null,\n\tblocking = null,\n\tcrossOrigin = 'anonymous',\n\treferrerPolicy = 'no-referrer',\n\tfetchPriority = 'auto',\n\tintegrity = null,\n\tnonce = null,\n\tmedia = 'all',\n\tdisabled = false,\n\tdataset = null,\n\ttitle = null,\n\tsizes = [],\n\tevents: { capture, passive, once, signal, ...events } = {},\n\t...rest\n}) {\n\tconst link = createElement('link', {\n\t\tdataset, ...rest,\n\t\tevents: { capture, passive, once, signal, ...events },\n\t});\n\n\tif (Array.isArray(rel)) {\n\t\tlink.relList.add(...rel);\n\t} else if (typeof rel === 'string') {\n\t\tlink.relList.add(rel);\n\t}\n\n\tif (typeof type === 'string') {\n\t\tlink.type = type;\n\t}\n\n\tif (typeof as === 'string') {\n\t\tlink.as = as;\n\t}\n\n\tif (typeof crossOrigin === 'string') {\n\t\tlink.crossOrigin = crossOrigin;\n\t}\n\n\tif (typeof referrerPolicy === 'string') {\n\t\tlink.referrerPolicy = referrerPolicy;\n\t}\n\n\tif (typeof fetchPriority === 'string') {\n\t\tlink.fetchPriority = fetchPriority;\n\t}\n\n\tif (typeof integrity === 'string') {\n\t\tlink.integrity = integrity;\n\t}\n\n\tif (typeof nonce === 'string') {\n\t\tlink.nonce = nonce;\n\t}\n\n\tif (typeof media === 'string') {\n\t\tlink.media = media;\n\t}\n\n\tif (Array.isArray(blocking)) {\n\t\tlink.setAttribute('blocking', blocking.join(' '));\n\t} else if (typeof blocking === 'string') {\n\t\tlink.setAttribute('blocking', blocking);\n\t}\n\n\tif (typeof href === 'string') {\n\t\tlink.href = href;\n\t}\n\n\tif (disabled) {\n\t\tlink.disabled = true;\n\t}\n\n\tif (typeof title === 'string') {\n\t\tlink.title = title;\n\t}\n\n\tif (Array.isArray(sizes) && sizes.length !== 0) {\n\t\tlink.sizes.add(...sizes);\n\t} else if (typeof sizes === 'string') {\n\t\tlink.sizes.add(sizes);\n\t}\n\n\treturn link;\n}\n\nexport function createIframe(src, {\n\tname = null,\n\tid = null,\n\twidth = null,\n\theight = null,\n\tsrcdoc = null,\n\tloading = 'eager',\n\tframeBorder = 0,\n\tfetchPriority = 'auto',\n\tsandbox = ['allow-scripts'],\n\tallow = [],\n\treferrerPolicy = REFERRER_POLICY,\n\tclassList = [],\n\tdataset = null,\n\tstyles = null,\n\tpart = [],\n\tslot = null,\n\ttitle = null,\n\tanimation,\n\tpolicy = 'trustedTypes' in globalThis ? globalThis.trustedTypes.defaultPolicy : undefined,\n\tevents: { capture, passive, once, signal, ...events } = {},\n\t...rest\n} = {}) {\n\tconst iframe = createElement('iframe', {\n\t\tid, classList, dataset, styles, part, slot, animation,\n\t\tevents: { capture, passive, once, signal, ...events },\n\t\t...rest\n\t});\n\n\tiframe.loading = loading;\n\tiframe.fetchPriority = fetchPriority;\n\tiframe.referrerPolicy = referrerPolicy;\n\tiframe.frameBorder = frameBorder.toString();\n\n\tif (typeof name === 'string') {\n\t\tiframe.name = name;\n\t}\n\n\tif (typeof title === 'string') {\n\t\tiframe.title = title;\n\t}\n\n\tif (Array.isArray(sandbox)) {\n\t\tiframe.sandbox.add(...sandbox);\n\t}\n\n\tif (typeof height === 'number' && ! Number.isNaN(height)) {\n\t\tiframe.height = height;\n\t}\n\n\tif (typeof width === 'number' && ! Number.isNaN(width)) {\n\t\tiframe.width = width;\n\t}\n\n\tif (Array.isArray(allow) && allow.length !== 0) {\n\t\tiframe.allow = allow.join('; ');\n\n\t\tif (allow.includes('fullscreen')) {\n\t\t\tiframe.allowFullscreen = true;\n\t\t}\n\t} else if (isObject(allow)) {\n\t\tconst quoted = ['self', 'none'];\n\n\t\tiframe.allow = Object.entries(allow).map(([key, val]) => {\n\t\t\tif (Array.isArray(val)) {\n\t\t\t\tconst vals = val.map(item => {\n\t\t\t\t\tif (quoted.includes(item)) {\n\t\t\t\t\t\treturn `'${item}'`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t}\n\t\t\t\t}).join('; ');\n\n\t\t\t\treturn `${key} ${vals}`;\n\t\t\t} else if (quoted.includes(val)) {\n\t\t\t\treturn `${key} '${val}'`;\n\t\t\t} else {\n\t\t\t\treturn `${key} ${val}`;\n\t\t\t}\n\t\t}).join('; ') + ';';\n\n\t\tif ('fullscreen' in allow) {\n\t\t\tiframe.allowFullscreen = true;\n\t\t}\n\t} else if (typeof allow === 'string') {\n\t\tiframe.allow = allow;\n\t}\n\n\tif ((typeof srcdoc === 'string' && srcdoc.length !== 0) || isHTML(srcdoc)) {\n\t\tsetProp(iframe, 'srcdoc', srcdoc, { policy });\n\t} else if (srcdoc instanceof Document) {\n\t\tsetProp(iframe, 'srcdoc'. srcdoc.documentElement.outerHTML.replace(/\\n/g, ''), { policy });\n\t}\n\n\tif (typeof src === 'string' || src instanceof URL || isScriptURL(src)) {\n\t\tsetProp(iframe, 'src', src, { policy });\n\t} else if (src instanceof Document) {\n\t\tsetProp(iframe, 'srcdoc'. src.documentElement.outerHTML.replace(/\\n/g, ''), { policy });\n\t}\n\n\treturn iframe;\n}\n\nexport function createOption(option) {\n\tif (isObject(option)) {\n\t\tconst { label, value, disabled = false, selected = false, options } = option;\n\n\t\tif (Array.isArray(options)) {\n\t\t\treturn createOptGroup(label, options);\n\t\t} else {\n\t\t\tconst opt = document.createElement('option');\n\t\t\topt.label = label;\n\t\t\topt.value = value;\n\t\t\topt.disabled = disabled;\n\t\t\topt.selected = selected;\n\t\t\treturn opt;\n\t\t}\n\t} else {\n\t\tconst opt = document.createElement('option');\n\t\topt.label = option;\n\t\topt.value = option;\n\t\treturn opt;\n\t}\n}\n\nexport function createOptGroup(label, options) {\n\tif (typeof label !== 'string') {\n\t\tthrow new TypeError('label must be a string');\n\t} else if (! Array.isArray(options)) {\n\t\tthrow new TypeError('options must be an array');\n\t} else {\n\t\tconst optgroup = document.createElement('optgroup');\n\t\toptgroup.label = label;\n\t\toptgroup.append(...options.map(createOption));\n\t\treturn optgroup;\n\t}\n}\n\nexport function createDatalist(id, items) {\n\tif (typeof id !== 'string') {\n\t\tthrow new TypeError('id must be a string');\n\t} else if (! Array.isArray(items) || items.length == 0) {\n\t\tthrow new TypeError('Items must be a non-empty array');\n\t} else {\n\t\tconst list = document.createElement('datalist');\n\t\tlist.id = id;\n\n\t\tlist.append(...items.map(createOption));\n\n\t\treturn list;\n\t}\n}\n\nexport function createInput(name, {\n\ttype = 'text',\n\trequired = false,\n\tdisabled = false,\n\treadOnly = false,\n\tmultiple = false,\n\tchecked = false,\n\taccept,\n\tid,\n\tclassList,\n\tlist,\n\tvalue,\n\tplaceholder,\n\tpattern,\n\tinputMode,\n\tmin = NaN,\n\tmax = NaN,\n\tstep = NaN,\n\tminLength = NaN,\n\tmaxLength = NaN,\n\tautocomplete,\n\tstyles,\n\tdataset,\n\tpart,\n\tslot,\n\tanimation,\n\tevents: { capture, passive, once, signal, ...events } = {},\n\t...attrs\n} = {}) {\n\tif (typeof name !== 'string') {\n\t\tthrow new TypeError('name must be a string');\n\t} else {\n\t\tconst input = createElement('input', {\n\t\t\tid, classList, dataset, styles, part, slot, animation,\n\t\t\tevents: { capture, passive, once, signal, ...events },\n\t\t\t...attrs\n\t\t});\n\n\t\tinput.name = name;\n\t\tinput.type = type;\n\t\tinput.required = required;\n\t\tinput.disabled = disabled;\n\t\tinput.readOnly = readOnly;\n\t\tinput.multiple = multiple;\n\t\tinput.checked = checked;\n\n\t\tif (typeof autocomplete === 'string') {\n\t\t\tinput.autocomplete = autocomplete;\n\t\t}\n\n\t\tif (typeof inputMode === 'string') {\n\t\t\tinput.inputMode = inputMode;\n\t\t}\n\n\t\tif (typeof list === 'string') {\n\t\t\tinput.setAttribute('list', list);\n\t\t}\n\n\t\tif (typeof placeholder === 'string') {\n\t\t\tinput.placeholder = placeholder;\n\t\t}\n\n\t\tif (typeof pattern === 'string') {\n\t\t\tinput.pattern = pattern;\n\t\t}\n\n\t\tif (! isNullish(min)) {\n\t\t\tinput.min = min;\n\t\t}\n\n\t\tif (! isNullish(max)) {\n\t\t\tinput.max = max;\n\t\t}\n\n\t\tif (Number.isSafeInteger(minLength) && minLength >= 0) {\n\t\t\tinput.minLength = minLength;\n\t\t}\n\n\t\tif (Number.isSafeInteger(maxLength) && maxLength > 0) {\n\t\t\tinput.maxLength = maxLength;\n\t\t}\n\n\t\tif (! isNullish(step)) {\n\t\t\tinput.step = step;\n\t\t}\n\n\t\tif (! isNullish(value)) {\n\t\t\tinput.value = value;\n\t\t}\n\n\t\tif (typeof accept === 'string') {\n\t\t\tinput.accept = accept;\n\t\t} else if (Array.isArray(accept)) {\n\t\t\tinput.accept = accept.join(',');\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nexport function createSelect(name, options = [], {\n\trequired = false,\n\tdisabled = false,\n\tmultiple = false,\n\tid,\n\tclassList,\n\tdataset,\n\tautocomplete,\n\tstyles,\n\tslot,\n\tpart,\n\tanimation,\n\tevents: { capture, passive, once, signal, ...events } = {},\n\t...attrs\n} = {}) {\n\tif (typeof name !== 'string') {\n\t\tthrow new TypeError('name must be a string');\n\t} else if (! Array.isArray(options)) {\n\t\tthrow new TypeError('options must be an array');\n\t} else {\n\t\tconst select = createElement('select', {\n\t\t\tid, classList, dataset, styles, part, slot, animation,\n\t\t\tevents: { capture, passive, once, signal, ...events },\n\t\t\t...attrs\n\t\t});\n\n\t\tselect.name = name;\n\t\tselect.multiple = multiple;\n\t\tselect.disabled = disabled;\n\t\tselect.required = required;\n\t\tselect.append(...options.map(createOption));\n\n\t\tif (typeof autocomplete === 'string') {\n\t\t\tselect.autocomplete = autocomplete;\n\t\t}\n\n\t\treturn select;\n\t}\n}\n\nexport async function showDialog({ text, html, children = [], classList = [], animation, signal, ...rest }) {\n\tconst { resolve, reject, promise } = getDeferred();\n\n\tif (signal instanceof AbortSignal && signal.aborted) {\n\t\treject(signal.reason);\n\t} else {\n\t\tconst closeContainer = createElement('div', {\n\t\t\tclassList: ['flex', 'space-evenly'],\n\t\t\tchildren: [\n\t\t\t\tcreateElement('button', {\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tclassList: ['btn', 'btn-reject'],\n\t\t\t\t\ttext: 'Close',\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tsignal,\n\t\t\t\t\t\tclick: ({ target }) => target.closest('dialog').close(),\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\n\t\tconst dialog = createElement('dialog', {\n\t\t\ttext, html, children: [...children, closeContainer], classList, animation, ...rest,\n\t\t\tevents: {\n\t\t\t\tsignal,\n\t\t\t\tclose: ({ target }) => {\n\t\t\t\t\tresolve();\n\t\t\t\t\ttarget.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tdialog.append();\n\n\t\tdocument.body.append(dialog);\n\t\tdialog.showModal();\n\n\t\tif (signal instanceof AbortSignal) {\n\t\t\tconst abortHandler = ({ target }) => {\n\t\t\t\treject(target.reason);\n\t\t\t\tdialog.close();\n\t\t\t};\n\n\t\t\tsignal.addEventListener('abort', abortHandler);\n\t\t\tdialog.addEventListener('close', () => signal.removeEventListener('abort', abortHandler));\n\t\t}\n\t}\n\n\tawait promise;\n}\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nexport const REFERRER_POLICY = 'strict-origin-when-cross-origin';\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nconst symbols = { resp: Symbol('resp') };\n\nexport class HTTPException extends Error {\n\tconstructor(resp = Response.error(), { message, cause } = {}) {\n\t\tsuper(\n\t\t\ttypeof message === 'string' ? message :`<${resp.url}> [${resp.status} ${resp.statusText}]`,\n\t\t\t{ cause }\n\t\t);\n\n\t\tObject.defineProperty(this, symbols.resp, {\n\t\t\tvalue: resp,\n\t\t\tconfigurable: false,\n\t\t\twritable: false,\n\t\t\tenumerable: false,\n\t\t});\n\t}\n\n\tasync json() {\n\t\treturn await this[symbols.resp].json();\n\t}\n\n\tasync text() {\n\t\treturn await this[symbols.resp].text();\n\t}\n\n\tget body() {\n\t\treturn this[symbols.resp].body;\n\t}\n\n\tget bodyUsed() {\n\t\treturn this[symbols.resp].bodyUsed;\n\t}\n\n\tget headers() {\n\t\treturn this[symbols.resp].headers;\n\t}\n\n\tget ok() {\n\t\treturn this[symbols.resp].ok;\n\t}\n\n\tget redirected() {\n\t\treturn this[symbols.resp].redirected;\n\t}\n\n\tget status() {\n\t\treturn this[symbols.resp].status;\n\t}\n\n\tget statusText() {\n\t\treturn this[symbols.resp].statusText;\n\t}\n\n\tget type() {\n\t\treturn this[symbols.resp].type;\n\t}\n\n\tget url() {\n\t\treturn this[symbols.resp].url;\n\t}\n\n\ttoJSON() {\n\t\tconst { status, statusText, ok, url, message, type, redirected } = this;\n\t\treturn { status, ok, statusText, url, message, type, redirected };\n\t}\n}\n","/**\n * @copyright 2021-2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { parse } from './dom.js';\nimport { signalAborted } from './abort.js';\nimport { setURLParams, setUTMParams, isObject, isNullish, callOnce } from './utility.js';\nimport { isTrustPolicy } from './trust.js';\nimport { HTTPException } from './HTTPException.js';\nimport * as TYPES from './types.js';\n\nfunction filename(src) {\n\tif (typeof src === 'string') {\n\t\treturn new URL(src, location.origin).pathname.split('/').at(-1);\n\t} else {\n\t\treturn '';\n\t}\n}\n\nfunction getType({ headers }) {\n\tif (headers instanceof Headers && headers.has('Content-Type')) {\n\t\treturn headers.get('Content-Type').split(';')[0];\n\t} else {\n\t\treturn null;\n\t}\n}\n\nfunction handleResponse(resp, { cause, message } = {}) {\n\tif (! (resp instanceof Response)) {\n\t\tthrow new TypeError('Expected a Response object');\n\t} else if (! resp.ok) {\n\t\tthrow new HTTPException(resp, { cause, message });\n\t} else {\n\t\treturn resp;\n\t}\n}\n\nfunction handleError(err) {\n\tif (err instanceof HTTPException) {\n\t\tthrow err;\n\t} else if (err instanceof Error) {\n\t\tthrow new HTTPException(Response.error(), { cause: err, message: err.message });\n\t} else if (typeof err === 'string') {\n\t\tthrow new HTTPException(Response.error(), {\n\t\t\tcause: new DOMException('Unknown network error'),\n\t\t\tmessage: err,\n\t\t});\n\t} else {\n\t\tthrow new HTTPException(Response.error(), {\n\t\t\tcause: new DOMException('Unknown network error'),\n\t\t\tmessage: 'Unknown network error',\n\t\t});\n\t}\n}\n\nexport async function fetch(url, opts = {}) {\n\tif (opts.signal instanceof AbortSignal && opts.signal.aborted) {\n\t\tthrow new HTTPException(Response.error(), {\n\t\t\tcause: opts.signal.reason,\n\t\t\tmessage: opts.signal.reason instanceof Error ? opts.signal.reason.message : opts.signal.reason,\n\t\t});\n\t} else if (opts.signal instanceof AbortSignal && ! ('signal' in Request.prototype)) {\n\t\treturn await Promise.race([\n\t\t\tglobalThis.fetch(url, opts),\n\t\t\tsignalAborted(opts.signal),\n\t\t]).then(resp => handleResponse(resp, { message: opts.errorMessage }), handleError);\n\t} else {\n\t\treturn await globalThis.fetch(url, opts).then(resp => handleResponse(resp, { message: opts.errorMessage }), handleError);\n\t}\n}\n\nexport const getHTTPCSP = callOnce(async function getHTTPCSP() {\n\tconst { ok, headers } = await fetch(location.href, { method: 'HEAD' });\n\n\tif (ok && headers.has('Content-Security-Policy')) {\n\t\tconst directives = headers.get('Content-Security-Policy').trim().split(';').filter(str => str.length !== 0);\n\n\t\treturn Object.fromEntries(directives.map(directive => {\n\t\t\tconst [key, ...rest] = directive.trim().split(' ').filter(part => part.length !== 0);\n\t\t\treturn [key, rest];\n\t\t}));\n\t}\n});\n\nexport const getCSP = callOnce(async function getCSP() {\n\ttry {\n\t\tconst csp = await getHTTPCSP();\n\n\t\tif (typeof csp === 'object' && ! Object.is(csp, null)) {\n\t\t\treturn csp;\n\t\t} else {\n\t\t\treturn getMetaCSP();\n\t\t}\n\t} catch(err) {\n\t\tconsole.error(err);\n\t\treturn getMetaCSP();\n\t}\n});\n\nexport function getMetaCSP() {\n\tconst meta = document.head.querySelector('meta[http-equiv=\"Content-Security-Policy\"][content]');\n\n\tif (meta instanceof HTMLMetaElement) {\n\t\tconst directives = meta.content.trim().split(';').filter(str => str.length !== 0);\n\n\t\treturn Object.fromEntries(directives.map(directive => {\n\t\t\tconst [key, ...rest] = directive.trim().split(' ').filter(part => part.length !== 0);\n\t\t\treturn [key, rest];\n\t\t}));\n\t} else {\n\t\treturn {};\n\t}\n}\n\nexport async function GET(url, {\n\tbody = undefined,\n\tmode = 'cors',\n\tcache = 'default',\n\tcredentials = 'omit',\n\tredirect = 'follow',\n\tpriority  ='auto',\n\treferrerPolicy = 'no-referrer',\n\theaders = new Headers(),\n\tintegrity = undefined,\n\tkeepalive = undefined,\n\tsignal = undefined,\n\ttimeout = null,\n\terrorMessage,\n} = {}) {\n\tif (typeof body !== 'undefined') {\n\t\turl = setURLParams(url, body);\n\t} else if (typeof url === 'string') {\n\t\turl = new URL(url, document.baseURI);\n\t}\n\n\tif (typeof signal === 'undefined' && Number.isInteger(timeout)) {\n\t\tsignal = AbortSignal.timeout(timeout);\n\t} else if (signal instanceof AbortController) {\n\t\tsignal = signal.signal;\n\t}\n\n\treturn await fetch(url, { method: 'GET', mode, credentials, referrerPolicy,\n\t\theaders, cache, redirect, priority, integrity, keepalive, signal, errorMessage });\n}\n\nexport async function POST(url, {\n\tbody = undefined,\n\tmode = 'cors',\n\tcache = 'default',\n\tcredentials = 'omit',\n\tpriority = 'auto',\n\tredirect = 'follow',\n\treferrerPolicy = 'no-referrer',\n\theaders = new Headers(),\n\tintegrity = undefined,\n\tkeepalive = undefined,\n\tsignal = undefined,\n\ttimeout = null,\n\terrorMessage,\n} = {}) {\n\tif (typeof body === 'object' && ! (body instanceof FormData)) {\n\t\tif (body instanceof HTMLFormElement) {\n\t\t\tbody = new FormData(body);\n\t\t} else if (body instanceof File) {\n\t\t\tlet file;\n\t\t\t[body, file] = [new FormData(), body];\n\t\t\t// @TODO figure out a default param name for the file\n\t\t\t// @TODO handle multiple files and arrays containing files\n\t\t\tbody.set(file.name, file, file.name);\n\t\t} else {\n\t\t\tbody = JSON.stringify(body);\n\n\t\t\tif (headers instanceof Headers && ! headers.has('Content-Type')) {\n\t\t\t\theaders.set('Content-Type', TYPES.JSON);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (typeof signal === 'undefined' && Number.isInteger(timeout)) {\n\t\tsignal = AbortSignal.timeout(timeout);\n\t} else if (signal instanceof AbortController) {\n\t\tsignal = signal.signal;\n\t}\n\n\treturn await fetch(url, { method: 'POST', body, mode, credentials, referrerPolicy,\n\t\theaders, cache, redirect, priority, integrity, keepalive, signal, errorMessage });\n}\n\nexport async function DELETE(url, {\n\tbody = undefined,\n\tmode = 'cors',\n\tcache = 'default',\n\tcredentials = 'omit',\n\tredirect = 'follow',\n\tpriority = 'auto',\n\treferrerPolicy = 'no-referrer',\n\theaders = new Headers(),\n\tintegrity = undefined,\n\tkeepalive = undefined,\n\tsignal = undefined,\n\ttimeout = null,\n\terrorMessage,\n} = {}) {\n\tif (typeof body !== 'undefined') {\n\t\turl = setURLParams(url, body);\n\t} else if (typeof url === 'string') {\n\t\turl = new URL(url, document.baseURI);\n\t}\n\n\tif (typeof signal === 'undefined' && Number.isInteger(timeout)) {\n\t\tsignal = AbortSignal.timeout(timeout);\n\t} else if (signal instanceof AbortController) {\n\t\tsignal = signal.signal;\n\t}\n\n\treturn await fetch(url, { method: 'DELETE', mode, credentials, referrerPolicy,\n\t\theaders, cache, redirect, priority, integrity, keepalive, signal, errorMessage });\n}\n\nexport async function getHTML(url, {\n\tbody = undefined,\n\tmode = 'cors',\n\tcache = 'default',\n\tcredentials = 'omit',\n\tredirect = 'follow',\n\tpriority = 'auto',\n\treferrerPolicy = 'no-referrer',\n\theaders = new Headers({ Accept: TYPES.HTML }),\n\tintegrity = undefined,\n\tkeepalive = undefined,\n\tsignal = undefined,\n\ttimeout = null,\n\thead = true,\n\tasFrag = true,\n\tsanitizer = undefined,\n\tpolicy,\n\terrorMessage,\n} = {}) {\n\tconst html = await getText(url, { body, mode, credentials, referrerPolicy, headers,\n\t\tcache, redirect, priority, integrity, keepalive, signal, timeout, errorMessage });\n\n\tif (isTrustPolicy(policy)) {\n\t\treturn parse(policy.createHTML(html), { asFrag, head });\n\t} else {\n\t\treturn parse(html, { head, asFrag, sanitizer, policy });\n\t}\n}\n\nexport const createTemplateGetter = (...args) => callOnce(() => getHTML(...args));\n\nexport async function getText(url, {\n\tbody = undefined,\n\tmode = 'cors',\n\tcache = 'default',\n\tcredentials = 'omit',\n\tredirect = 'follow',\n\tpriority = 'auto',\n\treferrerPolicy = 'no-referrer',\n\theaders = new Headers({ Accept: TYPES.TEXT }),\n\tintegrity = undefined,\n\tkeepalive = undefined,\n\tsignal = undefined,\n\ttimeout = null,\n\terrorMessage,\n} = {}) {\n\tconst resp = await GET(url, { body, mode, credentials, referrerPolicy, headers,\n\t\tcache, redirect, priority, integrity, keepalive, signal, timeout, errorMessage });\n\n\treturn await resp.text();\n}\n\nexport async function getJSON(url, {\n\tbody = undefined,\n\tmode = 'cors',\n\tcache = 'default',\n\tcredentials = 'omit',\n\tredirect = 'follow',\n\treferrerPolicy = 'no-referrer',\n\tpriority = 'auto',\n\theaders = new Headers({ Accept: TYPES.JSON }),\n\tintegrity = undefined,\n\tkeepalive = undefined,\n\tsignal = undefined,\n\ttimeout = null,\n\terrorMessage,\n} = {}) {\n\tconst resp = await GET(url, { body, mode, credentials, referrerPolicy, headers,\n\t\tcache, redirect, priority, integrity, keepalive, signal, timeout, errorMessage });\n\n\treturn await resp.json();\n}\n\nexport async function getFile(url, {\n\tname = null,\n\tbody = undefined,\n\tmode = 'cors',\n\tcache = 'default',\n\tcredentials = 'omit',\n\tredirect = 'follow',\n\treferrerPolicy = 'no-referrer',\n\tpriority = 'auto',\n\theaders = new Headers(),\n\tintegrity = undefined,\n\tkeepalive = undefined,\n\tsignal = undefined,\n\ttimeout = null,\n\terrorMessage,\n} = {}) {\n\tif (typeof name !== 'string') {\n\t\tname = filename(url);\n\t}\n\n\tconst resp = await GET(url, { body, mode, credentials, referrerPolicy, headers,\n\t\tcache, redirect, priority, integrity, keepalive, signal, timeout, errorMessage });\n\n\tconst type = getType(resp);\n\treturn new File([await resp.blob()], name, { type });\n}\n\nexport async function submitForm(form) {\n\tif (typeof form === 'string') {\n\t\treturn await submitForm(document.forms[form]);\n\t} else if (form instanceof Event) {\n\t\tform.preventDefault();\n\t\treturn await submitForm(form.target);\n\t} else if (form instanceof HTMLFormElement) {\n\t\tswitch (form.method.toLowerCase()) {\n\t\t\tcase 'get':\n\t\t\t\treturn GET(form.action, { body: new FormData(form) });\n\n\t\t\tcase 'post':\n\t\t\t\treturn POST(form.action, { body: new FormData(form) });\n\n\t\t\tcase 'delete':\n\t\t\t\treturn DELETE(form.action, { body: new FormData(form) });\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unsupported method: ${form.method}`);\n\t\t}\n\t}\n}\n\nexport const getManifest = callOnce(async function getManifest({ timeout, signal } = {}) {\n\tconst resp = await getLink('link[rel=\"manifest\"][href]', { timeout, signal });\n\treturn await resp.json();\n});\n\nexport async function getLink(link, { timeout, signal } = {}) {\n\tif (typeof link === 'string') {\n\t\treturn await getLink(document.querySelector(link, { timeout, signal }));\n\t} else if (! (link instanceof HTMLLinkElement)) {\n\t\tthrow new DOMException('Expected a <link>');\n\t} else if (link.href.length === 0) {\n\t\tthrow new DOMException('Missing `href` on <link>');\n\t} else {\n\t\tconst { href, integrity, type, referrerPolicy, crossOrigin } = link;\n\n\t\tlet credentials;\n\t\tconst mode = typeof crossOrigin === 'string' ? 'cors' : 'no-cors';\n\t\tconst headers = new Headers();\n\n\t\tif (mode === 'cors') {\n\t\t\tcredentials = crossOrigin === 'use-credentials' ? 'include' : 'omit';\n\t\t}\n\n\t\tif (typeof type === 'string') {\n\t\t\theaders.set('Accept', type);\n\t\t}\n\n\t\treturn await GET(href, { mode, credentials, headers, integrity, referrerPolicy, timeout, signal });\n\t}\n}\n\nexport async function postHTML(url, {\n\tbody = undefined,\n\tmode = 'cors',\n\tcache = 'default',\n\tcredentials = 'omit',\n\tredirect = 'follow',\n\treferrerPolicy = 'no-referrer',\n\tpriority = 'auto',\n\theaders = new Headers({ Accept: TYPES.HTML }),\n\tintegrity = undefined,\n\tkeepalive = undefined,\n\tsignal = undefined,\n\ttimeout = null,\n\thead = true,\n\tasFrag = true,\n\tsanitizer = undefined,\n\tpolicy,\n\terrorMessage,\n} = {}) {\n\tconst html = await postText(url, { body, mode, credentials, referrerPolicy, headers,\n\t\tcache, redirect, priority, integrity, keepalive, signal, timeout, errorMessage });\n\n\treturn parse(html, { head, asFrag, sanitizer, policy });\n}\n\nexport async function postJSON(url, {\n\tbody = undefined,\n\tmode = 'cors',\n\tcache = 'default',\n\tcredentials = 'omit',\n\tredirect = 'follow',\n\treferrerPolicy = 'no-referrer',\n\tpriority = 'auto',\n\theaders = new Headers({ Accept: TYPES.JSON }),\n\tintegrity = undefined,\n\tkeepalive = undefined,\n\tsignal = undefined,\n\ttimeout = null,\n\terrorMessage,\n} = {}) {\n\tconst resp = await POST(url, { body, mode, credentials, referrerPolicy, headers,\n\t\tcache, redirect, priority, integrity, keepalive, signal, timeout, errorMessage });\n\n\treturn await resp.json();\n}\n\nexport async function postText(url, {\n\tbody = undefined,\n\tmode = 'cors',\n\tcache = 'default',\n\tcredentials = 'omit',\n\tredirect = 'follow',\n\treferrerPolicy = 'no-referrer',\n\tpriority = 'auto',\n\theaders = new Headers({ Accept: TYPES.TEXT }),\n\tintegrity = undefined,\n\tkeepalive = undefined,\n\tsignal = undefined,\n\ttimeout = null,\n\terrorMessage,\n} = {}) {\n\tconst resp = await POST(url, { body, mode, credentials, referrerPolicy, headers,\n\t\tcache, redirect, priority, integrity, keepalive, signal, timeout, errorMessage });\n\n\treturn await resp.text();\n}\n\nexport function navigateTo(to, {\n\tparams = {},\n\tutm: {\n\t\tsource: utm_source,\n\t\tmedium: utm_medium = 'referral',\n\t\tcontent: utm_content,\n\t\tcampaign: utm_campaign,\n\t\tterm: utm_term,\n\t} = {},\n\tallowedOrigins = [],\n\trequirePath = false,\n\torigin = location.origin,\n} = {}) {\n\tconst url = new URL(to, origin);\n\n\tif (! Array.isArray(allowedOrigins)) {\n\t\tthrow new TypeError('`allowedOrigins` must be an array');\n\t} else if (! (url.origin === location.origin || allowedOrigins.includes(url.origin))) {\n\t\tthrow new TypeError(`${url.origin} is not an allowed origin`);\n\t} else if (requirePath && url.pathname.length === 1) {\n\t\tthrow new TypeError('`pathname` is required');\n\t} else if (! isObject(params)) {\n\t\tthrow new TypeError('Expected `params` to be an object');\n\t} else {\n\t\tif (typeof utm_source === 'string') {\n\t\t\tObject.entries({...params, utm_source, utm_medium, utm_content, utm_campaign, utm_term })\n\t\t\t\t.filter(([,v]) => ! isNullish(v))\n\t\t\t\t.forEach(([k, v]) => url.searchParams.set(k, v));\n\t\t} else {\n\t\t\tObject.entries(params)\n\t\t\t\t.filter(([,v]) => ! isNullish(v))\n\t\t\t\t.forEach(([k, v]) => url.searchParams.set(k, v));\n\t\t}\n\n\t\tlocation.href = url.href;\n\t}\n}\n\nexport function postNav(url, data = {}, {\n\ttarget = '_self' ,\n\tenctype = TYPES.FORM_URL_ENCODED,\n\tsignal,\n} = {}) {\n\tif (! (signal instanceof AbortSignal && signal.aborted)) {\n\t\tconst form = document.createElement('form');\n\t\tconst inputs = Object.entries(data).map(([name, value]) => {\n\t\t\tconst input = document.createElement('input');\n\t\t\tinput.name = name;\n\t\t\tinput.type = 'hidden';\n\t\t\tinput.readOnly = true;\n\t\t\tinput.value = value;\n\t\t\treturn input;\n\t\t});\n\n\t\tform.action = url;\n\t\tform.method = 'POST';\n\t\tform.target = target;\n\t\tform.enctype = enctype;\n\t\tform.hidden = true;\n\t\tform.append(...inputs);\n\t\tform.addEventListener('submit', ({ target }) => setTimeout(() => target.remove(), 100), { signal });\n\n\t\trequestAnimationFrame(() => {\n\t\t\tdocument.body.append(form);\n\t\t\tform.submit();\n\t\t});\n\t}\n}\n\nexport { setURLParams, setUTMParams };\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { JS } from './types.js';\nimport { createScript, createImage, createLink } from './elements.js';\nimport { getDeferred } from './promises.js';\nimport { getHTML } from './http.js';\nimport { callOnce } from './utility.js';\n\n/**\n * @deprecated\n */\nexport async function loadLink(...args) {\n\tconsole.warn('`loadLink()` is deprecated. Please us `createLink()` instead');\n\treturn createLink(...args);\n}\n\nexport function getTemplateLoader(url, {\n\tmode = 'cors',\n\tcredentials = 'omit',\n\tcache = 'default',\n\tredirect = 'follow',\n\treferrerPolicy = 'no-referrer',\n\tintegrity = undefined,\n\tpriority = 'auto',\n\tpolicy = 'trustedTypes' in globalThis ? trustedTypes.defaultPolicy : null,\n\tsanitizer,\n} = {}) {\n\tconst getTmp = callOnce(async ({ signal } = {}) => getHTML(url, {\n\t\tsignal, policy, sanitizer, cache, redirect, integrity, referrerPolicy,\n\t\tpriority, credentials, mode,\n\t}));\n\n\treturn ({ signal } = {}) => getTmp({ signal }).then(frag => frag.cloneNode(true));\n}\n\nexport async function preload(href, {\n\tas = 'fetch',\n\ttype = null,\n\tcrossOrigin = 'anonymous',\n\treferrerPolicy = 'no-referrer',\n\tfetchPriority = 'auto',\n\tmedia = null,\n\tintegrity = null,\n\tsignal,\n} = {}) {\n\tif (signal instanceof AbortSignal) {\n\t\tsignal.throwIfAborted();\n\t}\n\n\tconst link = createLink(href, {\n\t\trel: ['preload'], as, type, crossOrigin, referrerPolicy,\n\t\tfetchPriority, media, integrity,\n\t});\n\n\tdocument.head.append(link);\n\treturn link;\n}\n\nexport async function preconnect(href, {\n\tcrossOrigin = 'anonymous',\n\treferrerPolicy = 'no-referrer',\n\tsignal,\n} = {}) {\n\tif (signal instanceof AbortSignal) {\n\t\tsignal.throwIfAborted();\n\t}\n\n\tconst link = createLink(href, { rel: ['preconnect'], crossOrigin, referrerPolicy });\n\tdocument.head.append(link);\n\treturn link;\n}\n\nexport async function dnsPrefetch(href, {\n\tcrossOrigin = 'anonymous',\n\treferrerPolicy = 'no-referrer',\n\tsignal,\n} = {}) {\n\tif (signal instanceof AbortSignal) {\n\t\tsignal.throwIfAborted();\n\t}\n\n\tconst link = createLink(href, { rel: ['dsn-prefetch'], crossOrigin, referrerPolicy });\n\tdocument.head.append(link);\n\treturn link;\n}\n\nexport async function prerender(href, { signal } = {}) {\n\tif (signal instanceof AbortSignal) {\n\t\tsignal.throwIfAborted();\n\t}\n\n\tconst link = document.createElement('link');\n\tlink.relList.add('prerender');\n\tlink.href = href;\n\tdocument.head.append(link);\n\treturn link;\n}\n\nexport async function loadScript(src, {\n\tasync = true,\n\tdefer = false,\n\tblocking = null,\n\tnoModule = false,\n\ttype = JS,\n\tcrossOrigin = 'anonymous',\n\treferrerPolicy = 'no-referrer',\n\tintegrity = null,\n\tnonce = null,\n\tfetchPriority = 'auto',\n\tparent = document.head,\n\tpolicy = 'trustedTypes' in globalThis ? globalThis.trustedTypes.defaultPolicy : null,\n\tsignal,\n\tdata = {},\n} = {}) {\n\tconst { resolve, reject, promise } = getDeferred();\n\n\tif (signal instanceof AbortSignal && signal.aborted) {\n\t\treject(signal.reason);\n\t} else {\n\t\tconst controller = new AbortController();\n\t\tconst script = createScript(src, {\n\t\t\tasync, defer, noModule, type, crossOrigin, referrerPolicy, integrity,\n\t\t\tnonce, fetchPriority, policy, dataset: data, blocking,\n\t\t\tevents: {\n\t\t\t\tload: ({ target }) => {\n\t\t\t\t\tresolve(target);\n\t\t\t\t\tcontroller.abort();\n\t\t\t\t},\n\t\t\t\terror: ({ target }) => {\n\t\t\t\t\tconst err = new DOMException(`Error loading <script src=\"${target.src}\">`);\n\t\t\t\t\treject(err);\n\t\t\t\t\tcontroller.abort(err);\n\t\t\t\t},\n\t\t\t\tsignal: signal instanceof AbortSignal\n\t\t\t\t\t? AbortSignal.any([signal, controller.signal])\n\t\t\t\t\t: controller.signal,\n\t\t\t}\n\t\t});\n\n\t\tif (parent instanceof Element) {\n\t\t\tparent.append(script);\n\t\t} else {\n\t\t\tdocument.head.append(script);\n\t\t}\n\n\t\tif (signal instanceof AbortSignal) {\n\t\t\tsignal.addEventListener(\n\t\t\t\t'abort',\n\t\t\t\t({ target }) => {\n\t\t\t\t\treject(target.reason);\n\t\t\t\t\tcontroller.abort(target.reason);\n\n\t\t\t\t\tif (script.parentElement instanceof Element) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{ once: true, signal: controller.signal });\n\t\t}\n\t}\n\n\treturn await promise;\n}\n\nexport async function loadStylesheet(href, {\n\trel = 'stylesheet',\n\tmedia = 'all',\n\tblocking = null,\n\tcrossOrigin = 'anonymous',\n\treferrerPolicy = 'no-referrer',\n\tintegrity = null,\n\tdisabled = false,\n\tfetchPriority = 'auto',\n\ttitle = null,\n\tnonce = null,\n\tparent = document.head,\n\tsignal,\n} = {}) {\n\tconst { resolve, reject, promise } = getDeferred();\n\n\tif (signal instanceof AbortSignal && signal.aborted) {\n\t\treject(signal.reason);\n\t} else {\n\t\tconst controller = new AbortController();\n\n\t\tconst link = await createLink(href, {\n\t\t\trel, media, crossOrigin, referrerPolicy, integrity, disabled, fetchPriority,\n\t\t\ttitle, nonce, blocking,\n\t\t\tevents: {\n\t\t\t\tload: ({ target }) => {\n\t\t\t\t\tresolve(target);\n\t\t\t\t\tcontroller.abort();\n\t\t\t\t},\n\t\t\t\terror: ({ target }) => {\n\t\t\t\t\tconst err = new DOMException(`Error loading <link href=\"${target.href}\">`);\n\t\t\t\t\treject(err);\n\t\t\t\t\tcontroller.abort(err);\n\t\t\t\t},\n\t\t\t\tsignal: signal instanceof AbortSignal\n\t\t\t\t\t? AbortSignal.any([signal, controller.signal])\n\t\t\t\t\t: controller.signal,\n\t\t\t}\n\t\t});\n\n\t\tif (signal instanceof AbortSignal) {\n\t\t\tsignal.addEventListener(\n\t\t\t\t'abort',\n\t\t\t\t({ target }) => {\n\t\t\t\t\treject(target.reason);\n\t\t\t\t\tcontroller.abort(target.reason);\n\n\t\t\t\t\tif (link.parentELement instanceof Element) {\n\t\t\t\t\t\tlink.disabled = true;\n\t\t\t\t\t\tlink.remove();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{ once: true, signal: controller.signal });\n\t\t}\n\n\t\tparent.append(link);\n\t}\n\n\treturn await promise;\n}\n\nexport async function loadImage(src, {\n\tloading = 'eager',\n\tdecoding = 'async',\n\tcrossOrigin = 'anonymous',\n\treferrerPolicy = 'no-referrer',\n\tfetchPriority = 'auto',\n\tsizes = null,\n\tsrcset = null,\n\theight = undefined,\n\twidth = undefined,\n\tslot = null,\n\tpart = [],\n\tclasses = [],\n\tclassList = [],\n\trole = 'img',\n\talt = '',\n\tsignal,\n} = {}) {\n\tif (signal instanceof AbortSignal) {\n\t\tsignal.throwIfAborted();\n\t}\n\n\tif (Array.isArray(classes) && classes.length !== 0) {\n\t\tconsole.warn('`classes` is deprecated. Please use `classList` instead.');\n\t}\n\n\tconst img = createImage(src, {\n\t\tloading, decoding, crossOrigin, referrerPolicy, sizes, srcset, height,\n\t\twidth, slot, part, classList: [...classList, ...classes], role, alt, fetchPriority,\n\t});\n\n\tif (img.loading !== 'lazy') {\n\t\tawait img.decode();\n\t}\n\n\treturn img;\n}\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { getDeferred } from './promises.js';\n\nconst protectedData = new WeakMap();\n\nconst observer = new IntersectionObserver((entries, observer) => {\n\tentries.forEach(entry => {\n\t\tif (entry.isIntersecting) {\n\t\t\tconst { resolve } = protectedData.get(entry.target);\n\t\t\tprotectedData.delete(entry.target);\n\t\t\tresolve(entry);\n\t\t\tobserver.unobserve(entry.target);\n\t\t}\n\t});\n}, {\n\trootMargin: `${Math.min(250, Math.floor(screen.height * 0.3))}px`,\n});\n\nexport async function whenIntersecting(target, { signal, base = document } = {}) {\n\tconst { resolve, reject, promise } = getDeferred();\n\n\tif (signal instanceof AbortSignal && signal.aborted) {\n\t\treject(signal.reason);\n\t} else if (typeof target === 'string') {\n\t\twhenIntersecting(base.querySelector(target), { signal }).then(resolve).catch(reject);\n\t} else if (! (target instanceof Element)) {\n\t\treject(new TypeError('Non-elements can never intersect'));\n\t} else if (protectedData.has(target)) {\n\t\tprotectedData.get(target).promise.then(resolve).catch(reject);\n\n\t\tif (signal instanceof AbortSignal) {\n\t\t\tsignal.addEventListener('abort', ({ target: { reason }}) => {\n\t\t\t\treject(reason);\n\t\t\t}, { once: true });\n\t\t}\n\t} else {\n\t\tprotectedData.set(target, { resolve, reject, promise });\n\t\tobserver.observe(target);\n\n\t\tif (signal instanceof AbortSignal) {\n\t\t\tsignal.addEventListener('abort', ({ target: { reason }}) => {\n\t\t\t\tobserver.unobserve(target);\n\n\t\t\t\tif (protectedData.has(target)) {\n\t\t\t\t\tprotectedData.get(target).reject(reason);\n\t\t\t\t\tprotectedData.delete(target);\n\t\t\t\t}\n\t\t\t}, { once: true });\n\t\t}\n\t}\n\n\treturn promise;\n}\n","export const name = '@shgysk8zer0/components';\nexport const version = '0.0.1';\nexport const url = `https://unpkg.com/${name}@${version}/`;\n","import { url } from './consts.js';\n\nexport const isModule = ! (document.currentScript instanceof HTMLScriptElement);\nexport const meta = isModule\n\t? { url: import.meta.url, resolve: path => import.meta.resolve(path) }\n\t: { url, resolve: path => new URL(path, url).href };\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nexport const HTML = 'http://www.w3.org/1999/xhtml';\nexport const SVG = 'http://www.w3.org/2000/svg';\nexport const XLINK = 'http://www.w3.org/1999/xlink';\nexport const MATHML = 'http://www.w3.org/1998/Math/MathML';\n","/**\n * @copyright 2022-2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { SVG, XLINK } from './namespaces.js';\nimport { isObject } from './utility.js';\nimport { css, data, attr } from './attrs.js';\nimport { SVG as TYPE } from './types.js';\nexport { rotate, scale, translate } from './animate.js';\n\nexport function createSVGFile(svg, { name = 'image.svg' } = {}) {\n\tif (svg instanceof SVGElement) {\n\t\treturn new File([svg.outerHTML], name, { type: TYPE });\n\t} else {\n\t\tthrow new TypeError('Expected an <svg>');\n\t}\n}\n\nexport function createSVGElement (tag, {\n\tfill, stroke, width, height, pathLength, children = [], id, classList = [],\n\tstyles, dataset,\n\tevents: {\n\t\tcapture,\n\t\tpassive,\n\t\tonce,\n\t\tsignal,\n\t\t...events\n\t} = {},\n\tanimation: {\n\t\tkeyframes,\n\t\tduration = 0,\n\t\tdelay = 0,\n\t\tendDelay = 0,\n\t\teasing = 'linear',\n\t\tdirection = 'normal',\n\t\tfill: svgFill = 'none',\n\t\titerations = 1,\n\t\titerationStart = 0,\n\t\tcomposite = 'replace',\n\t\titerationComposite = 'replace',\n\t\tpseudoElement,\n\t} = {},\n\t...rest } = {}) {\n\tconst el = document.createElementNS(SVG, tag);\n\t\n\tif (typeof id === 'string') {\n\t\tel.id = id;\n\t}\n\t\n\tif (Array.isArray(classList) && classList.length !== 0) {\n\t\tel.classList.add(...classList);\n\t}\n\n\tif (typeof fill === 'string') {\n\t\tel.setAttribute('fill', fill);\n\t}\n\n\tif (typeof stroke === 'string') {\n\t\tel.setAttribute('stroke', stroke);\n\t}\n\n\tif (typeof height === 'number' && ! Number.isNaN(height)) {\n\t\tel.setAttribute('height', height.toString());\n\t}\n\n\tif (typeof width === 'number' && ! Number.isNaN(width)) {\n\t\tel.setAttribute('width', width.toString());\n\t}\n\n\tif (typeof pathLength === 'number' && ! Number.isNaN(pathLength)) {\n\t\tel.setAttribute('pathLength', pathLength.toString());\n\t}\n\n\tif (typeof rest.title === 'string') {\n\t\tconst title = createSVGElement('title');\n\t\ttitle.textContent = rest.title;\n\t\tel.prepend(title);\n\t}\n\n\tif (Array.isArray(keyframes) || isObject(keyframes) && el.animate instanceof Function) {\n\t\tel.animate(keyframes, {\n\t\t\tduration, delay, endDelay, easing, direction, fill: svgFill, iterations,\n\t\t\titerationStart, composite, iterationComposite, pseudoElement,\n\t\t});\n\t}\n\t\n\tif (Array.isArray(children) && children.length !== 0) {\n\t\tel.append(...children.filter(node => (typeof node === 'string') || (node instanceof Element)));\n\t}\n\n\tif (isObject(styles)) {\n\t\tcss(el, styles);\n\t}\n\n\tif (isObject(events)) {\n\t\tObject.entries(events).forEach(\n\t\t\t([event, callback]) => el.addEventListener(event, callback, { capture, passive, once, signal })\n\t\t);\n\t}\n\n\tif (isObject(dataset)) {\n\t\tdata(el, dataset);\n\t}\n\n\tattr(el, rest);\n\n\treturn el;\n}\n\nexport function createSVG({\n\tid = null,\n\tfill = null,\n\tviewBox = null,\n\theight = null,\n\twidth = null,\n\tlabel = null,\n\tslot = null,\n\trole = 'img',\n\thidden = false,\n\tclassList = [],\n\tchildren = [],\n\tanimation,\n\tpart = [],\n\t...rest\n} = {}) {\n\tconst svg = createSVGElement('svg', { width, height, fill, animation, children, id, classList, ...rest });\n\n\tsvg.setAttribute('role', role);\n\tsvg.setAttribute('xmlns', SVG);\n\n\tif (typeof viewBox === 'string') {\n\t\tsvg.setAttributeNS(null, 'viewBox', viewBox);\n\t} else if (Array.isArray(viewBox)) {\n\t\tsvg.setAttributeNS(null, 'viewBox', viewBox.map(n => n.toString()).join(' '));\n\t}\n\n\tif (typeof label === 'string') {\n\t\tsvg.setAttribute('aria-label', label);\n\t}\n\n\tif (hidden === true) {\n\t\tsvg.setAttribute('aria-hidden', 'true');\n\t}\n\n\tif (typeof slot === 'string') {\n\t\tsvg.slot = slot;\n\t}\n\n\tif (Array.isArray(classList) && classList.length !== 0) {\n\t\tsvg.classList.add(...classList);\n\t}\n\n\tif (Array.isArray(part) && part.length !== 0) {\n\t\tif('part' in svg) {\n\t\t\tsvg.part.add(...part);\n\t\t} else {\n\t\t\tsvg.setAttribute('part', part.join(' '));\n\t\t}\n\t}\n\n\treturn svg;\n}\n\nexport function useSVG(sprite, {\n\tid = null,\n\tsrc = '/img/icons.svg',\n\tfill = null,\n\theight = null,\n\twidth = null,\n\tslot = null,\n\tpart = [],\n\tclassList = [],\n\tlabel = null,\n\tanimation,\n\t...rest\n} = {}) {\n\tconst svg = createSVG({ id, fill, height, width, classList, label, slot, part, animation, hidden: true, ...rest });\n\tconst use = createSVGElement('use');\n\n\tif (typeof src === 'string') {\n\t\tconst url = new URL(src, document.baseURI);\n\t\turl.hash = `#${sprite}`;\n\t\tuse.setAttributeNS(XLINK, 'xlink:href', url.href);\n\t} else {\n\t\tuse.setAttributeNS(XLINK, 'xlink:href', `#${sprite}`);\n\t}\n\n\tsvg.append(use);\n\n\treturn svg;\n}\n\nexport function createPath(d, { id, fill, stroke, pathLength, animation, ...rest } = {}) {\n\tconst path = createSVGElement('path', { id, fill, stroke, pathLength, animation, ...rest });\n\n\tif (Array.isArray(d) && d.length !== 0) {\n\t\tpath.setAttribute('d', d.join(' '));\n\t} else if (typeof d === 'string') {\n\t\tpath.setAttribute('d', d);\n\t} else {\n\t\tthrow new TypeError('Invalid `d` attribute in <path>.');\n\t}\n\n\treturn path;\n}\n\nexport function createGroup({ id, fill, stroke, children, animation, ...attrs }) {\n\treturn createSVGElement('g', { id, fill, stroke, children, animation, ...attrs });\n}\n\nexport function createRect({ id, width, height, x, y, rx, ry, fill, stroke, pathLength, animation, ...rest }) {\n\treturn createSVGElement('rect', { id, width, height, x, y, rx, ry, fill, stroke, pathLength, animation, ...rest });\n}\n\nexport function createCircle({ id, width, height, cx, cy, r, fill, stroke, pathLength, animation, ...rest }) {\n\treturn createSVGElement('circle', { id, width, height, cx, cy, r, fill, stroke, pathLength, animation, ...rest });\n}\n\nexport function createEllipse({ id, width, height, cx, cy, rx, ry, fill, stroke, pathLength, animation, ...rest }) {\n\treturn createSVGElement('ellipse', { id, width, height, cx, cy, rx, ry, fill, stroke, pathLength, animation, ...rest });\n}\n\nexport function createPolygon(points, { id, fill, stroke, pathLength, animation, ...rest } = {}) {\n\tconst polygon = createSVGElement('polygon', { id, fill, stroke, pathLength, animation, ...rest });\n\n\tif (Array.isArray(points) && points.length !== 0) {\n\t\tpolygon.setAttribute('points', points.map(([x, y]) => `${x},${y}`).join(' '));\n\t} else if (typeof points === 'string') {\n\t\tpolygon.setAttribute('points', points);\n\t} else {\n\t\tthrow new TypeError('Invalid `points` attribute in <polygon>.');\n\t}\n\n\treturn polygon;\n}\n\nexport function createPolyline(points, { id, fill, stroke, pathLength, animation, ...rest } = {}) {\n\tconst polyline = createSVGElement('polyline', { id, fill, stroke, pathLength, animation, ...rest });\n\n\tif (Array.isArray(points) && points.length !== 0) {\n\t\tpolyline.setAttribute('points', points.map(([x, y]) => `${x},${y}`).join(' '));\n\t} else if (typeof points === 'string') {\n\t\tpolyline.setAttribute('points', points);\n\t} else {\n\t\tthrow new TypeError('Invalid `points` attribute in <polygon>.');\n\t}\n\n\treturn polyline;\n}\n\nexport function createLine([[x1, y1], [x2, y2]], { id, fill, stroke, pathLength, animation, ...rest } = {}) {\n\tif (! [x1, x2, y1, y2].every(n => typeof n === 'number' && ! Number.isNaN(n))) {\n\t\tthrow new TypeError('Invalid coordinates in <line>.');\n\t} else {\n\t\treturn createSVGElement('line', { id, fill, stroke, x1, y1, x2, y2, pathLength, animation, ...rest });\n\t}\n}\n\nexport { TYPE };\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nimport {\n\tcreateSVG, createPath, createGroup, createCircle, createRect, translate, rotate,\n} from './svg.js';\n\nconst role = 'presentation';\n\n/**\n * Adwaita Icons\n */\nexport function createAddressBookIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M1.189 14c0 1.09.91 2 2 2h8.823c1.09 0 2-.91 2-2V3c0-1.09-.91-2-2-2H3.189c-1.09 0-2 .91-2 2h10.823v11H1.189z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t}),\n\t\t\tcreatePath('M.594 12a.502.502 0 1 0 .093 1H2.5a.5.5 0 1 0 0-1H.687a.5.5 0 0 0-.093 0zm0-2a.502.502 0 1 0 .093 1H2.5a.5.5 0 1 0 0-1H.687a.5.5 0 0 0-.093 0zm0-2a.502.502 0 1 0 .093 1H2.5a.5.5 0 1 0 0-1H.687a.5.5 0 0 0-.093 0zm0-2a.502.502 0 1 0 .093 1H2.5a.5.5 0 1 0 0-1H.687a.5.5 0 0 0-.093 0zm0-2a.502.502 0 1 0 .093 1H2.5a.5.5 0 1 0 0-1H.687a.5.5 0 0 0-.093 0z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t}),\n\t\t\tcreatePath('M7 10c.328.066.666.007 1 0 .334-.007.669.04 1 0 .624-.074 1.196-.462 1.523-.998a2.41 2.41 0 0 0 .26-1.817A2.807 2.807 0 0 0 9.75 5.652 3.366 3.366 0 0 0 8.009 5a3.737 3.737 0 0 0-2.565.746 3.69 3.69 0 0 0-1.382 2.285 3.647 3.647 0 0 0 .185 1.895c.228.6.618 1.137 1.119 1.54.5.402 1.11.668 1.744.76A3.647 3.647 0 0 0 9 12v-1c-.453.299-1 .453-1.542.437a2.677 2.677 0 0 1-1.513-.53 2.676 2.676 0 0 1-.932-1.304A2.677 2.677 0 0 1 5 8a2.818 2.818 0 0 1 1.154-1.511A3.13 3.13 0 0 1 8 6c.537.026 1.082.193 1.483.551.2.18.362.404.456.656.095.252.12.53.061.793-.054.24-.18.464-.355.637a1.294 1.294 0 0 1-.645.34V8a1.628 1.628 0 0 0-.595-.737 1.628 1.628 0 0 0-.905-.277c-.32 0-.64.098-.905.277-.266.18-.476.44-.595.737-.158.394-.152.856.033 1.238.186.383.55.678.967.762m1.036-.977a.708.708 0 0 1-.814.132.707.707 0 0 1-.378-.732.707.707 0 0 1 .453-.554A.706.706 0 0 1 8 8', {\n\t\t\t\t'letter-spacing': '0',\n\t\t\t\t'word-spacing': '0',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createAlertIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport  function createAppsIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0,24, 24],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M 15.9994,19.9981L 19.9994,19.9981L 19.9994,15.9981L 15.9994,15.9981M 15.9994,13.9981L 19.9994,13.9981L 19.9994,9.99807L 15.9994,9.99807M 9.99938,7.99807L 13.9994,7.99807L 13.9994,3.99807L 9.99938,3.99807M 15.9994,7.99807L 19.9994,7.99807L 19.9994,3.99807L 15.9994,3.99807M 9.99938,13.9981L 13.9994,13.9981L 13.9994,9.99807L 9.99938,9.99807M 3.99938,13.9981L 7.99938,13.9981L 7.99938,9.99807L 3.99938,9.99807M 3.99938,19.9981L 7.99938,19.9981L 7.99938,15.9981L 3.99938,15.9981M 9.99938,19.9981L 13.9994,19.9981L 13.9994,15.9981L 9.99938,15.9981M 3.99938,7.99807L 7.99938,7.99807L 7.99938,3.99807L 3.99938,3.99807L 3.99938,7.99807 Z', {\n\t\t\t\t'stroke-width': 0.2,\n\t\t\t\t'stroke-linejoin': 'round',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createBellIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: parseInt(14 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M13.99 11.991v1H0v-1l.73-.58c.769-.769.809-2.547 1.189-4.416.77-3.767 4.077-4.996 4.077-4.996 0-.55.45-1 .999-1 .55 0 1 .45 1 1 0 0 3.387 1.229 4.156 4.996.38 1.879.42 3.657 1.19 4.417l.659.58h-.01zM6.995 15.99c1.11 0 1.999-.89 1.999-1.999H4.996c0 1.11.89 1.999 1.999 1.999z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\n/**\n * Adwaita Icons\n */\nexport function createCallStartIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M13.032 1c.534 0 .969.427.969.969v.062c-.017 6.613-5.383 11.97-12 11.97H1.97c-.545 0-.97-.447-.97-1v-3c0-.555.447-1 1-1h2c.555 0 1 .445 1 1v.468A8.967 8.967 0 0 0 10.47 5H10c-.553 0-1-.446-1-1V2c0-.554.447-1 1-1h3.032z', {\n\t\t\t\t'overflow': 'visible',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createCheckIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createCreditCardIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M12 9H2V8h10v1zm4-6v9c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h14c.55 0 1 .45 1 1zm-1 3H1v6h14V6zm0-3H1v1h14V3zm-9 7H2v1h4v-1z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createCommentIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M14 1H2c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1h2v3.5L7.5 11H14c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1zm0 9H7l-2 2v-2H2V2h12v8z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\n/**\n * Adwaita Icons\n */\nexport function createContactNewIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreateGroup({\n\t\t\t\ttransform: translate(-261, -727),\n\t\t\t\tchildren: [\n\t\t\t\t\tcreatePath('M269.55 735.09c-.705.624-1.54.906-2.555.906s-1.853-.29-2.558-.914c-1.11.363-2.436 1.288-2.438 2.902l-.004 3.012c0 .554.446 1 1 1h8c.554 0 1-.446 1-1v-3c0-1.387-1.102-2.556-2.445-2.906z'),\n\t\t\t\t\tcreateCircle({ cx: 49.5, cy: 342.5, r: 2.5, transform: 'matrix(1.2 0 0 1.2 207.6 321)' }),\n\t\t\t\t\tcreatePath('M273 728v1.997h-2v1.996h2v1.997h2v-1.997h2v-1.996h-2V728z')\n\t\t\t\t]\n\t\t\t}),\n\t\t\tcreatePath('M14 1H2c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1h2v3.5L7.5 11H14c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1zm0 9H7l-2 2v-2H2V2h12v8z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\n/**\n * Adwaita Icons\n */\nexport function createDialogPasswordIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M5 3C2.25 3 0 5.25 0 8s2.25 5 5 5c1.586 0 2.903-.845 3.813-2h5.593l.22-.75 1.03-4L15.97 5H8.813C7.903 3.845 6.586 3 5 3zm0 2c1.116 0 2.038.595 2.563 1.5l.312.5h5.531l-.53 2H7.874l-.312.5C7.038 10.405 6.116 11 5 11c-1.669 0-3-1.331-3-3s1.331-3 3-3z', {\n\t\t\t\t'overflow': 'visible',\n\t\t\t}),\n\t\t\tcreatePath('M14.498 8H9l-.563 2H14z', {\n\t\t\t\t'overflow': 'visible',\n\t\t\t\t'opacity': 0.35,\n\t\t\t}),\n\t\t\tcreatePath('M5 8a1 1 0 1 1-2 0 1 1 0 1 1 2 0z', {\n\t\t\t\t'overflow': 'visible',\n\t\t\t}),\n\t\t]\n\t});\n}\n\nexport function createFileIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createFileCodeIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M8.5 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4.5L8.5 1zM11 14H1V2h7l3 3v9zM5 6.98L3.5 8.5 5 10l-.5 1L2 8.5 4.5 6l.5.98zM7.5 6L10 8.5 7.5 11l-.5-.98L8.5 8.5 7 7l.5-1z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createFileMediaIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M6 5h2v2H6V5zm6-.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v11l3-5 2 4 2-2 3 3V5z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createFilePDFIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M8.5 1H1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V4.5L8.5 1zM1 2h4a.68.68 0 0 0-.31.2 1.08 1.08 0 0 0-.23.47 4.22 4.22 0 0 0-.09 1.47c.06.609.173 1.211.34 1.8A21.78 21.78 0 0 1 3.6 8.6c-.5 1-.8 1.66-.91 1.84a7.161 7.161 0 0 0-.69.3 4.19 4.19 0 0 0-1 .64V2zm4.42 4.8a5.65 5.65 0 0 0 1.17 2.09c.275.237.595.417.94.53-.64.09-1.23.2-1.81.33a12.22 12.22 0 0 0-1.81.59c-.587.243.22-.44.61-1.25.365-.74.67-1.51.91-2.3l-.01.01zM11 14H1.5a.743.743 0 0 1-.17 0 2.12 2.12 0 0 0 .73-.44 10.14 10.14 0 0 0 1.78-2.38c.31-.13.58-.23.81-.31l.42-.14c.45-.13.94-.23 1.44-.33s1-.16 1.48-.2c.447.216.912.394 1.39.53.403.11.814.188 1.23.23h.38V14H11zm0-4.86a3.74 3.74 0 0 0-.64-.28 4.22 4.22 0 0 0-.75-.11c-.411.003-.822.03-1.23.08a3 3 0 0 1-1-.64 6.07 6.07 0 0 1-1.29-2.33c.111-.662.178-1.33.2-2 .02-.25.02-.5 0-.75a1.05 1.05 0 0 0-.2-.88.82.82 0 0 0-.61-.23H8l3 3v4.14z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createFileZipIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M8.5 1H1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V4.5L8.5 1zM11 14H1V2h3v1h1V2h3l3 3v9zM5 4V3h1v1H5zM4 4h1v1H4V4zm1 2V5h1v1H5zM4 6h1v1H4V6zm1 2V7h1v1H5zM4 9.28A2 2 0 0 0 3 11v1h4v-1a2 2 0 0 0-2-2V8H4v1.28zM6 10v1H4v-1h2z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\n\n\nexport function createFindLocationIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M7 0v1.031A6.514 6.514 0 0 0 1.062 7H0v1h1.063A6.514 6.514 0 0 0 7 13.969V15h1v-1.031c3.188-.234 5.724-2.78 5.969-5.969H15V7h-1.031C13.724 3.811 11.189 1.233 8 1V0zm.531 2.813c2.607 0 4.688 2.08 4.688 4.687s-2.081 4.688-4.688 4.688c-2.606 0-4.75-2.082-4.75-4.688s2.144-4.688 4.75-4.688zM7.5 4a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7z')\n\t\t]\n\t});\n}\n\nexport function createGrabberIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 8, 16],\n\t\t...rest, height: size, width: parseInt(8 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M8 4v1H0V4h8zM0 8h8V7H0v1zm0 3h8v-1H0v1z', { 'fill-rule': 'evenodd' })\n\t\t]\n\t});\n}\n\nexport function createGlobeIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: parseInt(14 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M7 1C3.14 1 0 4.14 0 8s3.14 7 7 7c.48 0 .94-.05 1.38-.14-.17-.08-.2-.73-.02-1.09.19-.41.81-1.45.2-1.8-.61-.35-.44-.5-.81-.91-.37-.41-.22-.47-.25-.58-.08-.34.36-.89.39-.94.02-.06.02-.27 0-.33 0-.08-.27-.22-.34-.23-.06 0-.11.11-.2.13-.09.02-.5-.25-.59-.33-.09-.08-.14-.23-.27-.34-.13-.13-.14-.03-.33-.11s-.8-.31-1.28-.48c-.48-.19-.52-.47-.52-.66-.02-.2-.3-.47-.42-.67-.14-.2-.16-.47-.2-.41-.04.06.25.78.2.81-.05.02-.16-.2-.3-.38-.14-.19.14-.09-.3-.95s.14-1.3.17-1.75c.03-.45.38.17.19-.13-.19-.3 0-.89-.14-1.11-.13-.22-.88.25-.88.25.02-.22.69-.58 1.16-.92.47-.34.78-.06 1.16.05.39.13.41.09.28-.05-.13-.13.06-.17.36-.13.28.05.38.41.83.36.47-.03.05.09.11.22s-.06.11-.38.3c-.3.2.02.22.55.61s.38-.25.31-.55c-.07-.3.39-.06.39-.06.33.22.27.02.5.08.23.06.91.64.91.64-.83.44-.31.48-.17.59.14.11-.28.3-.28.3-.17-.17-.19.02-.3.08-.11.06-.02.22-.02.22-.56.09-.44.69-.42.83 0 .14-.38.36-.47.58-.09.2.25.64.06.66-.19.03-.34-.66-1.31-.41-.3.08-.94.41-.59 1.08.36.69.92-.19 1.11-.09.19.1-.06.53-.02.55.04.02.53.02.56.61.03.59.77.53.92.55.17 0 .7-.44.77-.45.06-.03.38-.28 1.03.09.66.36.98.31 1.2.47.22.16.08.47.28.58.2.11 1.06-.03 1.28.31.22.34-.88 2.09-1.22 2.28-.34.19-.48.64-.84.92s-.81.64-1.27.91c-.41.23-.47.66-.66.8 3.14-.7 5.48-3.5 5.48-6.84 0-3.86-3.14-7-7-7L7 1zm1.64 6.56c-.09.03-.28.22-.78-.08-.48-.3-.81-.23-.86-.28 0 0-.05-.11.17-.14.44-.05.98.41 1.11.41.13 0 .19-.13.41-.05.22.08.05.13-.05.14zM6.34 1.7c-.05-.03.03-.08.09-.14.03-.03.02-.11.05-.14.11-.11.61-.25.52.03-.11.27-.58.3-.66.25zm1.23.89c-.19-.02-.58-.05-.52-.14.3-.28-.09-.38-.34-.38-.25-.02-.34-.16-.22-.19.12-.03.61.02.7.08.08.06.52.25.55.38.02.13 0 .25-.17.25zm1.47-.05c-.14.09-.83-.41-.95-.52-.56-.48-.89-.31-1-.41-.11-.1-.08-.19.11-.34.19-.15.69.06 1 .09.3.03.66.27.66.55.02.25.33.5.19.63h-.01z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createHeartIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M9 2c-.97 0-1.69.42-2.2 1-.51.58-.78.92-.8 1-.02-.08-.28-.42-.8-1-.52-.58-1.17-1-2.2-1-1.632.086-2.954 1.333-3 3 0 .52.09 1.52.67 2.67C1.25 8.82 3.01 10.61 6 13c2.98-2.39 4.77-4.17 5.34-5.33C11.91 6.51 12 5.5 12 5c-.047-1.69-1.342-2.913-3-3z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createInfoIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: parseInt(14 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createLinkIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createLinkExternalIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createMarkLocationIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M8 0a5 5 0 0 0-5 5c0 .173.014.332.031.5.014.167.036.336.063.5C3.666 9.514 6 12.003 8 14.003c2-2 4.334-4.489 4.906-8.003a6.38 6.38 0 0 0 .063-.5c.017-.168.03-.327.03-.5a5 5 0 0 0-5-5zm0 3a2 2 0 1 1 0 4 2 2 0 0 1 0-4z')\n\t\t]\n\t});\n}\n\n/**\n * Adwaita Icons\n */\nexport function createOpenMenuIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M3 3h10v2H3zm0 4h10v2H3zm0 4h10v2H3z')\n\t\t]\n\t});\n}\n\n/**\n * Adwaita Icons\n */\nexport function createPublicShareIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M5.969 7.969a2.969 2.969 0 1 1-5.938 0 2.969 2.969 0 1 1 5.938 0zm9.969 5a2.969 2.969 0 1 1-5.938 0 2.969 2.969 0 1 1 5.938 0zm0-10a2.969 2.969 0 1 1-5.938 0 2.969 2.969 0 1 1 5.938 0z', {\n\t\t\t\t'overflow': 'visible',\n\t\t\t}),\n\t\t\tcreatePath('M12.625 2.156L2.562 7.031.75 7.938l1.812.906 10.032 5.062.906-1.812-8.22-4.156 8.219-4-.875-1.782z', {\n\t\t\t\t'overflow': 'visible',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createLockIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M4 13H3v-1h1v1zm8-6v7c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h1V4c0-2.2 1.8-4 4-4s4 1.8 4 4v2h1c.55 0 1 .45 1 1zM3.8 6h4.41V4c0-1.22-.98-2.2-2.2-2.2-1.22 0-2.2.98-2.2 2.2v2H3.8zM11 7H2v7h9V7zM4 8H3v1h1V8zm0 2H3v1h1v-1z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createMailIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: parseInt(14 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M0 4v8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1zm13 0L7 9 1 4h12zM1 5.5l4 3-4 3v-6zM2 12l3.5-3L7 10.5 8.5 9l3.5 3H2zm11-.5l-4-3 4-3v6z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createMapIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 48, 48],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M41 6c-.11 0-.21.01-.31.05L30 10.2 18 6 6.73 9.8c-.42.14-.73.5-.73.96V41c0 .55.45 1 1 1 .11 0 .21-.01.31-.05L18 37.8 30 42l11.28-3.79c.42-.15.72-.51.72-.97V7c0-.55-.45-1-1-1zM30 38l-12-4.21V10l12 4.21V38z')\n\t\t]\n\t});\n}\n\nexport function createPersonIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M12 14.002a.998.998 0 0 1-.998.998H1.001A1 1 0 0 1 0 13.999V13c0-2.633 4-4 4-4s.229-.409 0-1c-.841-.62-.944-1.59-1-4 .173-2.413 1.867-3 3-3s2.827.586 3 3c-.056 2.41-.159 3.38-1 4-.229.59 0 1 0 1s4 1.367 4 4v1.002z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createPinIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M10 1.2V2l.5 1L6 6H2.2c-.44 0-.67.53-.34.86L5 10l-4 5 5-4 3.14 3.14a.5.5 0 0 0 .86-.34V10l3-4.5 1 .5h.8c.44 0 .67-.53.34-.86L10.86.86a.5.5 0 0 0-.86.34z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createPlusIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M12 9H7v5H5V9H0V7h5V2h2v5h5v2z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createQuestionIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: parseInt(14 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M6 10h2v2H6v-2zm4-3.5C10 8.64 8 9 8 9H6c0-.55.45-1 1-1h.5c.28 0 .5-.22.5-.5v-1c0-.28-.22-.5-.5-.5h-1c-.28 0-.5.22-.5.5V7H4c0-1.5 1.5-3 3-3s3 1 3 2.5zM7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createQuoteIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: parseInt(14 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M6.16 3.5C3.73 5.06 2.55 6.67 2.55 9.36c.16-.05.3-.05.44-.05 1.27 0 2.5.86 2.5 2.41 0 1.61-1.03 2.61-2.5 2.61-1.9 0-2.99-1.52-2.99-4.25 0-3.8 1.75-6.53 5.02-8.42L6.16 3.5zm7 0c-2.43 1.56-3.61 3.17-3.61 5.86.16-.05.3-.05.44-.05 1.27 0 2.5.86 2.5 2.41 0 1.61-1.03 2.61-2.5 2.61-1.89 0-2.98-1.52-2.98-4.25 0-3.8 1.75-6.53 5.02-8.42l1.14 1.84h-.01z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createReplyIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: parseInt(14 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M6 3.5c3.92.44 8 3.125 8 10-2.312-5.062-4.75-6-8-6V11L.5 5.5 6 0v3.5z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createRepoIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createScreenFullIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: parseInt(14 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M13 10h1v3c0 .547-.453 1-1 1h-3v-1h3v-3zM1 10H0v3c0 .547.453 1 1 1h3v-1H1v-3zm0-7h3V2H1c-.547 0-1 .453-1 1v3h1V3zm1 1h10v8H2V4zm2 6h6V6H4v4zm6-8v1h3v3h1V3c0-.547-.453-1-1-1h-3z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createScreenNormalIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: parseInt(14 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M2 4H0V3h2V1h1v2c0 .547-.453 1-1 1zm0 8H0v1h2v2h1v-2c0-.547-.453-1-1-1zm9-2c0 .547-.453 1-1 1H4c-.547 0-1-.453-1-1V6c0-.547.453-1 1-1h6c.547 0 1 .453 1 1v4zM9 7H5v2h4V7zm2 6v2h1v-2h2v-1h-2c-.547 0-1 .453-1 1zm1-10V1h-1v2c0 .547.453 1 1 1h2V3h-2z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createSearchIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createSettingsIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M4 7H3V2h1v5zm-1 7h1v-3H3v3zm5 0h1V8H8v6zm5 0h1v-2h-1v2zm1-12h-1v6h1V2zM9 2H8v2h1V2zM5 8H2c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1zm5-3H7c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1zm5 4h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport const createShareIcon = (...args) => createPublicShareIcon(...args);\n\nexport function createSignInIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: parseInt(14 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M7 6.75V12h4V8h1v4c0 .55-.45 1-1 1H7v3l-5.45-2.72c-.33-.17-.55-.52-.55-.91V1c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v3h-1V1H3l4 2v2.25L10 3v2h4v2h-4v2L7 6.75z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createSignOutIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M11.992 8.994V6.996H7.995v-2h3.997V2.999l3.998 2.998-3.998 2.998zm-1.998 2.998H5.996V2.998L2 1h7.995v2.998h1V1c0-.55-.45-.999-1-.999H.999A1.001 1.001 0 0 0 0 1v11.372c0 .39.22.73.55.91L5.996 16v-3.008h3.998c.55 0 1-.45 1-1V7.996h-1v3.998z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport const createSignUpIcon = (...args) => createContactNewIcon(...args);\n\nexport function createSpinnerIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\tconst height = 12.837;\n\tconst width = 26.263;\n\tconst rx = 6.4187;\n\tconst ry = rx;\n\n\treturn createSVG({\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tviewBox: [0, 0, 106.82, 106.82],\n\t\tchildren: [\n\t\t\tcreateGroup({\n\t\t\t\ttransform: translate(-73.591, -148.34),\n\t\t\t\tchildren: [\n\t\t\t\t\tcreateRect({ height, width, rx, ry, x: 154.15,  y: 195.33,                                            }),\n\t\t\t\t\tcreateRect({ height, width, rx, ry, x: 36.256,  y: 231.8,   transform: rotate(-30),                   }),\n\t\t\t\t\tcreateRect({ height, width, rx, ry, x: -84.075, y: 204.44,  transform: rotate(-60), opacity: 0.0833,  }),\n\t\t\t\t\tcreateRect({ height, width, rx, ry, x: -174.6,  y: 120.58,  transform: rotate(-90), opacity: 0.16666, }),\n\t\t\t\t\tcreateRect({ height, width, rx, ry, x: -211.07, y: 2.6915,  transform: rotate(240), opacity: 0.25,    }),\n\t\t\t\t\tcreateRect({ height, width, rx, ry, x: -183.71, y: -117.64, transform: rotate(210), opacity: 0.3333,  }),\n\t\t\t\t\tcreateRect({ height, width, rx, ry, x: -99.854, y: -208.17, transform: rotate(180), opacity: 0.4166,  }),\n\t\t\t\t\tcreateRect({ height, width, rx, ry, x: 18.035,  y: -244.64, transform: rotate(150), opacity: 0.5,     }),\n\t\t\t\t\tcreateRect({ height, width, rx, ry, x: 138.37,  y: -217.28, transform: rotate(120), opacity: 0.5833,  }),\n\t\t\t\t\tcreateRect({ height, width, rx, ry, x: 228.9,   y: -133.42, transform: rotate(90),  opacity: 0.6666,  }),\n\t\t\t\t\tcreateRect({ height, width, rx, ry, x: 265.37,  y: -15.529, transform: rotate(60),  opacity: 0.75,    }),\n\t\t\t\t\tcreateRect({ height, width, rx, ry, x: 238.01,  y: 104.8,   transform: rotate(30),  opacity: 0.8333,  }),\n\t\t\t\t]\n\t\t\t})\n\t\t],\n\t});\n}\n\nexport function createStarIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: parseInt(14 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createSyncIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M10.24 7.4a4.15 4.15 0 0 1-1.2 3.6 4.346 4.346 0 0 1-5.41.54L4.8 10.4.5 9.8l.6 4.2 1.31-1.26c2.36 1.74 5.7 1.57 7.84-.54a5.876 5.876 0 0 0 1.74-4.46l-1.75-.34zM2.96 5a4.346 4.346 0 0 1 5.41-.54L7.2 5.6l4.3.6-.6-4.2-1.31 1.26c-2.36-1.74-5.7-1.57-7.85.54C.5 5.03-.06 6.65.01 8.26l1.75.35A4.17 4.17 0 0 1 2.96 5z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createSystemSoftwareInstallIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M3 8h10v7.059c0 .492-.472.937-.996.937H4c-.539 0-1-.43-1-1z', {\n\t\t\t\t'overflow': 'visible',\n\t\t\t}),\n\t\t\tcreatePath('M6.688 2.969a1 1 0 0 0-.657.375L3.22 6.812a1 1 0 0 0-.22.625v1a1 1 0 1 0 2 0v-.656l2.594-3.156a1 1 0 0 0-.907-1.656zm2.218 3a1 1 0 1 0-.031 2l2.156.375V8.5a1 1 0 1 0 2 0v-1a1 1 0 0 0-.812-1l-3-.5a1 1 0 0 0-.313-.031z', {\n\t\t\t\t'overflow': 'visible',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createTagIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: parseInt(14 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M7.685 1.72a2.49 2.49 0 0 0-1.76-.726H3.48A2.5 2.5 0 0 0 .994 3.48v2.456c0 .656.269 1.292.726 1.76l6.024 6.024a.99.99 0 0 0 1.402 0l4.563-4.563a.99.99 0 0 0 0-1.402L7.685 1.72zM2.366 7.048A1.54 1.54 0 0 1 1.9 5.925V3.48c0-.874.716-1.58 1.58-1.58h2.456c.418 0 .825.159 1.123.467l6.104 6.094-4.702 4.702-6.094-6.114zm.626-4.066h1.989v1.989H2.982V2.982h.01z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createThumbsUpIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M13.991 13.991c-.05.69-1.269 1-1.998 1H5.666l-1.668-1V7.995c1.359 0 2.108-.75 3.128-1.879 1.229-1.359 1.139-2.558.879-4.127-.08-.5.5-1 1-1 .829 0 1.998 2.729 1.998 3.998l-.02 1.03c0 .689.33.969 1.02.969H14c.63 0 .98.36 1 .999l-1 5.996-.01.01zm0-7.995h-2.018l.02-.98C11.993 3.719 10.823 0 8.994 0c-.58 0-1.169.3-1.559.77-.36.41-.5.909-.42 1.409.25 1.479.28 2.278-.629 3.278-1 1.089-1.48 1.549-2.388 1.549h-2C.94 6.996 0 7.935 0 8.994v3.998c0 1.06.94 1.999 1.999 1.999h1.719l1.439.86c.16.089.33.139.52.139h6.325c1.13 0 2.839-.5 2.999-1.879l.979-5.946c.02-.08.02-.14.02-.2-.03-1.17-.84-1.969-1.999-1.969h-.01z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createThumbsDownIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M15.97 7.825L15 1.88C14.83.499 13.123 0 11.994 0H5.686c-.2 0-.38.05-.53.14L3.719 1h-1.72C.94 1 0 1.938 0 2.997v3.998c0 1.059.94 2.018 1.999 1.998h1.999c.909 0 1.389.45 2.388 1.55.91.999.88 1.798.63 3.267-.08.5.06 1 .42 1.42.39.47.979.769 1.558.769 1.83 0 2.999-3.718 2.999-5.017l-.02-.98h2.038c1.16 0 1.949-.799 1.979-1.968 0-.06.02-.13-.02-.2v-.01zm-1.969 1.19h-1.989c-.7 0-1.029.28-1.029.969l.03 1.03c0 1.268-1.17 3.997-1.999 3.997-.5 0-1.079-.5-.999-1 .25-1.579.34-2.778-.89-4.137-1.019-1.13-1.768-1.879-3.127-1.879V1.999l1.668-1h6.327c.729 0 1.948.31 1.998 1l.02.02 1 5.996c-.03.64-.38 1-1 1h-.01z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createToolsIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M4.48 7.27c.26.26 1.28 1.33 1.28 1.33l.56-.58-.88-.91 1.69-1.8s-.76-.74-.43-.45c.32-1.19.03-2.51-.87-3.44C4.93.5 3.66.2 2.52.51l1.93 2-.51 1.96-1.89.52-1.93-2C-.19 4.17.1 5.48 1 6.4c.94.98 2.29 1.26 3.48.87zm6.44 1.94l-2.33 2.3 3.84 3.98c.31.33.73.49 1.14.49.41 0 .82-.16 1.14-.49.63-.65.63-1.7 0-2.35l-3.79-3.93zM16 2.53L13.55 0 6.33 7.46l.88.91-4.31 4.46-.99.53-1.39 2.27.35.37 2.2-1.44.51-1.02L7.9 9.08l.88.91L16 2.53z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createTrashCanIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 14, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createXIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 12, 16],\n\t\t...rest, height: size, width: parseInt(12 * (size / 16)), fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z', {\n\t\t\t\t'fill-rule': 'evenodd',\n\t\t\t})\n\t\t]\n\t});\n}\n\nexport function createZoomInIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M3.19 2c-.663 0-1.188.549-1.188 1.219v9.562c0 .67.525 1.22 1.188 1.22h9.625c.663 0 1.187-.55 1.187-1.22V3.22c0-.67-.524-1.219-1.187-1.219zm3.812 3h2v2h2v2h-2v2h-2V9h-2V7h2z')\n\t\t]\n\t});\n}\n\nexport function createZoomOutIcon({\n\tsize = 16,\n\tfill = 'currentColor',\n\tclassList = [],\n\tpart = [],\n\tslot,\n\tanimation,\n\t...rest\n} = {}) {\n\treturn createSVG({\n\t\tviewBox: [0, 0, 16, 16],\n\t\t...rest, height: size, width: size, fill, classList, part, slot, animation, role,\n\t\tchildren: [\n\t\t\tcreatePath('M3.19 2c-.663 0-1.188.549-1.188 1.219v9.562c0 .67.525 1.22 1.188 1.22h9.625c.663 0 1.187-.55 1.187-1.22V3.22c0-.67-.524-1.219-1.187-1.219zm1.812 5h6v2h-6z')\n\t\t]\n\t});\n}\n","import { registerCustomElement } from '@shgysk8zer0/kazoo/custom-elements.js';\nimport { createElement, createImage, createSlot } from '@shgysk8zer0/kazoo/elements.js';\nimport { getString, setString, getURL, setURL, getInt, setInt, getBool, setBool } from '@shgysk8zer0/kazoo/attrs.js';\nimport { loadStylesheet } from '@shgysk8zer0/kazoo/loader.js';\nimport { getURLResolver, isObject, setUTMParams } from '@shgysk8zer0/kazoo/utility.js';\nimport { whenIntersecting } from '@shgysk8zer0/kazoo/intersect.js';\nimport { meta } from '../import.meta.js';\nimport { save, open } from '@shgysk8zer0/kazoo/filesystem.js';\nimport {\n\tcreateCallStartIcon, createMailIcon, createMarkLocationIcon,\n\tcreateLinkExternalIcon, createInfoIcon,\n} from '@shgysk8zer0/kazoo/icons.js';\n\nconst protectedData = new WeakMap();\nconst resolveURL = getURLResolver({ base: meta.url, path: './krv/' });\nconst ITEMTYPE = new URL('/WPAdBlock', 'https://schema.org').href;\nconst size = 18;\n\nconst callIcon = createCallStartIcon({ size });\nconst emailIcon = createMailIcon({ size });\nconst linkIcon = createLinkExternalIcon({ size });\nconst infoIcon = createInfoIcon({ size });\nconst geoIcon = createMarkLocationIcon({ size });\n\nfunction getSlot(el, name) {\n\tconst { shadow } = protectedData.get(el);\n\treturn shadow.querySelector(`slot[name=\"${name}\"]`);\n}\n\nfunction getSlotted(el, name) {\n\tconst slot = getSlot(el, name);\n\n\treturn slot instanceof HTMLElement ? slot.assignedElements() : [];\n}\n\nfunction clearSlotted(el, name) {\n\tgetSlotted(el, name).forEach(el => el.remove());\n}\n\nfunction slotChange(itemprop) {\n\treturn ({ currentTarget }) => {\n\t\tconst assigned = currentTarget.assignedElements();\n\t\tassigned.forEach(el => el.setAttribute('itemprop', itemprop));\n\t};\n}\n\nfunction updateData(el, data) {\n\tif (! isObject(data)) {\n\t\tthrow new TypeError('data must be an object');\n\t} else {\n\t\tprotectedData.set(el, { ...protectedData.get(el), ...data });\n\t}\n}\n\nasync function log(type, {\n\tid: uuid, label, source, campaign, medium, term, content, layout, theme,\n}) {\n\tconst endpoint = new URL('/api/events', 'https://ads.kernvalley.us');\n\tconst params = Object.fromEntries(Object.entries({\n\t\ttype, origin: location.origin, pathname: location.pathname, layout, theme,\n\t\tdatetime: new Date().toISOString(), uuid, label, source, campaign, medium, term, content,\n\t}).filter(([,value]) => typeof value !== 'undefined' && ! Object.is(value, null)));\n\n\tif (\n\t\t['localhost'].includes(location.hostname)\n\t\t|| location.hostname.endsWith('.netlify.live')\n\t\t|| location.hostname.endsWith('.netlify.app')\n\t\t|| /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/.test(location.hostname)\n\t) {\n\t\tconsole.info({ type, endpoint, params });\n\t\treturn false;\n\t} else {\n\t\treturn navigator.sendBeacon(endpoint, new URLSearchParams(params));\n\t}\n}\n\nclass HTMLKRVAdElement extends HTMLElement {\n\tconstructor({\n\t\tbackground    = null,\n\t\tborder        = null,\n\t\tborderWidth   = null,\n\t\tcallToAction  = null,\n\t\tcampaign      = null,\n\t\tcolor         = null,\n\t\tcontent       = null,\n\t\tdescription   = null,\n\t\theight        = null,\n\t\tidentifier    = null,\n\t\timage         = null,\n\t\timageFit      = null,\n\t\timagePosition = null,\n\t\tlinkColor     = null,\n\t\tlabel         = null,\n\t\tlayout        = null,\n\t\tmedia         = null,\n\t\tmedium        = null,\n\t\tsource        = null,\n\t\tterm          = null,\n\t\ttheme         = null,\n\t\turl           = null,\n\t\twidth         = null,\n\t\tloading       = null,\n\t} = {}) {\n\t\tsuper();\n\t\tconst shadow = this.attachShadow({ mode: 'closed' });\n\t\tconst internals = this.attachInternals();\n\t\tinternals.states.add('--loading');\n\t\tinternals.ariaBusy = 'true';\n\t\tinternals.role = 'document';\n\t\tconst publisher = createElement('div', {\n\t\t\t'@type': 'Organization',\n\t\t\titemprop: 'publisher',\n\t\t\titemscope: true,\n\t\t\thidden: true,\n\t\t\tchildren: [\n\t\t\t\tcreateElement('meta', { itemprop: 'name', content: 'Kern Valley Ads' }),\n\t\t\t\tcreateElement('meta', { itemprop: 'url', content: 'https://ads.kernvalley.us' }),\n\t\t\t\tcreateElement('meta', { itemprop: 'logo', content: 'https://cdn.kernvalley.us/img/branding/ads.kernvalley.us.svg' }),\n\t\t\t]\n\t\t});\n\n\t\tconst container = createElement('a', {\n\t\t\tid: 'container',\n\t\t\tpart: ['container'],\n\t\t\trel: 'noopener noreferrer external',\n\t\t\titemprop: 'url',\n\t\t\ttarget: '_blank',\n\t\t\tevents: {\n\t\t\t\tclick: event => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tevent.isTrusted\n\t\t\t\t\t\t&& ! this.preview\n\t\t\t\t\t\t&& this.id.length !== 0\n\t\t\t\t\t\t&& event.currentTarget.href.length !== 0\n\t\t\t\t\t\t&& ! event.target.matches('#branding, #branding > *')\n\t\t\t\t\t) {\n\t\t\t\t\t\tlog('click', this);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonce: true,\n\t\t\t},\n\t\t\tchildren: [\n\t\t\t\tcreateElement('h3', {\n\t\t\t\t\tid: 'label',\n\t\t\t\t\tpart: ['label', 'text'],\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tcreateSlot('label', {\n\t\t\t\t\t\t\tevents: { slotchange: slotChange('name') },\n\t\t\t\t\t\t\ttext: 'No Label',\n\t\t\t\t\t\t}),\n\t\t\t\t\t]\n\t\t\t\t}),\n\t\t\t\tcreateElement('div', {\n\t\t\t\t\tid: 'image',\n\t\t\t\t\tpart: ['image'],\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tcreateSlot('image', {\n\t\t\t\t\t\t\tevents: { slotchange: slotChange('image') },\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tcreateImage('https://cdn.kernvalley.us/img/raster/missing-image.png', {\n\t\t\t\t\t\t\t\t\treferrerPolicy: 'no-referrer',\n\t\t\t\t\t\t\t\t\tcrossOrigin: 'anonymous',\n\t\t\t\t\t\t\t\t\tloading: 'lazy',\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}),\n\t\t\t\t\t]\n\t\t\t\t}),\n\t\t\t\tcreateElement('div', {\n\t\t\t\t\tid: 'description',\n\t\t\t\t\tpart: ['text', 'description'],\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tcreateSlot('description', {\n\t\t\t\t\t\t\ttext: 'No Description',\n\t\t\t\t\t\t\tevents: { slotchange: slotChange('description') },\n\t\t\t\t\t\t}),\n\t\t\t\t\t]\n\t\t\t\t}),\n\t\t\t\tcreateElement('div', {\n\t\t\t\t\tid: 'call-to-action',\n\t\t\t\t\tpart: ['call-to-action'],\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tcreateSlot('calltoaction', {\n\t\t\t\t\t\t\ttext: 'No Call-to-Action',\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcreateElement('span', {\n\t\t\t\t\t\t\tpart: ['icon', 'call-icon'],\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tcreateSlot('call-icon', {\n\t\t\t\t\t\t\t\t\tchildren: [callIcon.cloneNode(true)],\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcreateElement('span', {\n\t\t\t\t\t\t\tpart: ['icon', 'email-icon'],\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tcreateSlot('email-icon', {\n\t\t\t\t\t\t\t\t\tchildren: [emailIcon.cloneNode(true)],\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcreateElement('span', {\n\t\t\t\t\t\t\tpart: ['icon', 'link-icon'],\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tcreateSlot('link-icon', {\n\t\t\t\t\t\t\t\t\tchildren: [linkIcon.cloneNode(true)],\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcreateElement('span', {\n\t\t\t\t\t\t\tpart: ['icon', 'geo-icon'],\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tcreateSlot('geo-icon', {\n\t\t\t\t\t\t\t\t\tchildren: [geoIcon.cloneNode(true)],\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}),\n\t\t\t\t\t]\n\t\t\t\t}),\n\t\t\t\tcreateElement('a', {\n\t\t\t\t\tid: 'branding',\n\t\t\t\t\tpart: ['branding'],\n\t\t\t\t\thref: setUTMParams('https://ads.kernvalley.us', {\n\t\t\t\t\t\tsource: location.hostname,\n\t\t\t\t\t\tmedium: 'referral',\n\t\t\t\t\t\tcampaign: 'ad-info',\n\t\t\t\t\t}),\n\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tcreateElement('span', {\n\t\t\t\t\t\t\tpart: ['icon', 'branding-icon'],\n\t\t\t\t\t\t\tchildren: [infoIcon.cloneNode(true)]\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcreateElement('span', { text: 'Ads by KernValley.US' }),\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\n\t\tprotectedData.set(this, { shadow, timeout: NaN, container, internals });\n\n\t\tif (typeof callToAction === 'string') {\n\t\t\tthis.callToAction = callToAction;\n\t\t} else if (callToAction instanceof HTMLElement) {\n\t\t\tcallToAction.slot = 'calltoaction';\n\t\t\tthis.append(callToAction);\n\t\t}\n\n\t\tif (typeof label === 'string') {\n\t\t\tthis.label = label;\n\t\t} else if(label instanceof HTMLElement) {\n\t\t\tlabel.slot = 'label';\n\t\t\tthis.append(label);\n\t\t}\n\n\t\tif (typeof description === 'string') {\n\t\t\tthis.description = description;\n\t\t} else if (description instanceof HTMLElement) {\n\t\t\tdescription.slot = 'description';\n\t\t\tthis.append(description);\n\t\t}\n\n\t\tif (typeof image === 'string' || image instanceof URL) {\n\t\t\tthis.image = image;\n\t\t} else if (image instanceof HTMLElement) {\n\t\t\timage.slot = 'image';\n\t\t\tthis.append(image);\n\t\t}\n\n\t\tshadow.append(container);\n\n\t\tconst publisherEl = this.querySelector('[itemprop=\"publisher\"]');\n\n\t\tif (publisherEl instanceof HTMLElement) {\n\t\t\tpublisherEl.replaceWith(publisher);\n\t\t} else {\n\t\t\tthis.append(publisher);\n\t\t}\n\n\t\tinternals.ariaBusy = 'false';\n\n\t\tthis.addEventListener('connected', () => {\n\t\t\t// this.tabIndex = 0;\n\t\t\tthis.setAttribute('itemtype', ITEMTYPE);\n\t\t\tthis.setAttribute('itemscope', '');\n\n\t\t\tif (typeof loading === 'string') {\n\t\t\t\tthis.loading = loading;\n\t\t\t}\n\n\t\t\tif (typeof identifier === 'string') {\n\t\t\t\tthis.id = identifier;\n\t\t\t}\n\n\t\t\tif (typeof background === 'string') {\n\t\t\t\tthis.background = background;\n\t\t\t}\n\n\t\t\tif (typeof border === 'string') {\n\t\t\t\tthis.border = border;\n\t\t\t}\n\n\t\t\tif (typeof borderWidth === 'string' || typeof borderWidth === 'number') {\n\t\t\t\tthis.borderWidth = borderWidth;\n\t\t\t}\n\n\t\t\tif (typeof color === 'string') {\n\t\t\t\tthis.color = color;\n\t\t\t}\n\n\t\t\tif (typeof linkColor === 'string') {\n\t\t\t\tthis.linkColor = linkColor;\n\t\t\t}\n\n\t\t\tif (typeof media === 'string') {\n\t\t\t\tthis.media = media;\n\t\t\t}\n\n\t\t\tif (typeof layout === 'string') {\n\t\t\t\tthis.layout = layout;\n\t\t\t}\n\n\t\t\tif (typeof url === 'string' || url instanceof URL) {\n\t\t\t\tthis.url = url;\n\t\t\t}\n\n\t\t\tif (typeof theme === 'string') {\n\t\t\t\tthis.theme = theme;\n\t\t\t}\n\n\t\t\tif (typeof imageFit === 'string') {\n\t\t\t\tthis.imageFit = imageFit;\n\t\t\t}\n\n\t\t\tif (typeof imagePosition === 'string') {\n\t\t\t\tthis.imagePosition = imagePosition;\n\t\t\t}\n\n\t\t\tif (typeof source === 'string') {\n\t\t\t\tthis.source = source;\n\t\t\t}\n\n\t\t\tif (typeof medium === 'string') {\n\t\t\t\tthis.medium = medium;\n\t\t\t}\n\n\t\t\tif (typeof campaign === 'string') {\n\t\t\t\tthis.campaign = campaign;\n\t\t\t}\n\n\t\t\tif (typeof term === 'string') {\n\t\t\t\tthis.term = term;\n\t\t\t}\n\n\t\t\tif (typeof content === 'string') {\n\t\t\t\tthis.content = content;\n\t\t\t}\n\n\t\t\tif (typeof height === 'number' && ! Number.isNaN(height)) {\n\t\t\t\tthis.height = height;\n\t\t\t}\n\n\t\t\tif (typeof width === 'number' && ! Number.isNaN(height)) {\n\t\t\t\tthis.width = width;\n\t\t\t}\n\t\t});\n\t}\n\n\tasync connectedCallback() {\n\t\tthis.dispatchEvent(new Event('connected'));\n\t\tconst { shadow, internals } = protectedData.get(this);\n\t\tawait whenIntersecting(this);\n\t\tinternals.states.add('--seen');\n\t\tawait loadStylesheet(resolveURL('./ad.css'), { parent: shadow });\n\t\tsetTimeout(() => this.hidden = false, 1);\n\t\tinternals.states.delete('--loading');\n\n\t\tif (this.id.length !== 0) {\n\t\t\tlog('view', this);\n\t\t}\n\t}\n\n\tattributeChangedCallback(name, oldVal, newVal) {\n\t\tconst { shadow, timeout, container } = protectedData.get(this);\n\n\t\tswitch(name) {\n\t\t\tcase 'url':\n\t\t\tcase 'source':\n\t\t\tcase 'medium':\n\t\t\tcase 'term':\n\t\t\tcase 'campaign':\n\t\t\tcase 'content':\n\t\t\t\tif (! Number.isNaN(timeout)) {\n\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t}\n\n\t\t\t\tupdateData(this, {\n\t\t\t\t\ttimeout: setTimeout(() => {\n\t\t\t\t\t\tconst url = this.getUrl();\n\t\t\t\t\t\tupdateData(this, { timeout: NaN });\n\t\t\t\t\t\tsetURL(shadow.querySelector('[part~=\"container\"]'), 'href', url);\n\t\t\t\t\t}, 10),\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'background':\n\t\t\t\tif (typeof newVal === 'string') {\n\t\t\t\t\tcontainer.style.setProperty('--ad-background', newVal);\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.style.removeProperty('--ad-background');\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 'color':\n\t\t\t\tif (typeof newVal === 'string') {\n\t\t\t\t\tcontainer.style.setProperty('--ad-color', newVal);\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.style.removeProperty('--ad-color');\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'border':\n\t\t\t\tif (typeof newVal === 'string') {\n\t\t\t\t\tcontainer.style.setProperty('--ad-border', newVal);\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.style.removeProperty('--ad-boder');\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'borderwidth':\n\t\t\t\tif (typeof newVal === 'string') {\n\t\t\t\t\tcontainer.style.setProperty('--ad-border-width', newVal);\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.style.removeProperty('--ad-border-width');\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'linkcolor':\n\t\t\t\tif (typeof newVal === 'string') {\n\t\t\t\t\tcontainer.style.setProperty('--ad-link-color', newVal);\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.style.removeProperty('--ad-link-color');\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'media':\n\t\t\t\t// this.hidden = typeof newVal !== 'string' || ! matchMedia(newVal).matches;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unsupported property changed: \"${name}\"`);\n\t\t}\n\t}\n\n\ttoJSON() {\n\t\tconst {\n\t\t\tid, label, description, callToAction, image, layout, theme, campaign,\n\t\t\tcontent, source, medium, term, border, borderWidth, background, color,\n\t\t\timageFit, imagePosition, linkColor,\n\t\t} = this;\n\n\t\treturn {\n\t\t\t'@context': 'https://schema.org', '@type': 'WPAdBlock',\n\t\t\tversion: HTMLKRVAdElement.VERSION,\n\t\t\tidentifier: id, label, description, callToAction, image, layout, theme,\n\t\t\tcampaign, content, source, medium, term, border, borderWidth,\n\t\t\tbackground, color, imageFit, imagePosition, linkColor,\n\t\t};\n\t}\n\n\tget layout() {\n\t\treturn getString(this, 'layout', { fallback: 'card' });\n\t}\n\n\tset layout(val) {\n\t\tsetString(this, 'layout', val);\n\t}\n\n\tget theme() {\n\t\treturn getString(this, 'theme', { fallback: 'auto' });\n\t}\n\n\tset theme(val) {\n\t\tsetString(this, 'theme', val);\n\t}\n\n\tget preview() {\n\t\treturn getBool(this, 'preview');\n\t}\n\n\tset preview(val) {\n\t\tsetBool(this, 'preview', val);\n\t}\n\n\tget background() {\n\t\treturn getString(this, 'background');\n\t}\n\n\tset background(val) {\n\t\tsetString(this, 'background', val);\n\t}\n\n\tget color() {\n\t\treturn getString(this, 'color');\n\t}\n\n\tset color(val) {\n\t\tsetString(this, 'color', val);\n\t}\n\n\tget height() {\n\t\treturn getInt(this, 'height');\n\t}\n\n\tset height(val) {\n\t\tsetInt(this, 'height', val);\n\t}\n\n\tget width() {\n\t\treturn getInt(this, 'width');\n\t}\n\n\tset width(val) {\n\t\tsetInt(this, 'width', val);\n\t}\n\n\tget border() {\n\t\treturn getString(this, 'border');\n\t}\n\n\tset border(val) {\n\t\tsetString(this, 'border', val);\n\t}\n\n\tget borderWidth() {\n\t\treturn getInt(this, 'borderwidth');\n\t}\n\n\tset borderWidth(val) {\n\t\tsetInt(this, 'borderwidth', val);\n\t}\n\n\tget imageFit() {\n\t\treturn getString(this, 'imagefit');\n\t}\n\n\tset imageFit(val) {\n\t\tsetString(this, 'imagefit', val);\n\t}\n\n\tget imagePostion() {\n\t\treturn getString(this, 'imageposition');\n\t}\n\n\tset imagePosition(val) {\n\t\tsetString(this, 'imageposition', val);\n\t}\n\n\tget label() {\n\t\tconst slotted = getSlotted(this, 'label');\n\n\t\tif (slotted.length === 1) {\n\t\t\treturn slotted[0].textContent;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tset label(val) {\n\t\tclearSlotted(this, 'label');\n\n\t\tif (typeof val === 'string' && val.length !== 0) {\n\t\t\tthis.append(createElement('span', {\n\t\t\t\ttext: val,\n\t\t\t\tslot: 'label',\n\t\t\t}));\n\t\t}\n\t}\n\n\tget image() {\n\t\tconst imgs = getSlotted(this, 'image');\n\n\t\tif (imgs.length === 1) {\n\t\t\treturn imgs[0].src;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tset image(src) {\n\t\tclearSlotted(this, 'image');\n\n\t\tif (typeof src === 'string' && src.length !== 0) {\n\t\t\tthis.append(createImage(src, {\n\t\t\t\tloading: 'lazy',\n\t\t\t\talt: '',\n\t\t\t\tcrossOrigin: 'anonymous',\n\t\t\t\treferrerPolicy: 'no-referrer',\n\t\t\t\tslot: 'image',\n\t\t\t}));\n\t\t}\n\t}\n\n\tget description() {\n\t\tconst slotted = getSlotted(this, 'description');\n\n\t\tif (slotted.length === 1) {\n\t\t\treturn slotted[0].textContent;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tset description(val) {\n\t\tclearSlotted(this, 'description');\n\n\t\tif (typeof val === 'string' && val.length !== 0) {\n\t\t\tthis.append(createElement('span', {\n\t\t\t\ttext: val,\n\t\t\t\tslot: 'description',\n\t\t\t}));\n\t\t}\n\t}\n\n\tget callToAction() {\n\t\tconst slotted = getSlotted(this, 'calltoaction');\n\n\t\tif (slotted.length === 1) {\n\t\t\treturn slotted[0].textContent;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tset callToAction(val) {\n\t\tclearSlotted(this, 'calltoaction');\n\n\t\tif (typeof val === 'string' && val.length !== 0) {\n\t\t\tthis.append(createElement('span', {\n\t\t\t\ttext: val,\n\t\t\t\tslot: 'calltoaction',\n\t\t\t}));\n\t\t}\n\t}\n\n\tget url() {\n\t\treturn getURL(this, 'url');\n\t}\n\n\tset url(val) {\n\t\tsetURL(this, 'url', val, { requirePath: false });\n\t}\n\n\tget campaign() {\n\t\treturn getString(this, 'campaign');\n\t}\n\n\tset campaign(val) {\n\t\tsetString(this, 'campaign', val);\n\t}\n\n\tget content() {\n\t\treturn getString(this, 'content');\n\t}\n\n\tset content(val) {\n\t\tsetString(this, 'content', val);\n\t}\n\n\tget medium() {\n\t\treturn getString(this, 'medium', { fallback: 'referral' });\n\t}\n\n\tset medium(val) {\n\t\tsetString(this, 'medium', val);\n\t}\n\n\tget source() {\n\t\treturn getString(this, 'source');\n\t}\n\n\tset source(val) {\n\t\tsetString(this, 'source', val);\n\t}\n\n\tget term() {\n\t\treturn getString(this, 'term');\n\t}\n\n\tset term(val) {\n\t\tsetString(this, 'term', val);\n\t}\n\n\tgetUrl() {\n\t\tif (this.hasAttribute('url')) {\n\t\t\tconst { url, source, medium, term, content, campaign } = this;\n\t\t\tconst uri = new setUTMParams(url, { source, medium, term, content, campaign });\n\n\t\t\tswitch(url.protocol) {\n\t\t\t\tcase 'http:':\n\t\t\t\tcase 'https:':\n\t\t\t\t\treturn uri.href;\n\n\t\t\t\tcase 'mailto:':\n\t\t\t\tcase 'tel:':\n\t\t\t\tcase 'geo:':\n\t\t\t\t\treturn `${uri.protocol}${uri.pathname}`;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new DOMException(`Unsupported protocol \"${uri.protocol}\"`);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync toFile({ name = 'ad.krvad', signal, priority } = {}) {\n\t\treturn scheduler.postTask(() => {\n\t\t\tconst data = JSON.stringify(this, null, 4);\n\t\t\treturn new File([data], name, { type: HTMLKRVAdElement.CONTENT_TYPE });\n\t\t}, { signal, priority });\n\t}\n\n\tasync downloadFile({ name = 'ad.krvad', signal, priority } = {}) {\n\t\tconst file = await this.toFile({ name, signal, priority });\n\t\tawait save(file);\n\t}\n\n\tstatic get observedAttributes() {\n\t\treturn [\n\t\t\t'background',\n\t\t\t'border',\n\t\t\t'borderwidth',\n\t\t\t'color',\n\t\t\t'linkcolor',\n\t\t\t'media',\n\t\t\t'url',\n\t\t\t'source',\n\t\t\t'term',\n\t\t\t'content',\n\t\t\t'campaign',\n\t\t\t'medium',\n\t\t];\n\t}\n\n\tstatic fromJSONObject(data) {\n\t\treturn new HTMLKRVAdElement(data);\n\t}\n\n\tstatic async fromFile(file) {\n\t\tif (! (file instanceof File)) {\n\t\t\tthrow new Error('Expected instance of `File`');\n\t\t} else if (! file.name.endsWith('.krvad')) {\n\t\t\tthrow new Error(`${file.name} is not a KRV Ad file`);\n\t\t} else {\n\t\t\tconst data = JSON.parse(await file.text());\n\t\t\treturn HTMLKRVAdElement.fromJSONObject(data);\n\t\t}\n\t}\n\n\tstatic async openFile() {\n\t\tconst [file] = await open({ accept: [\n\t\t\tHTMLKRVAdElement.FILE_EXTENSION,\n\t\t\tHTMLKRVAdElement.CONTENT_TYPE,\n\t\t] });\n\t\treturn await HTMLKRVAdElement.fromFile(file);\n\t}\n\n\tstatic get CONTENT_TYPE() {\n\t\treturn 'application/krv-ad+json';\n\t}\n\n\tstatic get FILE_EXTENSION() {\n\t\treturn '.krvad';\n\t}\n\n\tstatic get VERSION() {\n\t\treturn '1.0.0';\n\t}\n}\n\nregisterCustomElement('krv-ad', HTMLKRVAdElement);\n","/**\n * @copyright 2023 Chris Zuber <admin@kernvalley.us>\n */\nimport { getDeferred, lock } from './promises.js';\nimport { createElement, createInput } from './elements.js';\n\nexport async function save(file, { signal } = {}) {\n\tif (signal instanceof EventTarget && signal.aborted) {\n\t\tthrow signal.reason;\n\t} else if (file instanceof File) {\n\t\tconst link = document.createElement('a');\n\t\tconst url = URL.createObjectURL(file);\n\n\t\tlink.href = url;\n\t\tlink.download = file.name;\n\t\tlink.hidden = true;\n\n\t\tlink.addEventListener('click', ({ target }) => {\n\t\t\trequestIdleCallback(() => {\n\t\t\t\tURL.revokeObjectURL(target.href);\n\t\t\t\ttarget.remove();\n\t\t\t});\n\t\t}, { passive: true, capture: true, once: true, signal });\n\n\t\tlink.click();\n\t} else {\n\t\tthrow new TypeError('Not a file');\n\t}\n}\n\nexport async function open({\n\taccept = null,\n\tmultiple = false,\n\tdirectory = false,\n\tdescription = 'Select file(s)',\n\tsignal,\n} = {}) {\n\tif (signal instanceof AbortSignal && signal.aborted) {\n\t\tthrow signal.reason || new DOMException('Operation aborted.');\n\t} else {\n\t\treturn await lock('file-picker', async () => {\n\t\t\tconst { resolve, reject, promise } = getDeferred({ signal });\n\n\t\t\tif (! (signal instanceof AbortSignal && signal.aborted)) {\n\t\t\t\tconst uuid = crypto.randomUUID();\n\t\t\t\tconst dialog = createElement('dialog', {\n\t\t\t\t\t'children': [\n\t\t\t\t\t\tcreateElement('form', {\n\t\t\t\t\t\t\t'name': 'file-picker',\n\t\t\t\t\t\t\t'events': {\n\t\t\t\t\t\t\t\t'submit': event => {\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\tconst dialog = event.target.closest('dialog');\n\t\t\t\t\t\t\t\t\tresolve(Array.from(new FormData(event.target).getAll('files')));\n\n\t\t\t\t\t\t\t\t\tif (dialog.animate instanceof Function) {\n\t\t\t\t\t\t\t\t\t\tdialog.animate([{\n\t\t\t\t\t\t\t\t\t\t\t'opacity': 1,\n\t\t\t\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\t\t'opacity': 0,\n\t\t\t\t\t\t\t\t\t\t}], {\n\t\t\t\t\t\t\t\t\t\t\t'duration': 400,\n\t\t\t\t\t\t\t\t\t\t\t'easing': 'ease-in-out',\n\t\t\t\t\t\t\t\t\t\t\t'fill': 'both',\n\t\t\t\t\t\t\t\t\t\t}).finished.then(() => dialog.close());\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tdialog.close();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'reset': ({ target }) => target.closest('dialog').close(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'children': [\n\t\t\t\t\t\t\t\tcreateElement('div', {\n\t\t\t\t\t\t\t\t\t'classList': ['form-group'],\n\t\t\t\t\t\t\t\t\t'children': [\n\t\t\t\t\t\t\t\t\t\tcreateElement('label', {\n\t\t\t\t\t\t\t\t\t\t\t'text': description,\n\t\t\t\t\t\t\t\t\t\t\t'for': uuid,\n\t\t\t\t\t\t\t\t\t\t\t'classList': ['input-label', 'block', 'required', 'cursor-pointer'],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\tcreateInput('files', {\n\t\t\t\t\t\t\t\t\t\t\t'id': uuid,\n\t\t\t\t\t\t\t\t\t\t\t'classList': ['input'],\n\t\t\t\t\t\t\t\t\t\t\t'type': 'file',\n\t\t\t\t\t\t\t\t\t\t\t'accept': Array.isArray(accept) ? accept.join(', ') : accept,\n\t\t\t\t\t\t\t\t\t\t\t'webkitdirectory': directory,\n\t\t\t\t\t\t\t\t\t\t\t'required': true,\n\t\t\t\t\t\t\t\t\t\t\t'multiple': multiple,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tcreateElement('div', {\n\t\t\t\t\t\t\t\t\t'classList': ['flex', 'row', 'no-wrap'],\n\t\t\t\t\t\t\t\t\t'styles': {\n\t\t\t\t\t\t\t\t\t\t'margin-top': '18px',\n\t\t\t\t\t\t\t\t\t\t'gap': '2em',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'children': [\n\t\t\t\t\t\t\t\t\t\tcreateElement('button', {\n\t\t\t\t\t\t\t\t\t\t\t'type': 'submit',\n\t\t\t\t\t\t\t\t\t\t\t'text': 'Ok',\n\t\t\t\t\t\t\t\t\t\t\t'classList': ['btn', 'btn-accept', 'grow-1'],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\tcreateElement('button', {\n\t\t\t\t\t\t\t\t\t\t\t'text': 'Cancel',\n\t\t\t\t\t\t\t\t\t\t\t'type': 'reset',\n\t\t\t\t\t\t\t\t\t\t\t'classList': ['btn', 'btn-reject', 'grow-1'],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}),\n\t\t\t\t\t],\n\t\t\t\t\t'events': {\n\t\t\t\t\t\t'close': ({ target }) => {\n\t\t\t\t\t\t\treject(new DOMException('User cancelled the file select'));\n\t\t\t\t\t\t\ttarget.remove();\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tdocument.body.append(dialog);\n\n\t\t\t\tif (dialog.animate instanceof Function) {\n\t\t\t\t\tconst anim = dialog.animate([{\n\t\t\t\t\t\t'opacity': 0.1,\n\t\t\t\t\t\t'transform': 'scale(0.3)',\n\t\t\t\t\t}, {\n\t\t\t\t\t\t'opacity': 1,\n\t\t\t\t\t\t'transform': 'none',\n\t\t\t\t\t}], {\n\t\t\t\t\t\t'duration': 400,\n\t\t\t\t\t\t'easing': 'ease-in-out',\n\t\t\t\t\t\t'fill': 'both',\n\t\t\t\t\t\t'delay': 100,\n\t\t\t\t\t});\n\n\t\t\t\t\tdialog.showModal();\n\n\t\t\t\t\tanim.finished.then(() => {\n\t\t\t\t\t\tconst input = dialog.querySelector('input[type=\"file\"]');\n\n\t\t\t\t\t\tif (input.showPicker instanceof Function) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tinput.showPicker({ signal });\n\t\t\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\t\t\tsetTimeout(() => input.click(), 200);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinput.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconst input = dialog.querySelector('input[type=\"file\"]');\n\t\t\t\t\tsetTimeout(() => input.click(), 200);\n\t\t\t\t\tdialog.showModal();\n\t\t\t\t}\n\n\t\t\t\tif (signal instanceof AbortSignal) {\n\t\t\t\t\tsignal.addEventListener('abort', () => dialog.close(), { once: true });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn await promise;\n\t\t}, { signal, mode: 'exclusive' });\n\t}\n}\n"],"names":["supported","window","customElements","Object","between","min","val","max","isNumber","num","Number","isNaN","clamp","value","Math","features","el","document","createElement","eventFeatures","nativeSignal","globalThis","AbortController","prototype","hasOwnProperty","signal","passive","capture","once","options","addEventListener","removeEventListener","err","console","error","seal","getEventFeatures","listen","target","event","callback","EventTarget","aborted","signalAborted","finally","setProp","prop","policy","tagName","property","trustedTypes","getPropertyType","toLowerCase","createScript","createScriptURL","createHTML","setAttr","attr","elementNs","attribute","getAttributeType","setAttributeNs","setAttribute","setAttributeNS","createPolicy","Function","isTrustPolicy","TrustedTypePolicy","isHTML","input","isScriptURL","URL","isTrustedType","isScript","getDefaultPolicy","defaultPolicy","readyStates","readyStateIndex","state","readyState","indexOf","async","whenReadyState","resolve","reject","promise","getDeferred","stateIndex","AbortSignal","reason","DOMException","controller","settled","abort","isAsyncFunction","what","constructor","name","deferred","Promise","throwIfAborted","callAsAsync","args","thisArg","Array","isArray","call","then","catch","queueMicrotask","TypeError","lock","mode","ifAvailable","steal","allowFallback","navigator","locks","request","locksSupported","callOnce","funcs","WeakMap","registerServiceWorker","source","scope","type","updateViaCache","serviceWorker","register","isObject","thing","is","isNullish","length","Date","getTime","has","get","retVal","apply","this","delete","set","setURLParams","forURL","params","url","baseURI","HTMLFormElement","FormData","URLSearchParams","fromEntries","entries","forEach","k","v","searchParams","toString","setUTMParams","utm_source","medium","utm_medium","content","utm_content","campaign","utm_campaign","term","utm_term","data","props","Element","p","dataset","toISOString","href","JSON","stringify","css","priority","style","setProperty","removeProperty","namespace","removeAttribute","removeAttributeNS","toggleAttribute","getInt","fallback","NaN","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","hasAttribute","parseInt","getAttribute","setInt","isInteger","getString","setString","minLength","maxLength","Infinity","pattern","RegExp","test","str","setURL","base","requirePath","pathname","documentElement","ready","update","whenDefined","body","requireInteraction","actions","title","action","close","location","reload","reloadOnUpdate","tag","context","identifier","itemtype","itemprop","itemscope","itemref","itemid","id","classList","hidden","accessKey","part","slot","children","styles","text","html","sanitizer","aria","events","animation","keyframes","duration","delay","endDelay","easing","direction","fill","iterations","iterationStart","composite","iterationComposite","pseudoElement","attrs","add","textContent","Sanitizer","setHTML","Symbol","iterator","append","filter","join","accesskey","setAria","animate","createSlot","createImage","src","alt","height","width","crossOrigin","sizes","srcset","referrerPolicy","fetchPriority","loading","decoding","role","img","isSafeInteger","origin","map","size","createInput","required","disabled","readOnly","multiple","checked","accept","list","placeholder","inputMode","step","autocomplete","symbols","resp","HTTPException","Error","Response","message","cause","super","status","statusText","defineProperty","configurable","writable","enumerable","json","bodyUsed","headers","ok","redirected","toJSON","handleResponse","handleError","fetch","opts","Request","race","errorMessage","getHTTPCSP","method","directives","trim","split","directive","key","rest","getMetaCSP","meta","head","querySelector","HTMLMetaElement","getLink","link","timeout","HTMLLinkElement","integrity","credentials","Headers","cache","redirect","keepalive","GET","loadStylesheet","rel","media","blocking","nonce","parent","as","relList","createLink","load","any","parentELement","remove","csp","protectedData","observer","IntersectionObserver","entry","isIntersecting","unobserve","rootMargin","floor","screen","whenIntersecting","observe","currentScript","HTMLScriptElement","path","undefined","SVG","createSVGElement","stroke","pathLength","svgFill","createElementNS","prepend","node","createSVG","viewBox","label","svg","n","createPath","d","resolveURL","getURLResolver","ITEMTYPE","callIcon","overflow","createCallStartIcon","emailIcon","createMailIcon","linkIcon","createLinkExternalIcon","infoIcon","createInfoIcon","geoIcon","createMarkLocationIcon","getSlotted","shadow","getSlot","HTMLElement","assignedElements","clearSlotted","slotChange","currentTarget","updateData","log","uuid","layout","theme","endpoint","datetime","includes","hostname","endsWith","info","sendBeacon","HTMLKRVAdElement","background","border","borderWidth","callToAction","color","description","image","imageFit","imagePosition","linkColor","attachShadow","internals","attachInternals","states","ariaBusy","publisher","container","click","isTrusted","preview","matches","slotchange","cloneNode","publisherEl","replaceWith","dispatchEvent","Event","setTimeout","attributeChangedCallback","oldVal","newVal","clearTimeout","getUrl","version","VERSION","getBool","setBool","imagePostion","slotted","imgs","getURL","uri","protocol","scheduler","postTask","File","CONTENT_TYPE","file","toFile","createObjectURL","download","requestIdleCallback","revokeObjectURL","save","observedAttributes","static","parse","fromJSONObject","directory","crypto","randomUUID","dialog","submit","preventDefault","closest","from","getAll","opacity","finished","reset","for","webkitdirectory","gap","anim","transform","showModal","showPicker","open","FILE_EXTENSION","fromFile","cls","tags","every","isDefined","warn","define","registerCustomElement"],"mappings":"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"}